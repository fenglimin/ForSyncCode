{"version":3,"sources":["webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/annotation/ann-arrow.ts","webpack:///./src/app/annotation/ann-line.ts","webpack:///./src/app/annotation/ann-object.ts","webpack:///./src/app/annotation/annotation.module.ts","webpack:///./src/app/annotation/base-object/ann-base-line.ts","webpack:///./src/app/annotation/base-object/ann-base-point.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.css","webpack:///./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.html","webpack:///./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.ts","webpack:///./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.css","webpack:///./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.html","webpack:///./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.ts","webpack:///./src/app/components/common/message-box/message-box.component.css","webpack:///./src/app/components/common/message-box/message-box.component.html","webpack:///./src/app/components/common/message-box/message-box.component.ts","webpack:///./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.css","webpack:///./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.html","webpack:///./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts","webpack:///./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.css","webpack:///./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.html","webpack:///./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts","webpack:///./src/app/components/header-bar/header-bar.component.css","webpack:///./src/app/components/header-bar/header-bar.component.html","webpack:///./src/app/components/header-bar/header-bar.component.ts","webpack:///./src/app/components/viewer-shell/group-viewer/group-viewer.component.css","webpack:///./src/app/components/viewer-shell/group-viewer/group-viewer.component.html","webpack:///./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts","webpack:///./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.css","webpack:///./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.html","webpack:///./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts","webpack:///./src/app/components/viewer-shell/navigation/navigation.component.css","webpack:///./src/app/components/viewer-shell/navigation/navigation.component.html","webpack:///./src/app/components/viewer-shell/navigation/navigation.component.ts","webpack:///./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.css","webpack:///./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.html","webpack:///./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.ts","webpack:///./src/app/components/viewer-shell/viewer-shell.component.css","webpack:///./src/app/components/viewer-shell/viewer-shell.component.html","webpack:///./src/app/components/viewer-shell/viewer-shell.component.ts","webpack:///./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.css","webpack:///./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.html","webpack:///./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.ts","webpack:///./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.css","webpack:///./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.html","webpack:///./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.ts","webpack:///./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.css","webpack:///./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.html","webpack:///./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.ts","webpack:///./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.css","webpack:///./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.html","webpack:///./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.ts","webpack:///./src/app/components/worklist-shell/worklist-shell.component.css","webpack:///./src/app/components/worklist-shell/worklist-shell.component.html","webpack:///./src/app/components/worklist-shell/worklist-shell.component.ts","webpack:///./src/app/components/worklist-shell/worklist/worklist.component.css","webpack:///./src/app/components/worklist-shell/worklist/worklist.component.html","webpack:///./src/app/components/worklist-shell/worklist/worklist.component.ts","webpack:///./src/app/models/dailog-data/date-range.ts","webpack:///./src/app/models/dailog-data/image-process.ts","webpack:///./src/app/models/dropdown-button-menu-data.ts","webpack:///./src/app/models/hanging-protocol.ts","webpack:///./src/app/models/layout.ts","webpack:///./src/app/models/messageBox.ts","webpack:///./src/app/models/misc-data.ts","webpack:///./src/app/models/overlay.ts","webpack:///./src/app/models/pssi.ts","webpack:///./src/app/models/shortcut.ts","webpack:///./src/app/models/viewer-group-data.ts","webpack:///./src/app/models/viewer-image-data.ts","webpack:///./src/app/models/viewer-shell-data.ts","webpack:///./src/app/services/configuration.service.ts","webpack:///./src/app/services/database.service.ts","webpack:///./src/app/services/dialog.service.ts","webpack:///./src/app/services/dicom-image.service.ts","webpack:///./src/app/services/hanging-protocol.service.ts","webpack:///./src/app/services/image-selector.service.ts","webpack:///./src/app/services/log.service.ts","webpack:///./src/app/services/shell-navigator.service.ts","webpack:///./src/app/services/view-context.service.ts","webpack:///./src/app/services/worklist.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","﻿import { Point } from '../models/annotation';\r\nimport { MouseEventType, AnnObject } from './ann-object';\r\nimport { IAnnotationObject } from \"../interfaces/annotation-object-interface\";\r\nimport { IImageViewer } from \"../interfaces/image-viewer-interface\";\r\nimport { AnnBasePoint } from \"./base-object/ann-base-point\";\r\nimport { AnnBaseLine } from \"./base-object/ann-base-line\";\r\nimport { AnnLine } from \"./ann-line\";\r\n\r\nexport class AnnArrow extends AnnObject implements IAnnotationObject {\r\n\r\n    private annLine: AnnLine;\r\n    private annAdd: any;\r\n\r\n    constructor(parent: AnnObject, imageViewer: IImageViewer) {\r\n        super(parent, imageViewer);\r\n    } \r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Implementation of interface IAnnotationObject\r\n\r\n    onMouseEvent(mouseEventType: MouseEventType, point: Point, mouseObj: any) {\r\n\r\n        const imagePoint = AnnObject.screenToImage(point, this.image.transformMatrix);\r\n        if (mouseEventType === MouseEventType.MouseDown) {\r\n\r\n            if (this.created) {\r\n                this.onSelect(true, false);\r\n                return;\r\n            }\r\n\r\n            if (!this.annLine) {\r\n                this.annLine = new AnnLine(this, this.imageViewer);\r\n                this.annLine.onMouseEvent(mouseEventType, point, null);\r\n            } else {\r\n                this.annLine.onMouseEvent(mouseEventType, point, null);\r\n\r\n                this.created = true;\r\n\r\n                if (!this.parentObj) {\r\n                    // Parent not set, this mean it is not a child of a parentObj annotion. \r\n                    this.imageViewer.onAnnotationCreated(this);\r\n                }\r\n            }\r\n        } else if (mouseEventType === MouseEventType.MouseMove) {\r\n            if (this.annLine) {\r\n                this.annLine.onMouseEvent(mouseEventType, point, null);\r\n                if (!this.annAdd) {\r\n                    this.annAdd = jCanvaScript.rect(imagePoint.x, imagePoint.y, 100, 100, this.selectedColor).layer(this.layerId);\r\n                } else {\r\n                    this.annAdd._x = imagePoint.x;\r\n                    this.annAdd._y = imagePoint.y;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    onDrag(deltaX: number, deltaY: number) {\r\n        this.annLine.onDrag(deltaX, deltaY);\r\n    }\r\n\r\n    onSelect(selected: boolean, focused: boolean) {\r\n\r\n        console.log(\"onSelect AnnLine\");\r\n        this.selected = selected;\r\n\r\n        if (focused && !this.focusedObj) {\r\n            this.focusedObj = this.annLine;\r\n        }\r\n\r\n        this.annLine.onSelect(selected, this.focusedObj === this.annLine);\r\n\r\n        if (!this.parentObj && this.selected) {\r\n            this.imageViewer.selectAnnotation(this);\r\n        }\r\n    }\r\n\r\n    onScale() {\r\n        this.annLine.onScale();\r\n    }\r\n\r\n    onFlip(vertical: boolean) {\r\n\r\n        this.annLine.onFlip(vertical);\r\n    }\r\n\r\n    onSwitchFocus() {\r\n        this.annLine.onSwitchFocus();\r\n    }\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Private functions\r\n}","﻿import { Point } from '../models/annotation';\r\nimport { MouseEventType, AnnObject } from './ann-object';\r\nimport { IAnnotationObject } from \"../interfaces/annotation-object-interface\";\r\nimport { IImageViewer } from \"../interfaces/image-viewer-interface\";\r\nimport { AnnBasePoint } from \"./base-object/ann-base-point\";\r\nimport { AnnBaseLine } from \"./base-object/ann-base-line\";\r\n\r\nexport class AnnLine extends AnnObject implements IAnnotationObject{\r\n    \r\n    private annLine: AnnBaseLine;\r\n    private annStartPoint: AnnBasePoint;\r\n    private annEndPoint: AnnBasePoint;\r\n\r\n    constructor(parentObj: AnnObject, imageViewer: IImageViewer) {\r\n        super(parentObj, imageViewer);\r\n    }    \r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Implementation of interface IAnnotationObject\r\n\r\n    onMouseEvent(mouseEventType: MouseEventType, point: Point, mouseObj: any) {\r\n\r\n        point = AnnObject.screenToImage(point, this.image.transformMatrix);\r\n        if (mouseEventType === MouseEventType.MouseDown) {\r\n\r\n            if (this.created) {\r\n                this.onSelect(true, false);\r\n                return;\r\n            }\r\n\r\n            if (!this.annStartPoint) {\r\n                this.annStartPoint = new AnnBasePoint(this, point, this.imageViewer);\r\n            } else {\r\n\r\n                this.annStartPoint.onDrawEnded();\r\n                this.annEndPoint.onDrawEnded();\r\n                this.annLine.onDrawEnded();\r\n\r\n                this.focusedObj = this.annEndPoint;\r\n                this.created = true;\r\n\r\n                if (!this.parentObj) {\r\n                    // Parent not set, this mean it is not a child of a parentObj annotion. \r\n                    this.imageViewer.onAnnotationCreated(this);\r\n                }\r\n                \r\n            }\r\n        } else if (mouseEventType === MouseEventType.MouseMove) {\r\n            if (this.annStartPoint) {\r\n                if (this.annLine) {\r\n                    this.annLine.moveEndTo(point);\r\n                    this.annEndPoint.moveTo(point);\r\n                } else {\r\n                    this.annEndPoint = new AnnBasePoint(this, point, this.imageViewer);\r\n                    this.annLine = new AnnBaseLine(this, this.annStartPoint.getPosition(), point, this.imageViewer);\r\n\r\n                    // Make sure the start point is on the top the line So that we can easily select it for moving\r\n                    if (this.annStartPoint.jcCenterPoint) {\r\n                        this.annStartPoint.jcCenterPoint.up();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    onDrag(deltaX: number, deltaY: number) {\r\n        if (this.focusedObj === this.annStartPoint) {\r\n            this.onStartPointDragged(deltaX, deltaY);\r\n        } else if (this.focusedObj === this.annEndPoint) {\r\n            this.onEndPointDragged(deltaX, deltaY);\r\n        }else {\r\n            this.onLineDragged(deltaX, deltaY);\r\n        }\r\n    }\r\n\r\n    onSelect(selected: boolean, focused: boolean) {\r\n\r\n        console.log(\"onSelect AnnLine\");\r\n        this.selected = selected;\r\n\r\n        if (focused && !this.focusedObj) {\r\n            this.focusedObj = this.annLine;\r\n        }\r\n\r\n        this.annStartPoint.onSelect(selected, this.focusedObj === this.annStartPoint);\r\n        this.annEndPoint.onSelect(selected, this.focusedObj === this.annEndPoint);\r\n        this.annLine.onSelect(selected, this.focusedObj === this.annLine);\r\n\r\n        if (!this.parentObj && this.selected) {\r\n            this.imageViewer.selectAnnotation(this);\r\n        }\r\n    }\r\n\r\n    onScale() {\r\n        this.annLine.onScale();\r\n        this.annStartPoint.onScale();\r\n        this.annEndPoint.onScale();\r\n    }\r\n\r\n    onFlip(vertical: boolean) {\r\n\r\n        this.annLine.onFlip(vertical);\r\n        this.annStartPoint.onFlip(vertical);\r\n        this.annEndPoint.onFlip(vertical);\r\n    }\r\n\r\n    onSwitchFocus() {\r\n         if (!this.focusedObj || this.focusedObj === this.annLine) {\r\n             this.onChildSelected(this.annStartPoint);\r\n         }else if (this.focusedObj === this.annStartPoint) {\r\n             this.onChildSelected(this.annEndPoint);\r\n         } else {\r\n             this.onChildSelected(this.annLine);\r\n        }\r\n    }\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Private functions\r\n\r\n    private onStartPointDragged(deltaX: number, deltaY: number) {\r\n        this.annStartPoint.onTranslate(deltaX, deltaY);\r\n        const point = this.annStartPoint.getPosition();\r\n        this.annLine.moveStartTo(point);\r\n    }\r\n\r\n    private onEndPointDragged(deltaX: number, deltaY: number) {\r\n        this.annEndPoint.onTranslate(deltaX, deltaY);\r\n        const point = this.annEndPoint.getPosition();\r\n        this.annLine.moveEndTo(point);\r\n    }\r\n\r\n    private onLineDragged(deltaX: number, deltaY: number) {\r\n        this.annStartPoint.onTranslate(deltaX, deltaY);\r\n        this.annLine.onTranslate(deltaX, deltaY);\r\n        this.annEndPoint.onTranslate(deltaX, deltaY);\r\n    }\r\n}","import { Point } from '../models/annotation';\r\nimport { Image } from \"../models/pssi\";\r\nimport { IImageViewer } from \"../interfaces/image-viewer-interface\";\r\nimport { IAnnotationObject } from \"../interfaces/annotation-object-interface\";\r\nimport { ViewContext, ViewContextEnum } from \"../services/view-context.service\"\r\n\r\nexport enum MouseEventType {\r\n    Click= 1,\r\n    MouseDown= 2,\r\n    MouseMove= 3,\r\n    MouseUp= 4,\r\n    MouseOver= 5,\r\n    MouseOut= 6,\r\n    RightClick= 7,\r\n    DblClick= 8,\r\n    MouseWheel= 9\r\n}\r\n\r\nexport enum StepEnum {\r\n    Step1= 1,\r\n    Step2= 2,\r\n    Step3= 3,\r\n    Step4= 4,\r\n    Step5= 5\r\n}\r\n\r\nexport class Colors {\r\n    static white = \"#ffffff\";\r\n    static red = \"#ff0000\";\r\n    static yellow = \"#ffff00\";\r\n    static green = \"#00FF00\";\r\n    static blue = \"#0000FF\";\r\n};\r\n\r\nexport abstract class AnnObject {\r\n    protected created: boolean;\r\n    protected selected: boolean;\r\n    protected dragging: boolean;\r\n\r\n    protected selectedColor = \"#F90\";\r\n    protected defaultColor = \"#FFF\";\r\n\r\n    protected image: Image;\r\n    protected layerId: string; \r\n    protected canvas: string;\r\n\r\n    protected minLineWidth = 0.3;\r\n    protected minPointRadius = 2;\r\n\r\n    protected lineWidth: number;\r\n    protected circleRadius: number;\r\n\r\n    protected oldCursor: any;\r\n\r\n    protected imageViewer: IImageViewer;\r\n\r\n    protected parentObj: AnnObject;\r\n    protected focusedObj: AnnObject;\r\n\r\n    constructor(parentObj: AnnObject, imageViewer: IImageViewer) {\r\n\r\n        this.parentObj = parentObj;\r\n        this.imageViewer = imageViewer;\r\n        this.image = imageViewer.getImage();\r\n        this.layerId = imageViewer.getAnnotationLayerId();\r\n        this.canvas = imageViewer.getCanvas();\r\n\r\n        this.created = false;\r\n        this.selected = false;\r\n        this.dragging = false;\r\n\r\n        this.lineWidth = this.getLineWidth();\r\n        this.circleRadius = this.getPointRadius();\r\n    }\r\n\r\n    isCreated() {\r\n        return this.created;\r\n    }\r\n\r\n    isSelected(): boolean {\r\n        return this.selected;\r\n    }\r\n\r\n    onChildSelected(selectedObj: AnnObject) {\r\n\r\n        this.focusedObj = selectedObj;\r\n\r\n        if (this.parentObj) {\r\n            // If have parent, let parent manage the select status\r\n            this.parentObj.onChildSelected(this);\r\n        } else {\r\n            this.onSelect(true, true);\r\n        }\r\n    }\r\n\r\n    onChildDragged(draggedObj: any, deltaX: number, deltaY: number) {\r\n\r\n        this.focusedObj = draggedObj;\r\n\r\n        if (this.parentObj) {\r\n            // If have parent, let parent manage the drag status\r\n            this.parentObj.onChildDragged(this, deltaX, deltaY);\r\n        } else {\r\n            this.onDrag(deltaX, deltaY);\r\n        }\r\n    }\r\n\r\n    onDeleteChildren() {\r\n        const properties = Object.getOwnPropertyNames(this);\r\n        properties.forEach(prop => {\r\n            let obj = this[prop];\r\n            if (obj instanceof AnnObject && obj !== this.parentObj) {\r\n                const annObj = obj as AnnObject;\r\n                annObj.onDeleteChildren();\r\n                this[prop] = undefined;\r\n            } else if (obj instanceof Array) {\r\n                obj.forEach(item => {\r\n\r\n                    if (item instanceof AnnObject && item !== this.parentObj) {\r\n                        const annObj = item as AnnObject;\r\n                        annObj.onDeleteChildren();\r\n                    }\r\n\r\n                    obj = [];\r\n                });\r\n            }else if ( AnnObject.isJcanvasObject(obj) ) {\r\n                obj.del();\r\n                this[prop] = undefined;\r\n            }\r\n        });\r\n    }\r\n\r\n    onKeyDown(keyEvent: any): void {\r\n\r\n        if (!this.focusedObj) return;\r\n\r\n        let focusedBottomObj = this.focusedObj;\r\n        while (focusedBottomObj.focusedObj) {\r\n            focusedBottomObj = focusedBottomObj.focusedObj;\r\n        }\r\n\r\n        // Move 5 screen point by default, or move 1 screen point if ctrl key is pressed\r\n        const step = keyEvent.ctrlKey ? 1 : 5;\r\n\r\n        const posImageOld = this.focusedObj.getPosition();\r\n        let posScreen = AnnObject.imageToScreen(posImageOld, this.image.transformMatrix);\r\n\r\n        if (keyEvent.code === \"ArrowUp\") {\r\n            posScreen.y -= step;\r\n        } else if (keyEvent.code === \"ArrowDown\") {\r\n            posScreen.y += step;\r\n        } else if (keyEvent.code === \"ArrowLeft\") {\r\n            posScreen.x -= step;\r\n        } else if (keyEvent.code === \"ArrowRight\") {\r\n            posScreen.x += step;\r\n        }\r\n\r\n        const posImageNew = AnnObject.screenToImage(posScreen, this.image.transformMatrix);\r\n\r\n        focusedBottomObj.parentObj.onChildDragged(focusedBottomObj, posImageNew.x - posImageOld.x, posImageNew.y - posImageOld.y);\r\n    }\r\n\r\n    static screenToImage(point: any, transform: any) {\r\n        const x = point.x;\r\n        const y = point.y;\r\n        const imgPt = [0, 0, 1];\r\n\r\n        const a = x;\r\n        const b = y;\r\n        const n1 = transform[0][0];\r\n        const n2 = transform[0][1];\r\n        const n3 = transform[0][2];\r\n        const n4 = transform[1][0];\r\n        const n5 = transform[1][1];\r\n        const n6 = transform[1][2];\r\n\r\n        let t = a * n4 - n3 * n4 - b * n1 + n1 * n6;\r\n        const t2 = n2 * n4 - n1 * n5;\r\n\r\n        imgPt[1] = t / t2;\r\n\r\n        t = b * n2 - n2 * n6 - a * n5 + n3 * n5;\r\n        imgPt[0] = t / t2;\r\n\r\n        return {\r\n            x: imgPt[0],\r\n            y: imgPt[1]\r\n        };\r\n    }\r\n\r\n    static imageToScreen(point: any, transform: any) {\r\n        const x = point.x;\r\n        const y = point.y;\r\n        const imgPt = [x, y, 1];\r\n        const screenPt = [0, 0, 1];\r\n\r\n        screenPt[0] = transform[0][0] * imgPt[0] + transform[0][1] * imgPt[1] + transform[0][2] * imgPt[2];\r\n        screenPt[1] = transform[1][0] * imgPt[0] + transform[1][1] * imgPt[1] + transform[1][2] * imgPt[2];\r\n\r\n        return {\r\n            x: screenPt[0],\r\n            y: screenPt[1]\r\n        };\r\n    }\r\n\r\n    static isJcanvasObject(obj:any):boolean {\r\n        if (!obj) {\r\n            return false;\r\n        }\r\n\r\n        if (obj.optns) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    static countDistance(point1: any, point2: any): number {\r\n        let value = Math.pow((point1.x - point2.x), 2) + Math.pow((point1.y - point2.y), 2);\r\n        value = Math.sqrt(value);\r\n\r\n        return value;\r\n    }\r\n\r\n    \r\n    getLineWidth(): number {\r\n        let lineWidth = 1 / this.image.getScaleValue();\r\n        if (lineWidth < this.minLineWidth) {\r\n            lineWidth = this.minLineWidth;\r\n        }\r\n\r\n        return lineWidth;\r\n    }\r\n\r\n    getPointRadius(): number {\r\n        let circleRadius = 3 / this.image.getScaleValue();\r\n        if (circleRadius < this.minPointRadius) {\r\n            circleRadius = this.minPointRadius;\r\n        }\r\n\r\n        return circleRadius;\r\n    }\r\n\r\n    protected setChildDraggable(parentObj: any, child: any, draggable: boolean) {\r\n\r\n        child.draggable({\r\n            disabled: !draggable,\r\n            start: arg => {\r\n                child._lastPos = {};\r\n\r\n            },\r\n            stop: arg => {\r\n                child._lastPos = {};\r\n                if (this.imageViewer.getContext().action === ViewContextEnum.SelectAnn) {\r\n                    parentObj.dragging = false;\r\n                    parentObj.canvas.style.cursor = parentObj.oldCursor;\r\n                }\r\n            },\r\n            drag: arg => {\r\n\r\n                if (this.imageViewer.getContext().action === ViewContextEnum.SelectAnn) {\r\n                    const point = AnnObject.screenToImage({ x: arg.x, y: arg.y }, parentObj.image.transformMatrix);\r\n\r\n                    parentObj.dragging = true;\r\n\r\n                    if (typeof (child._lastPos.x) != \"undefined\") {\r\n                        const deltaX = point.x - child._lastPos.x;\r\n                        const deltaY = point.y - child._lastPos.y;\r\n\r\n                        //child._x += deltaX;\r\n                        //child._y += deltaY;\r\n\r\n                        //if (onDrag) {\r\n                        //    onDrag.call(parentObj, child, deltaX, deltaY);\r\n                        //}\r\n\r\n                        if (parentObj.onChildDragged) {\r\n                            parentObj.onChildDragged(child, deltaX, deltaY);\r\n                        }\r\n                    }\r\n\r\n                    child._lastPos = point;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    protected setChildMouseEvent(parentObj: any, child: any) {\r\n\r\n        child._onmouseover = arg => {\r\n            if (parentObj.needResponseToChildMouseEvent()) {\r\n                parentObj.onMouseEvent(MouseEventType.MouseOver, arg);\r\n                parentObj.oldCursor = parentObj.canvas.style.cursor;\r\n                parentObj.canvas.style.cursor = child.mouseStyle;\r\n            }\r\n        };\r\n\r\n        child._onmouseout = arg => {\r\n            if (parentObj.needResponseToChildMouseEvent()) {\r\n                parentObj.onMouseEvent(MouseEventType.MouseOut, arg);\r\n                parentObj.canvas.style.cursor = parentObj.oldCursor;\r\n            }\r\n        };\r\n\r\n        child._onmousedown = arg => {\r\n            if (parentObj.needResponseToChildMouseEvent()) {\r\n                parentObj.onMouseEvent(MouseEventType.MouseDown, arg, child);\r\n            }\r\n\r\n            arg.event.cancelBubble = true;\r\n            arg.event.stopPropagation();\r\n            arg.event.stopImmediatePropagation();\r\n            arg.event.preventDefault();\r\n\r\n            // return false to make sure no other jc object's mouse event will be called\r\n            return false;\r\n        };\r\n    }\r\n\r\n    protected needResponseToChildMouseEvent(): boolean {\r\n        return !this.dragging && this.imageViewer.getContext().action === ViewContextEnum.SelectAnn;\r\n    }\r\n\r\n    protected getPosition(): Point {\r\n        return { x: 0, y: 0 }\r\n    }\r\n\r\n    onSelect(selected: boolean, focused: boolean) {\r\n    }\r\n\r\n    onDrag(deltaX: number, deltaY: number) {\r\n    }\r\n\r\n\r\n    onDrawEnded() {\r\n    }\r\n}\r\n\r\n/*\r\nexport abstract class AnnObject {\r\n\r\n    protected viewer: any; //the parentObj compoent which hold this object\r\n    protected created: boolean;\r\n    protected isInEdit: boolean; //is current object selected and in edit status\r\n    protected parentObj: AnnObject;\r\n\r\n    protected defaultCircleRadius = 5;\r\n    protected minCircleRadius = 2;\r\n    protected minLineWidth = 0.3;\r\n\r\n    protected selectedLevel = 100;\r\n    protected defaultLevel = 1;\r\n    protected selectedColor = Colors.red;\r\n    protected defaultColor = Colors.white;\r\n\r\n    constructor(protected viewContext: ViewContextService) {\r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n    static countAngle(point1: any, point2: any): number {\r\n        const dPixSpacingX = 1.0;\r\n        const dPixSpacingY = 1.0;\r\n\r\n        const dx = (point2.x - point1.x) * dPixSpacingX;\r\n        const dy = (point1.y - point2.y) * dPixSpacingY;\r\n\r\n        return (180.0 / Math.PI) * Math.atan2(dy, dx);\r\n    }\r\n\r\n    abstract startCreate(viewer: any, callback: any, param: any): void;\r\n\r\n    hasToolTip(): boolean {\r\n        return false;\r\n    }\r\n\r\n    del() {\r\n    }\r\n\r\n    select(select: boolean) {\r\n    }\r\n\r\n    //set child jcObject's common mouse event hander, etc.\r\n    protected setChildMouseEvent(jcObj) {\r\n        var dv = this.viewer;\r\n        var annObj = this;\r\n        var curContext = this.viewContext.curContext;\r\n\r\n        jcObj.mouseover(function(arg) {\r\n            if (curContext.action == ViewContextEnum.Select) {\r\n                if (!this.mouseStyle) {\r\n                    this.mouseStyle = \"pointer\";\r\n                }\r\n                dv.canvas.style.cursor = this.mouseStyle;\r\n            }\r\n        });\r\n\r\n        jcObj.mouseout(function() {\r\n            if (curContext.action == ViewContextEnum.Select)\r\n                dv.canvas.style.cursor = \"auto\";\r\n        });\r\n\r\n        jcObj.mousedown(function(arg) {\r\n            //console.log('jcObj mousedown');\r\n            if (curContext.action == ViewContextEnum.Select) {\r\n                const curObj = annObj.parentObj || annObj;\r\n                if (dv.curSelectObj !== curObj) {\r\n                    dv.selectObject(curObj);\r\n                }\r\n                arg.event.cancelBubble = true;\r\n            }\r\n        });\r\n\r\n        jcObj.mouseup(function(arg) {\r\n            //console.log('jcObj mouseup');\r\n        });\r\n\r\n        jcObj.click(function(arg) {\r\n            //console.log('jcObj onClick');\r\n        });\r\n    }\r\n\r\n    protected setChildDraggable(jcObj, draggable, onDrag) {\r\n        if (!jcObj) {\r\n            return;\r\n        }\r\n\r\n        var dv = this.viewer;\r\n        const canvas = dv.canvas;\r\n        var annObj = this;\r\n\r\n        jcObj.draggable({\r\n            disabled: !draggable,\r\n            start: function(arg) {\r\n                this._lastPos = {};\r\n                if (this.mouseStyle) {\r\n                    dv.canvas.style.cursor = this.mouseStyle;\r\n                }\r\n            },\r\n            stop: function(arg) {\r\n                this._lastPos = {};\r\n                if (this.mouseStyle) {\r\n                    dv.canvas.style.cursor = \"auto\";\r\n                }\r\n            },\r\n            drag: function(arg) {\r\n                //ptImg is mouse position, not the object's start position\r\n                //don't translate any annObject, always keep annObject's transform as clear.\r\n                const transTmp = dv.imgLayer.transform();\r\n                const ptImg = AnnObject.screenToImage(arg, transTmp);\r\n\r\n                if (typeof (this._lastPos.x) != \"undefined\") {\r\n                    const deltaX = ptImg.x - this._lastPos.x;\r\n                    const deltaY = ptImg.y - this._lastPos.y;\r\n\r\n                    this._x += deltaX;\r\n                    this._y += deltaY;\r\n\r\n                    if (onDrag) {\r\n                        onDrag.call(annObj, deltaX, deltaY);\r\n                    }\r\n                }\r\n\r\n                this._lastPos = {\r\n                    x: ptImg.x,\r\n                    y: ptImg.y\r\n                };\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    protected isChildJCObject(obj) {\r\n        if (!obj) {\r\n            return false;\r\n        }\r\n\r\n        if (obj.optns) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    protected translateChild(child, deltaX, deltaY) {\r\n        if (child) {\r\n            child._x += deltaX;\r\n            child._y += deltaY;\r\n        }\r\n    }\r\n\r\n    protected deleteChild() {\r\n        var thisObj = this;\r\n        const propertys = Object.getOwnPropertyNames(this);\r\n        propertys.forEach(function(prop) {\r\n            const obj = thisObj[prop];\r\n            if ((obj instanceof AnnObject && obj != thisObj.parentObj) || thisObj.isChildJCObject(obj)) {\r\n                obj.del();\r\n                thisObj[prop] = undefined;\r\n            }\r\n        });\r\n    }\r\n\r\n    protected selectChild(select: boolean) {\r\n        var thisObj = this;\r\n        const propertys = Object.getOwnPropertyNames(this);\r\n        propertys.forEach(function(prop) {\r\n            const obj = thisObj[prop];\r\n            if (obj instanceof AnnObject && obj != thisObj.parentObj) {\r\n                obj.select(select);\r\n            } else if (thisObj.isChildJCObject(obj)) {\r\n                obj.color(select ? thisObj.selectedColor : thisObj.defaultColor);\r\n                obj.level(select ? thisObj.selectedLevel : thisObj.defaultLevel);\r\n            }\r\n        });\r\n    }\r\n}\r\n*/","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\n\r\n@NgModule({\r\n    declarations: [],\r\n    imports: [\r\n        CommonModule\r\n    ]\r\n})\r\nexport class AnnotationModule {\r\n}\r\n","﻿import { Point } from '../../models/annotation';\r\nimport { MouseEventType, AnnObject } from '../ann-object';\r\nimport { IImageViewer } from \"../../interfaces/image-viewer-interface\";\r\n\r\nexport class AnnBaseLine extends AnnObject {\r\n\r\n    jcLine: any;\r\n\r\n    constructor(parentObj: AnnObject, posStart: Point, posEnd: Point, imageViewer: IImageViewer) {\r\n\r\n        super(parentObj, imageViewer);\r\n\r\n        this.jcLine = jCanvaScript.line([[posStart.x, posStart.y], [posEnd.x, posEnd.y]], this.selectedColor).layer(this.layerId);\r\n        this.jcLine._lineWidth = this.lineWidth;\r\n        this.jcLine.mouseStyle = \"move\";\r\n        this.jcLine.parentObj = this;\r\n    }\r\n\r\n    onDrag(deltaX: number, deltaY: number) {\r\n       this.onTranslate(deltaX, deltaY);\r\n    }\r\n\r\n    onSelect(selected: boolean, focused: boolean) {\r\n\r\n        console.log(\"onSelect Line \" + selected + \" \" + focused);\r\n\r\n        this.selected = selected;\r\n        const color = selected ? this.selectedColor : this.defaultColor;\r\n\r\n        if (focused && !this.focusedObj) {\r\n            this.focusedObj = this.jcLine;\r\n        }\r\n\r\n        this.jcLine.color(color);\r\n    }\r\n\r\n\r\n    onDrawEnded() {\r\n        this.setChildDraggable(this, this.jcLine, true);\r\n        this.setChildMouseEvent(this, this.jcLine);\r\n    }\r\n\r\n    onMouseEvent(mouseEventType: MouseEventType, point: Point, mouseObj: any) {\r\n        if (mouseEventType === MouseEventType.MouseDown) {\r\n            console.log(\"onMouseEvent Line\");\r\n            this.onChildSelected(mouseObj);\r\n        }\r\n    }\r\n\r\n    onScale() {\r\n        this.jcLine._lineWidth = this.parentObj.getLineWidth();\r\n    }\r\n\r\n    onFlip(vertical: boolean) {\r\n\r\n        if (vertical) {\r\n            this.jcLine._y0 = this.image.height() - this.jcLine._y0;\r\n            this.jcLine._y1 = this.image.height() - this.jcLine._y1;\r\n        } else {\r\n            this.jcLine._x0 = this.image.width() - this.jcLine._x0;\r\n            this.jcLine._x1 = this.image.width() - this.jcLine._x1;\r\n        }\r\n\r\n    }\r\n\r\n    onTranslate(deltaX: number, deltaY: number) {\r\n        this.jcLine._x0 += deltaX;\r\n        this.jcLine._y0 += deltaY;\r\n\r\n        this.jcLine._x1 += deltaX;\r\n        this.jcLine._y1 += deltaY;\r\n    }\r\n\r\n    //setRadius(radius: number) {\r\n    //}\r\n\r\n    moveStartTo(point: Point) {\r\n        this.jcLine._x0 = point.x;\r\n        this.jcLine._y0 = point.y;\r\n    }\r\n\r\n\r\n    moveEndTo(point: Point) {\r\n        this.jcLine._x1 = point.x;\r\n        this.jcLine._y1 = point.y;\r\n    }\r\n\r\n    getPosition(): Point {\r\n        return { x: this.jcLine._x0, y: this.jcLine._y0 }\r\n    }\r\n}\r\n","﻿import { Point } from '../../models/annotation';\r\nimport { MouseEventType, AnnObject } from '../ann-object';\r\nimport { IImageViewer } from \"../../interfaces/image-viewer-interface\";\r\n\r\n\r\nexport class AnnBasePoint extends AnnObject {\r\n\r\n    jcCenterPoint: any;\r\n    jcOuterCircle: any;\r\n\r\n    constructor(parentObj: AnnObject, position: Point, imageViewer: IImageViewer) {\r\n\r\n        super(parentObj, imageViewer);\r\n\r\n        this.jcOuterCircle = jCanvaScript.circle(position.x, position.y, this.circleRadius * 2, this.selectedColor, false).layer(this.layerId);\r\n        this.jcOuterCircle._lineWidth = this.lineWidth;\r\n        this.jcOuterCircle.mouseStyle = \"crosshair\";\r\n        this.jcOuterCircle.visible(false);\r\n        this.jcOuterCircle.parentObj = this;\r\n\r\n        this.jcCenterPoint = jCanvaScript.circle(position.x, position.y, this.circleRadius, this.selectedColor, true).layer(this.layerId);\r\n        this.jcCenterPoint.mouseStyle = \"crosshair\";\r\n        this.jcCenterPoint.parentObj = this;\r\n    }\r\n\r\n    onDrag(deltaX: number, deltaY: number) {\r\n        this.onTranslate(deltaX, deltaY);\r\n    }\r\n\r\n    onSelect(selected: boolean, focused: boolean) {\r\n\r\n        console.log(\"onSelect Point \" + selected + \" \" + focused);\r\n\r\n        this.selected = selected;\r\n        const color = selected ? this.selectedColor : this.defaultColor;\r\n\r\n        if (focused && !this.focusedObj) {\r\n            this.focusedObj = this.jcCenterPoint;\r\n        }\r\n\r\n        this.jcCenterPoint.visible(selected);\r\n        this.jcCenterPoint.color(color);\r\n\r\n        this.jcOuterCircle.visible(selected && focused);\r\n    }\r\n\r\n    onDrawEnded() {\r\n        this.setChildDraggable(this, this.jcCenterPoint, true);\r\n        this.setChildMouseEvent(this, this.jcCenterPoint);\r\n    }\r\n\r\n\r\n    onMouseEvent(mouseEventType: MouseEventType, point: Point, mouseObj: any) {\r\n\r\n        if (mouseEventType === MouseEventType.MouseDown) {\r\n            console.log(\"onMouseEvent Point\");\r\n            this.onChildSelected(mouseObj);\r\n        }\r\n    }\r\n\r\n    onScale() {\r\n        this.setRadius(this.parentObj.getPointRadius());\r\n        this.jcOuterCircle._lineWidth = this.parentObj.getLineWidth();\r\n\r\n        this.up();\r\n    }\r\n\r\n    onFlip(vertical: boolean) {\r\n\r\n        if (vertical) {\r\n            this.jcCenterPoint._y = this.image.height() - this.jcCenterPoint._y;\r\n            this.jcOuterCircle._y = this.jcCenterPoint._y;\r\n        } else {\r\n            this.jcCenterPoint._x = this.image.width() - this.jcCenterPoint._x;\r\n            this.jcOuterCircle._x = this.jcCenterPoint._x;\r\n        }\r\n\r\n    }\r\n\r\n    onTranslate(deltaX: number, deltaY: number) {\r\n        this.jcCenterPoint._x += deltaX;\r\n        this.jcCenterPoint._y += deltaY;\r\n\r\n        this.jcOuterCircle._x += deltaX;\r\n        this.jcOuterCircle._y += deltaY;\r\n    }\r\n\r\n    setRadius(radius: number) {\r\n        this.jcCenterPoint._radius = radius;\r\n        this.jcOuterCircle._radius = radius * 2;\r\n    }\r\n\r\n    moveTo(point: Point) {\r\n        this.jcCenterPoint._x = point.x;\r\n        this.jcCenterPoint._y = point.y;\r\n\r\n        this.jcOuterCircle._x = point.x;\r\n        this.jcOuterCircle._y = point.y;\r\n    }\r\n\r\n    getPosition(): Point {\r\n        return { x: this.jcOuterCircle._x, y: this.jcOuterCircle._y }\r\n    }\r\n\r\n    up() {\r\n        if (this.jcOuterCircle) {\r\n            this.jcOuterCircle.up();\r\n        }\r\n\r\n        if (this.jcCenterPoint) {\r\n            this.jcCenterPoint.up();\r\n        }\r\n\r\n    }\r\n}","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\n\r\nimport { WorklistShellComponent } from \"./components/worklist-shell/worklist-shell.component\";\r\nimport { ViewerShellComponent } from \"./components/viewer-shell/viewer-shell.component\";\r\n\r\nconst routes: Routes = [\r\n    { path: \"\", redirectTo: \"/worklist\", pathMatch: \"full\" },\r\n    { path: \"worklist\", component: WorklistShellComponent },\r\n    { path: \"viewer\", component: ViewerShellComponent }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","module.exports = \"/*#DivTop\\r\\n{\\r\\n  width:976px;\\r\\n  margin: 0px;\\r\\n  padding: 12px 12px 12px 16px;\\r\\n  border-bottom: solid 4px #FFFFFF;\\r\\n  background-color: #000000;\\r\\n  color: #cccccc;\\r\\n  height: 20px;\\r\\n}*/\\r\\n\\r\\n/*#DivTop .navbar-fixed-top{\\r\\n  border-width: 0 0 2px 0;\\r\\n  -webkit-border-image: -webkit-linear-gradient(left, #ff9900, #5c492c) 100% 1;\\r\\n  border-color: #ff9900;\\r\\n  border-image: linear-gradient(left, #ff9900, #5c492c) 100% 1;\\r\\n  border-style: solid;\\r\\n}*/\\r\\n\\r\\n\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztFQVNFOztBQUVGOzs7Ozs7RUFNRSIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyojRGl2VG9wXHJcbntcclxuICB3aWR0aDo5NzZweDtcclxuICBtYXJnaW46IDBweDtcclxuICBwYWRkaW5nOiAxMnB4IDEycHggMTJweCAxNnB4O1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDRweCAjRkZGRkZGO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6ICNjY2NjY2M7XHJcbiAgaGVpZ2h0OiAyMHB4O1xyXG59Ki9cclxuXHJcbi8qI0RpdlRvcCAubmF2YmFyLWZpeGVkLXRvcHtcclxuICBib3JkZXItd2lkdGg6IDAgMCAycHggMDtcclxuICAtd2Via2l0LWJvcmRlci1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCwgI2ZmOTkwMCwgIzVjNDkyYykgMTAwJSAxO1xyXG4gIGJvcmRlci1jb2xvcjogI2ZmOTkwMDtcclxuICBib3JkZXItaW1hZ2U6IGxpbmVhci1ncmFkaWVudChsZWZ0LCAjZmY5OTAwLCAjNWM0OTJjKSAxMDAlIDE7XHJcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxufSovXHJcblxyXG5cclxuIl19 */\"","module.exports = \"<body id=\\\"bodyLayout\\\">\\r\\n\\r\\n<div class=\\\"navbar navbar-inverse navbar-fixed-top\\\">\\r\\n    <app-header-bar></app-header-bar>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"container body-content\\\">\\r\\n    <!--<app-worklist-shell></app-worklist-shell>-->\\r\\n    <template #shellContainer></template>\\r\\n    <!--<router-outlet></router-outlet>-->\\r\\n</div>\\r\\n\\r\\n</body>\\r\\n\\r\\n<!--<div style=\\\"text-align:center\\\">\\r\\n    <h1>\\r\\n        Welcome to {{ title }}!\\r\\n    </h1>\\r\\n    <img width=\\\"300\\\" alt=\\\"Angular Logo\\\" src=\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\\\">\\r\\n</div>\\r\\n<h2>Here are some links to help you start: </h2>\\r\\n<ul>\\r\\n    <li>\\r\\n        <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://angular.io/tutorial\\\">Tour of Heroes</a></h2>\\r\\n    </li>\\r\\n    <li>\\r\\n        <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://github.com/angular/angular-cli/wiki\\\">CLI Documentation</a></h2>\\r\\n    </li>\\r\\n    <li>\\r\\n        <h2><a target=\\\"_blank\\\" rel=\\\"noopener\\\" href=\\\"https://blog.angular.io/\\\">Angular blog</a></h2>\\r\\n    </li>\\r\\n</ul>-->\\r\\n\"","import { Component, OnInit, ViewChild, ViewContainerRef, ComponentFactoryResolver } from \"@angular/core\";\r\n\r\nimport { WorklistShellComponent } from \"./components/worklist-shell/worklist-shell.component\"\r\nimport { ViewerShellComponent } from \"./components/viewer-shell/viewer-shell.component\"\r\n\r\nimport { ShellNavigatorService } from \"./services/shell-navigator.service\";\r\nimport { Subscription } from \"rxjs\";\r\n\r\nimport { ViewerShellData } from \"./models/viewer-shell-data\";\r\nimport { ViewerGroupData } from \"./models/viewer-group-data\";\r\nimport { ViewerImageData } from \"./models/viewer-image-data\";\r\nimport { DicomImageService } from \"./services/dicom-image.service\";\r\nimport { WorklistService } from \"./services/worklist.service\";\r\nimport { LogService } from \"./services/log.service\";\r\n\r\n@Component({\r\n    selector: \"app-root\",\r\n    templateUrl: \"./app.component.html\",\r\n    styleUrls: [\"./app.component.css\"]\r\n})\r\nexport class AppComponent implements OnInit {\r\n    title = \"AngularPacsDemo\";\r\n    @ViewChild(\"shellContainer\", { read: ViewContainerRef })\r\n    container;\r\n    createComponents: Array<any> = [];\r\n\r\n    shellDataList: Array<ViewerShellData> = [];\r\n\r\n    subscriptionShellCreated: Subscription;\r\n    subscriptionShellDeleted: Subscription;\r\n\r\n    constructor(private resolver: ComponentFactoryResolver, private shellNavigatorService: ShellNavigatorService,\r\n        private dicomImageService: DicomImageService, private worklistService: WorklistService,\r\n        private logService: LogService) {\r\n        this.subscriptionShellCreated = shellNavigatorService.shellCreated$.subscribe(\r\n            viewerShellData => {\r\n                this.shellDataList.push(viewerShellData);\r\n                this.createViewerShell(viewerShellData);\r\n            });\r\n\r\n\r\n        this.subscriptionShellDeleted = shellNavigatorService.shellDeleted$.subscribe(\r\n            viewerShellData => {\r\n                this.deleteViewerShell(viewerShellData);\r\n\r\n                const index = this.shellDataList.indexOf(viewerShellData, 0);\r\n                if (index > -1) {\r\n                    this.shellDataList.splice(index, 1);\r\n                }\r\n            }\r\n        );\r\n\r\n        ViewerShellData.logService = this.logService;\r\n        ViewerGroupData.logService = this.logService;\r\n        ViewerImageData.logService = this.logService;\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.createWorklistShell();\r\n        this.initConerstone();\r\n    }\r\n\r\n    createWorklistShell() {\r\n        const componentFactory = this.resolver.resolveComponentFactory(WorklistShellComponent);\r\n        const componentRef = this.container.createComponent(componentFactory);\r\n        componentRef.instance.hideMe = false;\r\n    }\r\n\r\n    createViewerShell(viewerShellData: ViewerShellData) {\r\n\r\n        this.logService.seperator();\r\n        this.logService.info('User: Open study - ' + viewerShellData.getName());\r\n\r\n        viewerShellData.patientList.forEach(patient =>\r\n            patient.studyList.forEach(study =>\r\n                study.seriesList.forEach(series =>\r\n                    series.imageList.forEach(image =>\r\n                        this.worklistService.isUsingLocalTestData() ? image.cornerStoneImage = null :\r\n                            this.dicomImageService.getCornerStoneImage(image)))));\r\n\r\n        const componentFactory = this.resolver.resolveComponentFactory(ViewerShellComponent);\r\n        const componentRef = this.container.createComponent(componentFactory);\r\n        componentRef.instance.hideMe = false;\r\n        componentRef.instance.viewerShellData = viewerShellData;\r\n\r\n        this.createComponents.push(componentRef);\r\n    }\r\n\r\n    deleteViewerShell(viewerShellData: ViewerShellData) {\r\n        const studyCom =\r\n            this.createComponents.filter(\r\n                (value, index, array) => value.instance.viewerShellData.getId() === viewerShellData.getId());\r\n        if (studyCom.length !== 0) {\r\n            studyCom[0].destroy();\r\n        }\r\n\r\n        this.createComponents =\r\n            this.createComponents.filter(\r\n                (value, index, array) => value.instance.viewerShellData.getId() !== viewerShellData.getId());\r\n    }\r\n\r\n    private initConerstone() {\r\n        cornerstoneWADOImageLoader.external.cornerstone = cornerstone;\r\n        cornerstoneTools.external.cornerstone = cornerstone;\r\n\r\n        //var baseUrl = dicom.baseUrl;\r\n        const config = {\r\n            webWorkerPath: \"./assets/script/cornerstoneWADOImageLoaderWebWorker.js\",\r\n            taskConfiguration: {\r\n                'decodeTask': {\r\n                    codecsPath: \"./cornerstoneWADOImageLoaderCodecs.js\"\r\n                }\r\n            }\r\n        };\r\n        cornerstoneWADOImageLoader.webWorkerManager.initialize(config);\r\n    }\r\n}\r\n","import { BrowserModule } from \"@angular/platform-browser\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\n\r\nimport { AppRoutingModule } from \"./app-routing.module\";\r\nimport { AppComponent } from \"./app.component\";\r\n\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\n\r\nimport { HeaderBarComponent } from \"./components/header-bar/header-bar.component\";\r\n\r\nimport { WorklistShellComponent } from \"./components/worklist-shell/worklist-shell.component\";\r\nimport { QueryShortcutComponent } from \"./components/worklist-shell/query-shortcut/query-shortcut.component\";\r\nimport { WorklistComponent } from \"./components/worklist-shell/worklist/worklist.component\";\r\n\r\nimport { ViewerShellComponent } from \"./components/viewer-shell/viewer-shell.component\";\r\nimport { ViewerToolbarComponent } from \"./components/viewer-shell/viewer-toolbar/viewer-toolbar.component\";\r\nimport { NavigationComponent } from \"./components/viewer-shell/navigation/navigation.component\";\r\nimport { ThumbnailComponent } from \"./components/viewer-shell/navigation/thumbnail/thumbnail.component\";\r\nimport { GroupViewerComponent } from \"./components/viewer-shell/group-viewer/group-viewer.component\";\r\nimport { ImageViewerComponent } from \"./components/viewer-shell/group-viewer/image-viewer/image-viewer.component\";\r\nimport { QueryToolbarComponent } from \"./components/worklist-shell/query-toolbar/query-toolbar.component\";\r\nimport { OperateToolbarComponent } from \"./components/worklist-shell/operate-toolbar/operate-toolbar.component\";\r\nimport { MessageBoxComponent } from \"./components/common/message-box/message-box.component\";\r\nimport { DropdownButtonMenuComponent } from \"./components/common/dropdown-button-menu/dropdown-button-menu.component\";\r\nimport { DropdownButtonMenuButtonComponent } from\r\n    \"./components/common/dropdown-button-menu-button/dropdown-button-menu-button.component\";\r\n\r\nimport { ManualWlDialogComponent } from \"./components/dialog/manual-wl-dialog/manual-wl-dialog.component\";\r\n\r\nimport {\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatPaginatorModule,\r\n    MatProgressSpinnerModule,\r\n    MatSidenavModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatToolbarModule\r\n} from \"@angular/material\";\r\n\r\nimport { MatMenuModule } from \"@angular/material/menu\";\r\nimport { MatButtonModule } from \"@angular/material/button\"\r\nimport { MatIconModule } from \"@angular/material/icon\";\r\nimport { MatCardModule } from \"@angular/material/card\";\r\nimport { MatTabsModule } from \"@angular/material/tabs\";\r\n\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\nimport { MatMomentDateModule } from \"@angular/material-moment-adapter\";\r\nimport { AnnotationModule } from \"./annotation/annotation.module\";\r\nimport { SelectStudydateDialogComponent } from './components/dialog/select-studydate-dialog/select-studydate-dialog.component';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        HeaderBarComponent,\r\n        QueryShortcutComponent,\r\n        WorklistComponent,\r\n        WorklistShellComponent,\r\n        NavigationComponent,\r\n        ViewerShellComponent,\r\n        ViewerToolbarComponent,\r\n        ThumbnailComponent,\r\n        GroupViewerComponent,\r\n        ImageViewerComponent,\r\n        QueryToolbarComponent,\r\n        OperateToolbarComponent,\r\n        MessageBoxComponent,\r\n        DropdownButtonMenuComponent,\r\n        DropdownButtonMenuButtonComponent,\r\n        ManualWlDialogComponent,\r\n        SelectStudydateDialogComponent\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        BrowserAnimationsModule,\r\n        AppRoutingModule,\r\n        HttpClientModule,\r\n        FormsModule,\r\n        MatMenuModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatCardModule,\r\n        MatTabsModule,\r\n        MatSidenavModule,\r\n        MatListModule,\r\n        MatToolbarModule,\r\n        MatInputModule,\r\n        MatTableModule,\r\n        MatPaginatorModule,\r\n        MatSortModule,\r\n        MatProgressSpinnerModule,\r\n        MatDialogModule,\r\n        AppRoutingModule,\r\n        ReactiveFormsModule,\r\n        MatMomentDateModule,\r\n        AnnotationModule,\r\n        MatDatepickerModule\r\n    ],\r\n    providers: [],\r\n    bootstrap: [AppComponent],\r\n    entryComponents: [MessageBoxComponent, ManualWlDialogComponent, SelectStudydateDialogComponent]\r\n})\r\nexport class AppModule {\r\n}\r\n","module.exports = \".dropdown-button-menu-button {\\r\\n    background-color: transparent;\\r\\n    border: none;\\r\\n    height: 33px;\\r\\n    outline: none;\\r\\n    width: 33px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vZHJvcGRvd24tYnV0dG9uLW1lbnUtYnV0dG9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51LWJ1dHRvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29tbW9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51LWJ1dHRvbi9kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMzcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDMzcHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<button class=\\\"dropdown-button-menu-button\\\" [style.background-image]=\\\"backgroundUrl\\\" role=\\\"button\\\" [title]=\\\"buttonData.tip\\\" [style.margin-top]=\\\"getDefaultMarginTop()\\\"\\r\\n        (click)=\\\"onClick()\\\" (mouseover)=\\\"onMouseOver($event)\\\" (mouseout)=\\\"onMouseOut($event)\\\" (mousedown)=\\\"onMouseDown($event)\\\" (mouseup)=\\\"onMouseUp($event)\\\">\\r\\n</button>\\r\\n\"","import { Component, OnInit, Input, EventEmitter, Output } from \"@angular/core\";\r\nimport { Subscription } from \"rxjs\";\r\n\r\nimport { SelectedButtonData, ButtonStyleToken } from \"../../../models/dropdown-button-menu-data\";\r\nimport { OperationEnum, ViewContext, ViewContextService } from \"../../../services/view-context.service\";\r\nimport { ConfigurationService } from \"../../../services/configuration.service\";\r\n\r\n@Component({\r\n    selector: \"app-dropdown-button-menu-button\",\r\n    templateUrl: \"./dropdown-button-menu-button.component.html\",\r\n    styleUrls: [\"./dropdown-button-menu-button.component.css\"]\r\n})\r\nexport class DropdownButtonMenuButtonComponent implements OnInit {\r\n    buttonStyleToken: ButtonStyleToken;\r\n    baseUrl: string;\r\n\r\n    backgroundUrl: string;\r\n    isCheckStyle: boolean;\r\n    defaultStyle: string;\r\n\r\n\r\n    private subscriptionViewContextChange: Subscription;\r\n\r\n    @Output()\r\n    selected = new EventEmitter<SelectedButtonData>();\r\n    @Input()\r\n    isTopButton: boolean;\r\n    @Input()\r\n    showArrow: boolean;\r\n\r\n\r\n    private _buttonData: SelectedButtonData;\r\n\r\n    @Input()\r\n    set buttonData(value: SelectedButtonData) {\r\n        this._buttonData = value;\r\n        if (this.isTopButton && this.isCheckStyle) {\r\n            if (this._buttonData.operationData.type === OperationEnum.SetContext) {\r\n                this.defaultStyle = this.buttonStyleToken.down;\r\n            } else {\r\n                this.defaultStyle = this.buttonStyleToken.normal;\r\n            }\r\n        }\r\n        this.backgroundUrl = this.createBackgroundUrl(this.defaultStyle);\r\n    }\r\n\r\n    get buttonData() {\r\n        return this._buttonData;\r\n    }\r\n\r\n    private _isChecked: boolean;\r\n\r\n    @Input()\r\n    set isChecked(value: boolean) {\r\n        this._isChecked = value;\r\n        if (this.isCheckStyle) {\r\n            this.defaultStyle = this.getDefaultStyle();\r\n            this.backgroundUrl = this.createBackgroundUrl(this.defaultStyle);\r\n        }\r\n    }\r\n\r\n    get isChecked() {\r\n        return this._isChecked;\r\n    }\r\n\r\n    constructor(private viewContext: ViewContextService, private configurationService: ConfigurationService) {\r\n        this.buttonStyleToken = { normal: \"normal\", over: \"focus\", down: \"down\", disable: \"disable\" };\r\n        this.baseUrl = this.configurationService.getBaseUrl();\r\n\r\n        this.subscriptionViewContextChange = viewContext.viewContextChanged$.subscribe(\r\n            context => {\r\n                this.setContext(context);\r\n            });\r\n\r\n        this.defaultStyle = this.buttonStyleToken.normal;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.isCheckStyle = this.viewContext.isImageToolBarButtonCheckStyle(this.buttonData);\r\n        this.isChecked = this.viewContext.isImageToolBarButtonChecked(this.buttonData);\r\n    }\r\n\r\n    getDefaultStyle(): string {\r\n        return this.isChecked ? this.buttonStyleToken.down : this.buttonStyleToken.normal;\r\n    }\r\n\r\n    getDefaultMarginTop() {\r\n        return this.isTopButton ? \"-20px\" : \"0\";\r\n    }\r\n\r\n    createBackgroundUrl(styleToken: string): string {\r\n        const arrowToken = this.showArrow ? \"_h\" : \"\";\r\n        const backgroundUrl =\r\n            `url(${this.baseUrl}assets/img/Toolbar/${this.buttonData.name}/${styleToken}/bitmap${arrowToken}.gif)`;\r\n        return backgroundUrl;\r\n    }\r\n\r\n    onMouseOver(event) {\r\n        this.setBackgroundImage(this.buttonStyleToken.over);\r\n    }\r\n\r\n    onMouseOut(event) {\r\n        this.setBackgroundImage(this.defaultStyle);\r\n    }\r\n\r\n    onMouseDown(event) {\r\n        if (this.isCheckStyle && this.isChecked) {\r\n            this.setBackgroundImage(this.buttonStyleToken.normal);\r\n        } else {\r\n            this.setBackgroundImage(this.buttonStyleToken.down);\r\n        }\r\n    }\r\n\r\n    onMouseUp(event) {\r\n        this.setBackgroundImage(this.defaultStyle);\r\n    }\r\n\r\n    setBackgroundImage(style) {\r\n        this.backgroundUrl = this.createBackgroundUrl(style);\r\n    }\r\n\r\n    onClick() {\r\n        if (!this.isTopButton) {\r\n            this.selected.emit(this.buttonData);\r\n        }\r\n\r\n        if (this.buttonData.operationData.type === OperationEnum.SetContext) {\r\n            \r\n            if (this.buttonData.operationData.data instanceof ViewContext) {\r\n                const viewContext = this.buttonData.operationData.data as ViewContext;\r\n                this.viewContext.setContext(viewContext.action, viewContext.data);\r\n            } else {\r\n                this.viewContext.setContext(this.buttonData.operationData.data, null);\r\n            }\r\n            \r\n        } else {\r\n            this.viewContext.onOperation(this.buttonData.operationData);\r\n            if (this.isCheckStyle && this.isTopButton && !this.showArrow) {\r\n                this.isChecked = !this.isChecked;\r\n            }\r\n        }\r\n    }\r\n\r\n    setContext(viewContext) {\r\n        if (this.buttonData.operationData.type === OperationEnum.SetContext) {\r\n            \r\n            if (this.buttonData.operationData.data instanceof ViewContext) {\r\n                const myViewContext = this.buttonData.operationData.data as ViewContext;\r\n                this.isChecked = (viewContext.action === myViewContext.action && viewContext.data === myViewContext.data);\r\n            } else {\r\n                this.isChecked = (viewContext.action === this.buttonData.operationData.data);\r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n","module.exports = \"li.dropdown.open {\\r\\n    margin: -20px 0 0;\\r\\n    width: 35px;\\r\\n}\\r\\n\\r\\nli.dropdown {\\r\\n    margin: -20px 0 0;\\r\\n    width: 35px;\\r\\n}\\r\\n\\r\\n.dropdown-button-menu {\\r\\n    background-color: transparent;\\r\\n    margin: -24px 0 0;\\r\\n    min-width: 33px;\\r\\n    padding-bottom: 0;\\r\\n}\\r\\n\\r\\n.dropdown-button-menu-button {\\r\\n    background-color: transparent;\\r\\n    border: none;\\r\\n    height: 33px;\\r\\n    outline: none;\\r\\n    width: 33px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vZHJvcGRvd24tYnV0dG9uLW1lbnUvZHJvcGRvd24tYnV0dG9uLW1lbnUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztBQUNmOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29tbW9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51L2Ryb3Bkb3duLWJ1dHRvbi1tZW51LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJsaS5kcm9wZG93bi5vcGVuIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbn1cclxuXHJcbmxpLmRyb3Bkb3duIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1idXR0b24tbWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIG1hcmdpbjogLTI0cHggMCAwO1xyXG4gICAgbWluLXdpZHRoOiAzM3B4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDA7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMzcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDMzcHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<li class=\\\"dropdown\\\">\\r\\n    <a class=\\\"dropdown-toggle nav navbar-collapse\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\" role=\\\"button\\\" aria-haspopup=\\\"false\\\" aria-expanded=\\\"false\\\">\\r\\n        <app-dropdown-button-menu-button [buttonData]=\\\"selectedButton\\\" [isTopButton]=\\\"true\\\" [showArrow]=\\\"true\\\">\\r\\n        </app-dropdown-button-menu-button>\\r\\n    </a>\\r\\n    <ul class=\\\"dropdown-menu dropdown-button-menu\\\">\\r\\n        <li *ngFor=\\\"let menuButton of menuButtonList\\\">\\r\\n            <app-dropdown-button-menu-button [buttonData]=\\\"menuButton\\\" [isTopButton]=\\\"false\\\" [showArrow]=\\\"false\\\" [isChecked]=\\\"selectedButton == menuButton\\\" (selected)=\\\"onSelectChanged($event)\\\"></app-dropdown-button-menu-button>\\r\\n        </li>\\r\\n    </ul>\\r\\n</li>\\r\\n\"","import { Component, OnInit, Input } from \"@angular/core\";\r\nimport { SelectedButtonData } from \"../../../models/dropdown-button-menu-data\";\r\nimport { ViewContextService } from \"../../../services/view-context.service\";\r\n\r\n@Component({\r\n    selector: \"app-dropdown-button-menu\",\r\n    templateUrl: \"./dropdown-button-menu.component.html\",\r\n    styleUrls: [\"./dropdown-button-menu.component.css\"]\r\n})\r\nexport class DropdownButtonMenuComponent implements OnInit {\r\n    selectedButton: SelectedButtonData;\r\n    @Input()\r\n    menuButtonList: SelectedButtonData[];\r\n\r\n    constructor(private viewContext: ViewContextService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.selectedButton = this.menuButtonList[0];\r\n\r\n        const $dropdownLi = $(\"li.dropdown\");\r\n\r\n        $dropdownLi.mouseover(function() {\r\n            $(this).addClass(\"open\");\r\n        }).mouseout(function() {\r\n            $(this).removeClass(\"open\");\r\n        }).click(function() {\r\n            $(this).addClass(\"open\");\r\n        });\r\n    }\r\n\r\n    onSelectChanged(menuButton: SelectedButtonData) {\r\n        this.selectedButton = menuButton;\r\n    }\r\n}\r\n","module.exports = \".mat-dialog-title {\\r\\n    border-bottom: 1px solid #FF9900;\\r\\n    color: #f90;\\r\\n    font-size: 18px;\\r\\n    margin: -24px -24px 0px -24px;\\r\\n    min-width: 400px;\\r\\n    padding: 1px 10px;\\r\\n}\\r\\n\\r\\n.mat-dialog-content {\\r\\n    color: white;\\r\\n    font-size: 16px;\\r\\n    height: 80px;\\r\\n    min-width: 400px;\\r\\n    padding: 10px 10px;\\r\\n}\\r\\n\\r\\n.mat-dialog-actions { margin-right: -12px; }\\r\\n\\r\\n.mat-form-field { min-width: 400px; }\\r\\n\\r\\n.mat-raised-button {\\r\\n    background-color: #444;\\r\\n    border: 1px solid #777;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    margin-left: 6px;\\r\\n    padding: 3px;\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n.mat-raised-button:disabled:hover { color: #999; }\\r\\n\\r\\n.mat-raised-button:hover { color: #f90; }\\r\\n\\r\\n.mat-dialog-actions { flex-direction: row-reverse; }\\r\\n\\r\\n.matInput {\\r\\n    caret-color: #F90;\\r\\n    color: green;\\r\\n}\\r\\n\\r\\n.mat-input-element { caret-color: #F90; }\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vbWVzc2FnZS1ib3gvbWVzc2FnZS1ib3guY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdDQUFnQztJQUNoQyxXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0Qjs7QUFFQSxzQkFBc0IsbUJBQW1CLEVBQUU7O0FBRTNDLGtCQUFrQixnQkFBZ0IsRUFBRTs7QUFFcEM7SUFDSSxzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBLG9DQUFvQyxXQUFXLEVBQUU7O0FBRWpELDJCQUEyQixXQUFXLEVBQUU7O0FBRXhDLHNCQUFzQiwyQkFBMkIsRUFBRTs7QUFFbkQ7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtBQUNoQjs7QUFFQSxxQkFBcUIsaUJBQWlCLEVBQUUiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2NvbW1vbi9tZXNzYWdlLWJveC9tZXNzYWdlLWJveC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1kaWFsb2ctdGl0bGUge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNGRjk5MDA7XHJcbiAgICBjb2xvcjogI2Y5MDtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIG1hcmdpbjogLTI0cHggLTI0cHggMHB4IC0yNHB4O1xyXG4gICAgbWluLXdpZHRoOiA0MDBweDtcclxuICAgIHBhZGRpbmc6IDFweCAxMHB4O1xyXG59XHJcblxyXG4ubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGhlaWdodDogODBweDtcclxuICAgIG1pbi13aWR0aDogNDAwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZGlhbG9nLWFjdGlvbnMgeyBtYXJnaW4tcmlnaHQ6IC0xMnB4OyB9XHJcblxyXG4ubWF0LWZvcm0tZmllbGQgeyBtaW4td2lkdGg6IDQwMHB4OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgcGFkZGluZzogM3B4O1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246ZGlzYWJsZWQ6aG92ZXIgeyBjb2xvcjogIzk5OTsgfVxyXG5cclxuLm1hdC1yYWlzZWQtYnV0dG9uOmhvdmVyIHsgY29sb3I6ICNmOTA7IH1cclxuXHJcbi5tYXQtZGlhbG9nLWFjdGlvbnMgeyBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7IH1cclxuXHJcbi5tYXRJbnB1dCB7XHJcbiAgICBjYXJldC1jb2xvcjogI0Y5MDtcclxuICAgIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLm1hdC1pbnB1dC1lbGVtZW50IHsgY2FyZXQtY29sb3I6ICNGOTA7IH1cclxuIl19 */\"","module.exports = \"<h5 mat-dialog-title>{{content.title}}</h5>\\r\\n\\r\\n\\r\\n<mat-dialog-content [formGroup]=\\\"form\\\">\\r\\n\\r\\n    <i *ngIf=\\\"content.messageType === 0\\\" class=\\\"glyphicon glyphicon-info-sign\\\" style=\\\"padding-right: 8px\\\"></i>\\r\\n    <i *ngIf=\\\"content.messageType === 1\\\" class=\\\"glyphicon glyphicon-question-sign\\\" style=\\\"padding-right: 8px\\\"></i>\\r\\n    <i *ngIf=\\\"content.messageType === 2\\\" class=\\\"glyphicon glyphicon-warning-sign\\\" style=\\\"color: #F90; padding-right: 8px;\\\"></i>\\r\\n    <i *ngIf=\\\"content.messageType === 3\\\" class=\\\"glyphicon glyphicon-remove\\\" style=\\\"color: #F90; padding-right: 8px;\\\"></i>\\r\\n    <span *ngIf=\\\"content.messageType !== 4\\\" style=\\\"color: white\\\">{{content.messageText}}</span>\\r\\n    <mat-form-field *ngIf=\\\"content.messageType === 4\\\">\\r\\n        <input matInput\\r\\n               placeholder=\\\"{{content.messageText}}\\\"\\r\\n               formControlName=\\\"valueInput\\\"\\r\\n               (keyup)=\\\"onInput($event)\\\">\\r\\n    </mat-form-field>\\r\\n</mat-dialog-content>\\r\\n\\r\\n<mat-dialog-actions>\\r\\n\\r\\n    <button *ngIf=\\\"needShowYesNoButton()\\\" class=\\\"mat-raised-button\\\"\\r\\n            (click)=\\\"onNo()\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-remove-circle\\\" style=\\\"padding-right: 8px\\\"></i>No\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"needShowYesNoButton()\\\" class=\\\"mat-raised-button\\\"\\r\\n            (click)=\\\"onYes()\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-ok-circle\\\" style=\\\"padding-right: 8px\\\"></i>Yes\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"needShowCancelButton()\\\" class=\\\"mat-raised-button\\\"\\r\\n            (click)=\\\"onCancel()\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-remove-circle\\\" style=\\\"padding-right: 8px\\\"></i>Cancel\\r\\n    </button>\\r\\n\\r\\n    <button *ngIf=\\\"needShowOkButton()\\\" class=\\\"mat-raised-button\\\" [disabled]=\\\"needDisableYesButton\\\"\\r\\n            (click)=\\\"onOk()\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-ok-circle\\\" style=\\\"padding-right: 8px\\\"></i>Ok\\r\\n    </button>\\r\\n\\r\\n</mat-dialog-actions>\\r\\n\"","import { Component, OnInit, Inject } from \"@angular/core\";\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material\";\r\nimport { FormBuilder, Validators, FormGroup } from \"@angular/forms\";\r\nimport { MessageBoxType, MessageBoxContent, DialogResult } from \"../../../models/messageBox\";\r\n\r\n@Component({\r\n    selector: \"app-message-box\",\r\n    templateUrl: \"./message-box.component.html\",\r\n    styleUrls: [\"./message-box.component.css\"]\r\n})\r\nexport class MessageBoxComponent implements OnInit {\r\n\r\n    form: FormGroup;\r\n    dialogResult: DialogResult;\r\n    valueInput: string;\r\n    needDisableYesButton = false;\r\n    content: MessageBoxContent;\r\n\r\n    constructor(\r\n        private fb: FormBuilder,\r\n        private dialogRef: MatDialogRef<MessageBoxComponent>,\r\n        @Inject(MAT_DIALOG_DATA) messageBoxContent: MessageBoxContent) {\r\n\r\n        this.content = messageBoxContent;\r\n\r\n        this.form = fb.group({\r\n            dialogResult: [DialogResult.Yes],\r\n            valueInput: [this.valueInput, Validators.required]\r\n        });\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.needDisableYesButton = this.content.messageType === MessageBoxType.Input;\r\n    }\r\n\r\n\r\n    onYes() {\r\n        this.form.value.dialogResult = DialogResult.Yes;\r\n        this.dialogRef.close(this.form.value);\r\n    }\r\n\r\n    onNo() {\r\n        this.form.value.dialogResult = DialogResult.No;\r\n        this.dialogRef.close(this.form.value);\r\n    }\r\n\r\n    onOk() {\r\n        this.form.value.dialogResult = DialogResult.Ok;\r\n        this.dialogRef.close(this.form.value);\r\n    }\r\n\r\n    onCancel() {\r\n        this.form.value.dialogResult = DialogResult.Cancel;\r\n        this.dialogRef.close(this.form.value);\r\n    }\r\n\r\n    needShowYesNoButton(): boolean {\r\n        return this.content.messageType === MessageBoxType.Question;\r\n    }\r\n\r\n    needShowOkButton(): boolean {\r\n        return this.content.messageType !== MessageBoxType.Question;\r\n    }\r\n\r\n    needShowCancelButton(): boolean {\r\n        return this.content.messageType === MessageBoxType.Input;\r\n    }\r\n\r\n    onInput(event) {\r\n        this.needDisableYesButton = this.content.messageType === MessageBoxType.Input &&\r\n        (this.form.value.valueInput === null ||\r\n            this.form.value.valueInput === undefined ||\r\n            this.form.value.valueInput === \"\");\r\n\r\n        //if (!this.needDisableYesButton && event.code === \"Enter\") {\r\n        //  this.onOk();\r\n        //}\r\n    }\r\n}\r\n","module.exports = \".mat-dialog-title {\\r\\n    border-bottom: 1px solid #FF9900;\\r\\n    color: #f90;\\r\\n    font-size: 15px;\\r\\n    margin: -24px -24px 0px -24px;\\r\\n    min-width: 200px;\\r\\n    padding: 1px 10px;\\r\\n}\\r\\n\\r\\n.mat-dialog-content {\\r\\n    color: white;\\r\\n    font-size: 15px;\\r\\n    height: 100px;\\r\\n    min-width: 200px;\\r\\n    padding: 10px 10px;\\r\\n}\\r\\n\\r\\n.mat-dialog-actions { margin-right: -12px; }\\r\\n\\r\\n.mat-form-field { }\\r\\n\\r\\n.mat-raised-button {\\r\\n    background-color: #444;\\r\\n    border: 1px solid #777;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    font-size: 13px;\\r\\n    margin-left: 6px;\\r\\n    padding: 1px;\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n.mat-raised-button:disabled:hover { color: #999; }\\r\\n\\r\\n.mat-raised-button:hover { color: #f90; }\\r\\n\\r\\n.mat-dialog-actions { flex-direction: row-reverse; }\\r\\n\\r\\n.matInput {\\r\\n    caret-color: #F90;\\r\\n    color: green;\\r\\n}\\r\\n\\r\\n.mat-input-element { caret-color: #F90; }\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvbWFudWFsLXdsLWRpYWxvZy9tYW51YWwtd2wtZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQ0FBZ0M7SUFDaEMsV0FBVztJQUNYLGVBQWU7SUFDZiw2QkFBNkI7SUFDN0IsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0lBQ2YsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7O0FBRUEsc0JBQXNCLG1CQUFtQixFQUFFOztBQUUzQyxrQkFBa0I7O0FBRWxCO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLFlBQVk7QUFDaEI7O0FBRUEsb0NBQW9DLFdBQVcsRUFBRTs7QUFFakQsMkJBQTJCLFdBQVcsRUFBRTs7QUFFeEMsc0JBQXNCLDJCQUEyQixFQUFFOztBQUVuRDtJQUNJLGlCQUFpQjtJQUNqQixZQUFZO0FBQ2hCOztBQUVBLHFCQUFxQixpQkFBaUIsRUFBRSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZGlhbG9nL21hbnVhbC13bC1kaWFsb2cvbWFudWFsLXdsLWRpYWxvZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1kaWFsb2ctdGl0bGUge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNGRjk5MDA7XHJcbiAgICBjb2xvcjogI2Y5MDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIG1hcmdpbjogLTI0cHggLTI0cHggMHB4IC0yNHB4O1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmc6IDFweCAxMHB4O1xyXG59XHJcblxyXG4ubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICBtaW4td2lkdGg6IDIwMHB4O1xyXG4gICAgcGFkZGluZzogMTBweCAxMHB4O1xyXG59XHJcblxyXG4ubWF0LWRpYWxvZy1hY3Rpb25zIHsgbWFyZ2luLXJpZ2h0OiAtMTJweDsgfVxyXG5cclxuLm1hdC1mb3JtLWZpZWxkIHsgfVxyXG5cclxuLm1hdC1yYWlzZWQtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0NDQ7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzc3O1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuLm1hdC1yYWlzZWQtYnV0dG9uOmRpc2FibGVkOmhvdmVyIHsgY29sb3I6ICM5OTk7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpob3ZlciB7IGNvbG9yOiAjZjkwOyB9XHJcblxyXG4ubWF0LWRpYWxvZy1hY3Rpb25zIHsgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlOyB9XHJcblxyXG4ubWF0SW5wdXQge1xyXG4gICAgY2FyZXQtY29sb3I6ICNGOTA7XHJcbiAgICBjb2xvcjogZ3JlZW47XHJcbn1cclxuXHJcbi5tYXQtaW5wdXQtZWxlbWVudCB7IGNhcmV0LWNvbG9yOiAjRjkwOyB9XHJcbiJdfQ== */\"","module.exports = \"<h1 mat-dialog-title\\r\\n    cdkDrag\\r\\n    cdkDragRootElement=\\\".cdk-overlay-pane\\\"\\r\\n    cdkDragHandle>\\r\\n    Manual WL\\r\\n</h1>\\r\\n<mat-dialog-content>\\r\\n    <table>\\r\\n        <tr>\\r\\n            <td>Window Center</td>\\r\\n            <td style=\\\"width: 10px\\\"></td>\\r\\n            <td>Window Width</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n            <td>\\r\\n                <mat-form-field>\\r\\n                    <input matInput [(ngModel)]=\\\"data.windowWidth\\\" cdkFocusInitial>\\r\\n                </mat-form-field>\\r\\n            </td>\\r\\n            <td></td>\\r\\n            <td>\\r\\n                <mat-form-field>\\r\\n                    <input matInput [(ngModel)]=\\\"data.windowCenter\\\">\\r\\n                </mat-form-field>\\r\\n            </td>\\r\\n        </tr>\\r\\n    </table>\\r\\n</mat-dialog-content>\\r\\n<mat-dialog-actions>\\r\\n    <button class=\\\"mat-raised-button\\\" (click)=\\\"onCancelClick()\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-remove-circle\\\" style=\\\"padding-right: 8px\\\"></i>Cancel\\r\\n    </button>\\r\\n    <button class=\\\"mat-raised-button\\\" (click)=\\\"onOkClick()\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-ok-circle\\\" style=\\\"padding-right: 8px\\\"></i>Ok\\r\\n    </button>\\r\\n</mat-dialog-actions>\\r\\n\"","import { Component, Inject } from \"@angular/core\";\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material\";\r\nimport { WindowLevelData } from \"../../../models/dailog-data/image-process\";\r\nimport { DialogService } from \"../../../services/dialog.service\";\r\nimport { MessageBoxType, MessageBoxContent } from \"../../../models/messageBox\";\r\n\r\n@Component({\r\n    selector: \"app-manual-wl-dialog\",\r\n    templateUrl: \"./manual-wl-dialog.component.html\",\r\n    styleUrls: [\"./manual-wl-dialog.component.css\"]\r\n})\r\nexport class ManualWlDialogComponent {\r\n\r\n    constructor(\r\n        public dialogRef: MatDialogRef<ManualWlDialogComponent>,\r\n        @Inject(MAT_DIALOG_DATA) public data: WindowLevelData,\r\n        private dialogService: DialogService) {\r\n    }\r\n\r\n    onCancelClick(): void {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n    onOkClick(): void {\r\n        const windowCenter = Number(this.data.windowCenter);\r\n        const windowWidth = Number(this.data.windowWidth);\r\n\r\n        if (isNaN(windowCenter) || isNaN(windowWidth)) {\r\n            const content = new MessageBoxContent();\r\n            content.title = \"Input error\";\r\n            content.messageText = \"Only number is allowed for window center and width!\";\r\n            content.messageType = MessageBoxType.Warning;\r\n\r\n            this.dialogService.showMessageBox(content);\r\n            return;\r\n        }\r\n\r\n        this.dialogRef.close(this.data);\r\n    }\r\n}\r\n","module.exports = \".mat-dialog-title {\\r\\n    border-bottom: 1px solid #FF9900;\\r\\n    color: #f90;\\r\\n    font-size: 15px;\\r\\n    margin: -24px -24px 0px -24px;\\r\\n    min-width: 200px;\\r\\n    padding: 1px 10px;\\r\\n}\\r\\n\\r\\n.mat-dialog-content {\\r\\n    color: white;\\r\\n    font-size: 15px;\\r\\n    height: 100px;\\r\\n    min-width: 200px;\\r\\n    padding: 10px 10px;\\r\\n}\\r\\n\\r\\n.mat-dialog-actions { margin-right: -12px; }\\r\\n\\r\\n.mat-form-field { }\\r\\n\\r\\n.mat-raised-button {\\r\\n    background-color: #444;\\r\\n    border: 1px solid #777;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    font-size: 13px;\\r\\n    margin-left: 6px;\\r\\n    padding: 1px;\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n.mat-raised-button:disabled:hover { color: #999; }\\r\\n\\r\\n.mat-raised-button:hover { color: #f90; }\\r\\n\\r\\n.mat-dialog-actions { flex-direction: row-reverse; }\\r\\n\\r\\n.matInput {\\r\\n    caret-color: #F90;\\r\\n    color: green;\\r\\n}\\r\\n\\r\\n.mat-input-element { caret-color: #F90; }\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdDQUFnQztJQUNoQyxXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0Qjs7QUFFQSxzQkFBc0IsbUJBQW1CLEVBQUU7O0FBRTNDLGtCQUFrQjs7QUFFbEI7SUFDSSxzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSxvQ0FBb0MsV0FBVyxFQUFFOztBQUVqRCwyQkFBMkIsV0FBVyxFQUFFOztBQUV4QyxzQkFBc0IsMkJBQTJCLEVBQUU7O0FBRW5EO0lBQ0ksaUJBQWlCO0lBQ2pCLFlBQVk7QUFDaEI7O0FBRUEscUJBQXFCLGlCQUFpQixFQUFFIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZGlhbG9nLXRpdGxlIHtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRkY5OTAwO1xyXG4gICAgY29sb3I6ICNmOTA7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBtYXJnaW46IC0yNHB4IC0yNHB4IDBweCAtMjRweDtcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICBwYWRkaW5nOiAxcHggMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctY29udGVudCB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IG1hcmdpbi1yaWdodDogLTEycHg7IH1cclxuXHJcbi5tYXQtZm9ybS1maWVsZCB7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzc3NztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XHJcbiAgICBwYWRkaW5nOiAxcHg7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbn1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7IGNvbG9yOiAjOTk5OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246aG92ZXIgeyBjb2xvcjogI2Y5MDsgfVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgfVxyXG5cclxuLm1hdElucHV0IHtcclxuICAgIGNhcmV0LWNvbG9yOiAjRjkwO1xyXG4gICAgY29sb3I6IGdyZWVuO1xyXG59XHJcblxyXG4ubWF0LWlucHV0LWVsZW1lbnQgeyBjYXJldC1jb2xvcjogI0Y5MDsgfVxyXG4iXX0= */\"","module.exports = \"\\r\\n<h1 mat-dialog-title\\r\\n    cdkDrag\\r\\n    cdkDragRootElement=\\\".cdk-overlay-pane\\\"\\r\\n    cdkDragHandle>\\r\\n    Select Study Date Range\\r\\n</h1>\\r\\n<mat-dialog-content>\\r\\n    <table>\\r\\n        <tr>\\r\\n            <td></td>\\r\\n            <td style=\\\"width: 10px\\\"></td>\\r\\n            <td></td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n            <td>\\r\\n                <mat-form-field>\\r\\n                    <input matInput [matDatepicker]=\\\"picker1\\\" [min]=\\\"fromMinDate\\\" [max]=\\\"fromMaxDate\\\" placeholder=\\\"From\\\" (dateChange)=\\\"fromDateChanged('change', $event)\\\">\\r\\n                    <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n                    <mat-datepicker #picker1></mat-datepicker>\\r\\n                </mat-form-field>\\r\\n            </td>\\r\\n            <td></td>\\r\\n            <td>\\r\\n                <mat-form-field>\\r\\n                    <input matInput [matDatepicker]=\\\"picker2\\\" [min]=\\\"toMinDate\\\" [max]=\\\"toMaxDate\\\" placeholder=\\\"To\\\" (dateChange)=\\\"toDateChanged('change', $event)\\\">\\r\\n                    <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\"></mat-datepicker-toggle>\\r\\n                    <mat-datepicker #picker2></mat-datepicker>\\r\\n                </mat-form-field>\\r\\n            </td>\\r\\n        </tr>\\r\\n    </table>\\r\\n</mat-dialog-content>\\r\\n<mat-dialog-actions>\\r\\n    <button class=\\\"mat-raised-button\\\" (click)=\\\"onCancelClick()\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-remove-circle\\\" style=\\\"padding-right: 8px\\\"></i>Cancel\\r\\n    </button>\\r\\n    <button class=\\\"mat-raised-button\\\" (click)=\\\"onOkClick()\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-ok-circle\\\" style=\\\"padding-right: 8px\\\"></i>Ok\\r\\n    </button>\\r\\n</mat-dialog-actions>\\r\\n\"","import { Component, Inject } from \"@angular/core\";\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDatepickerInputEvent } from \"@angular/material\";\r\nimport { DateRange } from \"../../../models/dailog-data/date-range\";\r\nimport { DialogService } from \"../../../services/dialog.service\";\r\nimport { MessageBoxType, MessageBoxContent } from \"../../../models/messageBox\";\r\n\r\n// Import DatePicker format\r\nimport { MomentDateAdapter } from \"@angular/material-moment-adapter\";\r\nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from \"@angular/material/core\";\r\n\r\nexport const MY_FORMATS = {\r\n    parse: {\r\n        dateInput: \"LL\",\r\n    },\r\n    display: {\r\n        dateInput: \"LL\",\r\n        monthYearLabel: \"MMM YYYY\",\r\n        dateA11yLabel: \"LL\",\r\n        monthYearA11yLabel: \"MMMM YYYY\",\r\n    },\r\n};\r\n\r\n@Component({\r\n  selector: 'app-select-studydate-dialog',\r\n  templateUrl: './select-studydate-dialog.component.html',\r\n    styleUrls: ['./select-studydate-dialog.component.css'],\r\n  providers: [\r\n      // i18n\r\n      { provide: MAT_DATE_LOCALE, useValue: \"zh-CN\" },\r\n      { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\r\n      { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ],\r\n})\r\nexport class SelectStudydateDialogComponent {\r\n    fromMinDate = new Date(1900, 1, 1);\r\n    fromMaxDate = new Date();\r\n\r\n    toMinDate = new Date();\r\n    toMaxDate = new Date();\r\n\r\n\r\n    constructor(\r\n        public dialogRef: MatDialogRef<SelectStudydateDialogComponent>,\r\n        @Inject(MAT_DIALOG_DATA) public dateRange: DateRange,\r\n        private dialogService: DialogService) {\r\n    }\r\n\r\n    onCancelClick(): void {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n    onOkClick(): void {\r\n\r\n\r\n        this.dialogRef.close(this.dateRange);\r\n\r\n    }\r\n\r\n    fromDateChanged(type: string, event: MatDatepickerInputEvent<Date>) {\r\n        this.toMinDate = event.value;\r\n        this.dateRange.dateFrom = event.value;\r\n    }\r\n\r\n    toDateChanged(type: string, event: MatDatepickerInputEvent<Date>) {\r\n        this.fromMaxDate = event.value;\r\n        this.dateRange.dateTo = event.value;\r\n    }\r\n\r\n}\r\n","module.exports = \".nav-button {\\r\\n    /*display: inline-block;*/\\r\\n    background-color: #555555;\\r\\n    border-radius: 1px;\\r\\n    border-width: 1px;\\r\\n    color: white;\\r\\n    margin-left: 2px;\\r\\n    margin-right: 2px;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n/*.nav-button:visited {\\r\\n  color: #607D8B;\\r\\n}*/\\r\\n\\r\\n.nav-button:hover { color: #ff9900; }\\r\\n\\r\\n/*.nav-button:active {\\r\\n  color: #039be5;\\r\\n}*/\\r\\n\\r\\n.company-name {\\r\\n    color: white;\\r\\n    font-size: 18px;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.product-name {\\r\\n    color: white;\\r\\n    font-size: 12px;\\r\\n    padding: 15px 2px;\\r\\n}\\r\\n\\r\\n.div-headerbar-nav {\\r\\n    /*display: inline-block;*/\\r\\n    background-color: #555555;\\r\\n    border-radius: 1px;\\r\\n    border-width: 1px;\\r\\n    color: white;\\r\\n    margin-left: 2px;\\r\\n    margin-right: 2px;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.div-headerbar-button {\\r\\n    background-color: #555555;\\r\\n    border-radius: 2px;\\r\\n    border-width: 0px;\\r\\n    color: white;\\r\\n    height: 28px;\\r\\n    padding-top: 3px;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.div-headerbar-button:hover { color: #ff9900; }\\r\\n\\r\\n.div-headerbar-button:focus { outline: none; }\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9oZWFkZXItYmFyL2hlYWRlci1iYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixxQkFBcUI7QUFDekI7O0FBRUE7O0VBRUU7O0FBRUYsb0JBQW9CLGNBQWMsRUFBRTs7QUFFcEM7O0VBRUU7O0FBRUY7SUFDSSxZQUFZO0lBQ1osZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLHFCQUFxQjtBQUN6Qjs7QUFFQSw4QkFBOEIsY0FBYyxFQUFFOztBQUU5Qyw4QkFBOEIsYUFBYSxFQUFFIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9oZWFkZXItYmFyL2hlYWRlci1iYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXYtYnV0dG9uIHtcclxuICAgIC8qZGlzcGxheTogaW5saW5lLWJsb2NrOyovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi8qLm5hdi1idXR0b246dmlzaXRlZCB7XHJcbiAgY29sb3I6ICM2MDdEOEI7XHJcbn0qL1xyXG5cclxuLm5hdi1idXR0b246aG92ZXIgeyBjb2xvcjogI2ZmOTkwMDsgfVxyXG5cclxuLyoubmF2LWJ1dHRvbjphY3RpdmUge1xyXG4gIGNvbG9yOiAjMDM5YmU1O1xyXG59Ki9cclxuXHJcbi5jb21wYW55LW5hbWUge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLnByb2R1Y3QtbmFtZSB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBwYWRkaW5nOiAxNXB4IDJweDtcclxufVxyXG5cclxuLmRpdi1oZWFkZXJiYXItbmF2IHtcclxuICAgIC8qZGlzcGxheTogaW5saW5lLWJsb2NrOyovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi5kaXYtaGVhZGVyYmFyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBoZWlnaHQ6IDI4cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogM3B4O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG4uZGl2LWhlYWRlcmJhci1idXR0b246aG92ZXIgeyBjb2xvcjogI2ZmOTkwMDsgfVxyXG5cclxuLmRpdi1oZWFkZXJiYXItYnV0dG9uOmZvY3VzIHsgb3V0bGluZTogbm9uZTsgfVxyXG4iXX0= */\"","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"navbar-header\\\">\\r\\n        <table>\\r\\n            <tr>\\r\\n                <td>\\r\\n                    <!--<div class=\\\"navbar-brand\\\" href=\\\"#\\\">\\r\\n                        <img src=\\\"../../../assets/img/Carestream.svg\\\">\\r\\n                    </div>-->\\r\\n                    <div class=\\\"company-name\\\">Carestream</div>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <div class=\\\"product-name\\\">Image Suite</div>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <div class=\\\"nav-button\\\" style=\\\"padding-left: 4px; padding-right: 4px\\\">\\r\\n                        <button id=\\\"headerButton-worklist\\\" class=\\\"div-headerbar-button\\\" (click)=\\\"showViewerShell(null)\\\">Worklist</button>\\r\\n                    </div>\\r\\n                </td>\\r\\n                <td *ngFor=\\\"let viewerShellData of getViewerShellDataList()\\\">\\r\\n                    <div class=\\\"nav-button\\\">\\r\\n                        <button [id]=\\\"getId(viewerShellData)\\\" class=\\\"div-headerbar-button\\\" (click)=\\\"showViewerShell(viewerShellData)\\\">{{viewerShellData.getName()}}</button>\\r\\n                        <button class=\\\"div-headerbar-button\\\" (click)=\\\"closeViewerShell(viewerShellData)\\\">x</button>\\r\\n                    </div>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, SimpleChanges, AfterContentInit, AfterViewInit, AfterViewChecked } from \"@angular/core\";\r\nimport { ShellNavigatorService } from \"../../services/shell-navigator.service\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { ViewerShellData } from \"../../models/viewer-shell-data\";\r\n\r\n@Component({\r\n    selector: \"app-header-bar\",\r\n    templateUrl: \"./header-bar.component.html\",\r\n    styleUrls: [\"./header-bar.component.css\"]\r\n})\r\nexport class HeaderBarComponent implements OnInit, AfterContentInit, AfterViewInit, AfterViewChecked {\r\n\r\n    subscriptionShellNavigated: Subscription;\r\n\r\n    // Do NOT need to subscribe on shellCreated message, since when a new ViewerShell is created, \r\n    // shellNavigatorService.viewerShellDataList will updated, and this will update the UI of \r\n    // header-bar page\r\n    constructor(private shellNavigatorService: ShellNavigatorService) {\r\n        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(\r\n            viewerShellData => { this.highlightStudyButton(viewerShellData); });\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n    }\r\n\r\n    ngAfterViewChecked(): void {\r\n        this.highlightStudyButton(this.shellNavigatorService.viewerShellDataHighlighted);\r\n    }\r\n\r\n    getViewerShellDataList() {\r\n        return this.shellNavigatorService.viewerShellDataList;\r\n    }\r\n\r\n    showViewerShell(viewerShellData: ViewerShellData) {\r\n        this.shellNavigatorService.shellNavigate(viewerShellData);\r\n    }\r\n\r\n    closeViewerShell(viewerShellData: ViewerShellData) {\r\n        this.shellNavigatorService.shellDelete(viewerShellData);\r\n    }\r\n\r\n    highlightStudyButton(viewerShellData: ViewerShellData) {\r\n        let highlightedId: string;\r\n\r\n        if (viewerShellData === null || viewerShellData === undefined) {\r\n            highlightedId = \"headerButton-worklist\";\r\n        } else {\r\n            highlightedId = viewerShellData.getId();\r\n        }\r\n\r\n        let o = document.getElementById(\"headerButton-worklist\");\r\n        if (o !== undefined && o !== null) {\r\n            o.style.color = (highlightedId === \"headerButton-worklist\") ? \"#ff9900\" : \"white\";\r\n        }\r\n\r\n\r\n        const len = this.getViewerShellDataList().length;\r\n        for (let i = 0; i < len; i++) {\r\n            const id = `headerButton${this.getViewerShellDataList()[i].getId()}`;\r\n            o = document.getElementById(id);\r\n            if (o !== undefined && o !== null) {\r\n                o.style.color = (this.getViewerShellDataList()[i].getId() === highlightedId) ? \"#ff9900\" : \"white\";\r\n            }\r\n        }\r\n    }\r\n\r\n    getId(viewerShellData: ViewerShellData): string {\r\n        return `headerButton${viewerShellData.getId()}`;\r\n    }\r\n}\r\n","module.exports = \".DivLayoutViewer {\\r\\n    background-color: #555555;\\r\\n    /*border-top: solid 2px #FFFFFF;\\r\\n  border-bottom: solid 2px #FFFFFF;\\r\\n  border-left: solid 2px #FFFFFF;\\r\\n  border-right: solid 2px #FFFFFF;*/\\r\\n    border: 1px solid #555555;\\r\\n    color: #F5F5F5;\\r\\n    display: flex;\\r\\n    height: 100%;\\r\\n    margin: 0 auto;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2dyb3VwLXZpZXdlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kseUJBQXlCO0lBQ3pCOzs7bUNBRytCO0lBQy9CLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsYUFBYTtJQUNiLFlBQVk7SUFDWixjQUFjO0lBQ2QsV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2dyb3VwLXZpZXdlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLkRpdkxheW91dFZpZXdlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgLypib3JkZXItdG9wOiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItbGVmdDogc29saWQgMnB4ICNGRkZGRkY7XHJcbiAgYm9yZGVyLXJpZ2h0OiBzb2xpZCAycHggI0ZGRkZGRjsqL1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzU1NTU1NTtcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuIl19 */\"","module.exports = \"<div class=\\\"DivLayoutViewer\\\" [id]=\\\"getId()\\\" (click)=\\\"onSelected()\\\" [style.border]=\\\"getBorderStyle()\\\">\\r\\n    <div class=\\\"div-flex-column\\\" *ngFor=\\\"let a of Arr(groupData.imageMatrix.colCount).fill(1); let colIndex = index\\\">\\r\\n        <div class=\\\"div-flex-row\\\" *ngFor=\\\"let a of Arr(groupData.imageMatrix.rowCount).fill(1); let rowIndex = index\\\">\\r\\n            <app-image-viewer [imageData]=\\\"getImageData(rowIndex,colIndex)\\\" class=\\\"div-flex-row\\\">\\r\\n            </app-image-viewer>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input, AfterContentInit, ViewChildren, QueryList } from \"@angular/core\";\r\nimport { ImageSelectorService } from \"../../../services/image-selector.service\";\r\nimport { ImageHangingProtocol } from \"../../../models/hanging-protocol\";\r\nimport { HangingProtocolService } from \"../../../services/hanging-protocol.service\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { ViewerGroupData } from \"../../../models/viewer-group-data\";\r\nimport { ViewerImageData } from \"../../../models/viewer-image-data\";\r\nimport { ImageViewerComponent } from \"./image-viewer/image-viewer.component\";\r\nimport { Image } from \"../../../models/pssi\";\r\nimport { LogService } from \"../../../services/log.service\";\r\n\r\n@Component({\r\n    selector: \"app-group-viewer\",\r\n    templateUrl: \"./group-viewer.component.html\",\r\n    styleUrls: [\"./group-viewer.component.css\"]\r\n})\r\nexport class GroupViewerComponent implements OnInit, AfterContentInit {\r\n    Arr = Array; //Array type captured in a variable\r\n    _groupData: ViewerGroupData;\r\n    logPrefix: string;\r\n\r\n    imageDataList: ViewerImageData[];\r\n\r\n    @ViewChildren(ImageViewerComponent)\r\n    childImages: QueryList<ImageViewerComponent>;\r\n\r\n    @Input()\r\n    set groupData(groupData: ViewerGroupData) {\r\n        this.logPrefix = \"Group\" + groupData.getId() + \": \";\r\n        const log = this.logPrefix + \"set groupData, protocol is \" + ImageHangingProtocol[groupData.imageHangingProtocol];\r\n        this.logService.debug(log);\r\n\r\n        this._groupData = groupData;\r\n        \r\n        this.setImageLayout(this.groupData.imageHangingProtocol);\r\n    }\r\n\r\n    get groupData() {\r\n        return this._groupData;\r\n    }\r\n\r\n    selected = false;\r\n\r\n    subscriptionThumbnailSelection: Subscription;\r\n    subscriptionImageSelection: Subscription;\r\n    subscriptionImageLayoutChange: Subscription;\r\n\r\n    constructor(private imageSelectorService: ImageSelectorService,\r\n        private hangingProtocolService: HangingProtocolService,\r\n        private logService: LogService) {\r\n        this.subscriptionImageSelection = imageSelectorService.imageSelected$.subscribe(\r\n            viewerImageData => {\r\n                this.doSelectGroup(viewerImageData);\r\n            });\r\n\r\n        this.subscriptionThumbnailSelection = imageSelectorService.thumbnailSelected$.subscribe(\r\n            image => {\r\n                this.doSelectGroupByThumbnail(image);\r\n            });\r\n\r\n        this.subscriptionImageLayoutChange = imageSelectorService.imageLayoutChanged$.subscribe(\r\n            imageLayoutStyle => {\r\n                this.onChangeImageLayout(imageLayoutStyle);\r\n            });\r\n\r\n        this.logService.debug(\"Group: a new GroupViewerComponent is created!\");\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n    }\r\n\r\n    onSelected() {\r\n    }\r\n\r\n    doSelectGroup(viewerImageData: ViewerImageData) {\r\n        this.selected = (this._groupData === viewerImageData.groupData);\r\n    }\r\n\r\n    doSelectGroupByThumbnail(image: Image) {\r\n        const find = this._groupData.imageDataList.find(imageData => imageData.image === image);\r\n        this.selected = (find !== undefined);\r\n    }\r\n\r\n    getBorderStyle(): string {\r\n        return this.selected ? \"1px solid green\" : \"1px solid #555555\";\r\n    }\r\n\r\n    //doSelectById(id: string, selected: boolean): void {\r\n    //  const o = document.getElementById(id);\r\n    //  if (o !== undefined && o !== null) {\r\n    //    o.style.border = selected ? '1px solid yellow' : '1px solid #555555';\r\n    //  }\r\n    //}\r\n\r\n    //doSelectByImageViewerId(imageViewerId: string): void {\r\n    //  const id = this.groupData.getId();\r\n    //  this.selected = imageViewerId.startsWith(id);\r\n    //  var divId = 'DivLayoutViewer' + id;\r\n\r\n    //  this.doSelectById(divId, this.selected);\r\n    //}\r\n\r\n    onChangeImageLayout(imageLayoutStyle: number): void {\r\n        if (this.selected) {\r\n            this.setImageLayout(imageLayoutStyle);\r\n        }\r\n    }\r\n\r\n    setImageLayout(imageLayoutStyle: number): void {\r\n        \r\n        this.hangingProtocolService.applyImageHangingProtocol(this.groupData, imageLayoutStyle);\r\n        this.imageDataList = this.groupData.imageDataList;\r\n        this.onResize();\r\n    }\r\n\r\n    getId(): string {\r\n        return `DivLayoutViewer${this.groupData.getId()}`;\r\n    }\r\n\r\n    onResize() {\r\n        if (!this.childImages)\r\n            return;\r\n\r\n        this.logService.debug(\"Group: onResize()\");\r\n\r\n        this.childImages.forEach((imageViewer, index) => {\r\n            imageViewer.onResize();\r\n        });\r\n    }\r\n\r\n    getImageData(rowIndex: number, colIndex: number): ViewerImageData {\r\n        const imageIndex = rowIndex * this.groupData.imageMatrix.colCount + colIndex;\r\n        return this.imageDataList[imageIndex];\r\n       // return this.groupData.getImage(rowIndex, colIndex);\r\n    }\r\n}","module.exports = \".DivImageViewer {\\r\\n    align-items: right;\\r\\n    background-color: #000000;\\r\\n    /*border-top: solid 2px #FFFFFF;\\r\\n  border-bottom: solid 2px #FFFFFF;\\r\\n  border-left: solid 2px #FFFFFF;\\r\\n  border-right: solid 2px #FFFFFF;*/\\r\\n    border: 1px solid #555555;\\r\\n    color: #F5F5F5;\\r\\n    display: flex;\\r\\n    flex: 1;\\r\\n    height: 100%;\\r\\n    justify-content: normal;\\r\\n    overflow: hidden;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.DivImageViewer .viewerCanvas {\\r\\n    -khtml-user-select: none;\\r\\n    -moz-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n    -o-user-select: none;\\r\\n    -webkit-touch-callout: none;\\r\\n    -webkit-user-select: none;\\r\\n\\r\\n    background-color: black;\\r\\n    flex: 1;\\r\\n    height: auto;\\r\\n    max-height: 100%;\\r\\n    max-width: 100%;\\r\\n    user-select: none;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.helpElement {\\r\\n    overflow: hidden;\\r\\n    position: absolute;\\r\\n    visibility: hidden;\\r\\n    z-index: -10000000;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2ltYWdlLXZpZXdlci9pbWFnZS12aWV3ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekI7OzttQ0FHK0I7SUFDL0IseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxhQUFhO0lBQ2IsT0FBTztJQUNQLFlBQVk7SUFDWix1QkFBdUI7SUFDdkIsZ0JBQWdCO0lBQ2hCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHdCQUF3QjtJQUN4QixzQkFBc0I7SUFDdEIscUJBQXFCO0lBQ3JCLG9CQUFvQjtJQUNwQiwyQkFBMkI7SUFDM0IseUJBQXlCOztJQUV6Qix1QkFBdUI7SUFDdkIsT0FBTztJQUNQLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3ZpZXdlci1zaGVsbC9ncm91cC12aWV3ZXIvaW1hZ2Utdmlld2VyL2ltYWdlLXZpZXdlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLkRpdkltYWdlVmlld2VyIHtcclxuICAgIGFsaWduLWl0ZW1zOiByaWdodDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgICAvKmJvcmRlci10b3A6IHNvbGlkIDJweCAjRkZGRkZGO1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCAjRkZGRkZGO1xyXG4gIGJvcmRlci1sZWZ0OiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItcmlnaHQ6IHNvbGlkIDJweCAjRkZGRkZGOyovXHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNTU1NTU1O1xyXG4gICAgY29sb3I6ICNGNUY1RjU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleDogMTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogbm9ybWFsO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uRGl2SW1hZ2VWaWV3ZXIgLnZpZXdlckNhbnZhcyB7XHJcbiAgICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XHJcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG5cclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgZmxleDogMTtcclxuICAgIGhlaWdodDogYXV0bztcclxuICAgIG1heC1oZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG59XHJcblxyXG4uaGVscEVsZW1lbnQge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgIHotaW5kZXg6IC0xMDAwMDAwMDtcclxufVxyXG4iXX0= */\"","module.exports = \"<div class=\\\"DivImageViewer\\\" [id]=\\\"getId()\\\" (click)=\\\"onSelected()\\\" [style.border]=\\\"getBorderStyle()\\\">\\r\\n    <!--<div *ngIf=\\\"worklistService.isUsingLocalTestData() && imageData!== null && imageData.image !== null\\\" style=\\\"width: 500px\\\">\\r\\n        <p>\\r\\n            **************************************\\r\\n            Name : {{imageData.image.series.study.patient.patientName}} | \\r\\n            AccNo : {{imageData.image.series.study.accessionNo}} | \\r\\n            Modality : {{imageData.image.series.modality}} | \\r\\n            ImageID : {{imageData.image.id}}\\r\\n        </p>\\r\\n    </div>-->\\r\\n    <canvas [id]=\\\"getCanvasId()\\\" #viewerCanvas class=\\\"viewerCanvas\\\" (keyup)=\\\"onKeyDown($event)\\\"  tabindex=\\\"0\\\"></canvas>\\r\\n</div>\\r\\n\\r\\n<div #helpElement class=\\\"helpElement\\\"></div>\\r\\n\"","import { Component, OnInit, Input, AfterContentInit, ViewChild, ElementRef, NgZone } from \"@angular/core\";\r\nimport { Location, LocationStrategy, PathLocationStrategy } from \"@angular/common\";\r\nimport { ImageSelectorService } from \"../../../../services/image-selector.service\";\r\nimport { DicomImageService } from \"../../../../services/dicom-image.service\";\r\nimport { ViewContextEnum, ViewContext, OperationEnum, OperationData, ViewContextService } from\r\n    \"../../../../services/view-context.service\"\r\nimport { Subscription } from \"rxjs\";\r\nimport { Image } from \"../../../../models/pssi\";\r\nimport { ViewerImageData } from \"../../../../models/viewer-image-data\";\r\nimport { WorklistService } from \"../../../../services/worklist.service\";\r\nimport { ConfigurationService } from \"../../../../services/configuration.service\";\r\nimport { DialogService } from \"../../../../services/dialog.service\";\r\nimport { LogService } from \"../../../../services/log.service\";\r\nimport { WindowLevelData } from \"../../../../models/dailog-data/image-process\";\r\nimport { ManualWlDialogComponent } from \"../../../../components/dialog/manual-wl-dialog/manual-wl-dialog.component\";\r\n\r\nimport { IImageViewer } from \"../../../../interfaces/image-viewer-interface\";\r\nimport { IAnnotationObject } from \"../../../../interfaces/annotation-object-interface\";\r\n\r\nimport { Point } from '../../../../models/annotation';\r\nimport { AnnObject, MouseEventType } from \"../../../../annotation/ann-object\";\r\nimport { AnnLine } from \"../../../../annotation/ann-line\";\r\n//import { AnnCircle } from \"../../../../annotation/ann-circle\";\r\n//import { AnnRectangle } from \"../../../../annotation/ann-rectangle\";\r\n\r\n\r\n@Component({\r\n    selector: \"app-image-viewer\",\r\n    templateUrl: \"./image-viewer.component.html\",\r\n    styleUrls: [\"./image-viewer.component.css\"],\r\n    providers: [Location, { provide: LocationStrategy, useClass: PathLocationStrategy }]\r\n})\r\nexport class ImageViewerComponent implements OnInit, AfterContentInit, IImageViewer {\r\n    private _imageData: ViewerImageData;\r\n    private image: Image;\r\n    private ctImage: any; //cornerstone image\r\n    private isImageLoaded: boolean;\r\n    private needResize: boolean;\r\n    selected = false;\r\n\r\n    private baseUrl: string;\r\n    private isViewInited: boolean;\r\n\r\n    private subscriptionThumbnailSelection: Subscription;\r\n    private subscriptionImageSelection: Subscription;\r\n    private subscriptionImageLayoutChange: Subscription;\r\n    private subscriptionViewContextChange: Subscription;\r\n    private subscriptionOperation: Subscription;\r\n\r\n    @ViewChild(\"viewerCanvas\")\r\n    private canvasRef: ElementRef;\r\n    private canvas;\r\n\r\n    @ViewChild(\"helpElement\")\r\n    private helpElementRef: ElementRef;\r\n    private helpElement;\r\n    private hasInitedHelpElement: boolean;\r\n\r\n    //layers\r\n    private imgLayer: any;\r\n    private imgLayerId: string;\r\n    private annLayer: any;\r\n    private annLayerId: string;\r\n    private annLabelLayer: any;\r\n    private annLabelLayerId: string;\r\n    private mgLayer: any;\r\n    private mgLayerId: string;\r\n    private olLayer: any;\r\n    private olLayerId: string;\r\n    private rulerLayer: any;\r\n    private rulerLayerId: string;\r\n    private tooltipLayer: any;\r\n    private tooltipLayerId: string;\r\n\r\n    private jcImage: any;\r\n    private jcanvas: any;\r\n\r\n    \r\n    private mouseEventHelper: any = {};\r\n    private eventHandlers: any = {};\r\n\r\n    private originalWindowWidth: number;\r\n    private originalWindowCenter: number;\r\n\r\n    private waitingLabel: any;\r\n\r\n    private wlLabel: any;\r\n    private wlLabelFormat: string;\r\n\r\n    private zoomRatioLabel: any;\r\n    private zoomRatioFormat: string;\r\n\r\n    private label: any;\r\n    private logPrefix: string;\r\n\r\n\r\n    private curSelectObj: IAnnotationObject;\r\n    private annObjList = [];\r\n\r\n    @Input()\r\n    set imageData(imageData: ViewerImageData) {\r\n        this.logPrefix = \"Image\" + imageData.getId() + \": \";\r\n        const log = this.logPrefix + \"set imageData, image \" + (imageData.image === null ? 'is null' : 'id is ' + imageData.image.id);\r\n        this.logService.debug(log);\r\n\r\n        if (this._imageData !== imageData) {\r\n            this._imageData = imageData;\r\n            this.image = this._imageData.image;\r\n\r\n            this.checkLoadImage();\r\n        }\r\n    }\r\n\r\n    get imageData() {\r\n        return this._imageData;\r\n    }\r\n\r\n    constructor(private imageSelectorService: ImageSelectorService,\r\n        private dicomImageService: DicomImageService,\r\n        private configurationService: ConfigurationService,\r\n        private viewContext: ViewContextService,\r\n        public worklistService: WorklistService,\r\n        private dialogService: DialogService,\r\n        private logService: LogService,\r\n        private ngZone: NgZone) {\r\n\r\n        this.subscriptionImageSelection = imageSelectorService.imageSelected$.subscribe(\r\n            viewerImageData => {\r\n                this.doSelectImage(viewerImageData);\r\n            });\r\n\r\n        this.subscriptionThumbnailSelection = imageSelectorService.thumbnailSelected$.subscribe(\r\n            image => {\r\n                this.doSelectImageByThumbnail(image);\r\n            });\r\n\r\n        this.subscriptionViewContextChange = viewContext.viewContextChanged$.subscribe(\r\n            context => {\r\n                this.setContext(context);\r\n            });\r\n\r\n        this.subscriptionOperation = viewContext.onOperation$.subscribe(\r\n            operation => {\r\n                this.onOperation(operation);\r\n            });\r\n\r\n        this.logService.debug(\"Image: a new ImageViewerComponent is created!\");\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.logService.debug(this.logPrefix + \"ngOnInit\");\r\n        this.baseUrl = this.configurationService.getBaseUrl();\r\n\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        this.logService.debug(this.logPrefix + \"ngAfterContentInit\");\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.logService.debug(this.logPrefix + \"ngAfterViewInit\");\r\n\r\n        this.canvas = this.canvasRef.nativeElement;\r\n        this.helpElement = this.helpElementRef.nativeElement;\r\n\r\n        const canvasId = this.getCanvasId();\r\n        jCanvaScript.start(canvasId, true);\r\n        this.jcanvas = jCanvaScript.canvas(canvasId);\r\n\r\n        const parent = this.canvas.parentElement;\r\n        this.canvas.width = parent.clientWidth;\r\n        this.canvas.height = parent.clientHeight;\r\n\r\n        this.jcanvas.width(this.canvas.width);\r\n        this.jcanvas.height(this.canvas.height);\r\n\r\n        this.createLayers(canvasId);\r\n        this.registerCanvasEvents();\r\n        this.registerImgLayerEvents();\r\n\r\n        if (this.image) {\r\n            this.showWaitingText();\r\n        }\r\n\r\n        this.isViewInited = true;\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        if (this.needResize && this.isImageLoaded) {\r\n            const parent = this.canvas.parentElement;\r\n            const curWidth = parent.clientWidth;\r\n            const curHeight = parent.clientHeight;\r\n\r\n            this.canvas.width = curWidth;\r\n            this.canvas.height = curHeight;\r\n            this.jcanvas.width(this.canvas.width);\r\n            this.jcanvas.height(this.canvas.height);\r\n            this.jcanvas.restart();\r\n\r\n            this.logService.debug(this.logPrefix + 'ngAfterViewChecked() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);\r\n            if (this.image) {\r\n                this.fitWindow();\r\n            } else {\r\n                this.jcanvas.clear();\r\n            }\r\n\r\n            if (this.olLayer) {\r\n                this.olLayer.objects().del();\r\n                this.showTextOverlay();\r\n            }\r\n            this.needResize = false;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.jcanvas) {\r\n            this.jcanvas.del();\r\n        }\r\n\r\n        if (this.helpElement) {\r\n            cornerstone.disable(this.helpElement);\r\n        }\r\n    }\r\n\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Implementation of interface IImageViewer\r\n\r\n    getAnnotationLayerId(): string {\r\n        return this.annLayerId;\r\n    }\r\n\r\n    getImage(): Image {\r\n        return this.image;\r\n    }\r\n\r\n    getCanvas(): any {\r\n        return this.canvas;\r\n    }\r\n\r\n    getContext(): ViewContext {\r\n        return this.viewContext.curContext;\r\n    }\r\n\r\n    selectAnnotation(annObj: IAnnotationObject) {\r\n        if (annObj) {\r\n            if (this.curSelectObj !== annObj) {\r\n                if (this.curSelectObj) {\r\n                    this.curSelectObj.onSelect(false, false);\r\n                }\r\n\r\n                this.curSelectObj = annObj;\r\n                this.curSelectObj.onSelect(true, true);\r\n            }\r\n        } else {\r\n            if (this.curSelectObj) {\r\n                if (!this.curSelectObj.isCreated()) {\r\n                    this.deleteAnnotation(this.curSelectObj);\r\n                } else {\r\n                    this.curSelectObj.onSelect(false, false);\r\n                }\r\n\r\n            }\r\n\r\n            this.curSelectObj = undefined;\r\n        }\r\n    }\r\n\r\n    selectNextAnnotation() {\r\n        const len = this.annObjList.length;\r\n        if (len === 0) return;\r\n\r\n        if (!this.curSelectObj) {\r\n            this.selectAnnotation(this.annObjList[0]);\r\n            return;\r\n        }\r\n\r\n        let i = 0;\r\n        for (; i < len; i++) {\r\n            if (this.curSelectObj === this.annObjList[i]) break;\r\n        }\r\n\r\n        if (i === len - 1) i = -1;\r\n        this.selectAnnotation(this.annObjList[i+1]);\r\n    }\r\n\r\n    onAnnotationCreated(annObj: IAnnotationObject) {\r\n        if (this.curSelectObj !== annObj) {\r\n            alert(\"error in onAnnotationCreated\");\r\n            return;\r\n        }\r\n\r\n        if (annObj.isCreated()) {\r\n            this.annObjList.push(this.curSelectObj);\r\n        }\r\n\r\n        this.viewContext.setContext(ViewContextEnum.SelectAnn);\r\n    }\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////'\r\n\r\n\r\n    onKeyDown(event) {\r\n\r\n        if (event.code === \"Delete\") {\r\n            this.deleteAnnotation(this.curSelectObj);\r\n            this.curSelectObj = undefined;\r\n        }else if (event.code === \"KeyA\") {\r\n            this.selectNextAnnotation();\r\n        } else if (event.code === \"KeyF\") {\r\n            if (this.curSelectObj) {\r\n                this.curSelectObj.onSwitchFocus();\r\n            }\r\n        }\r\n        else if (event.code === \"ArrowUp\" || event.code === \"ArrowDown\" || event.code === \"ArrowLeft\" || event.code === \"ArrowRight\") {\r\n            if (this.curSelectObj) {\r\n                this.curSelectObj.onKeyDown(event);\r\n            }\r\n        }\r\n    }\r\n\r\n    getId(): string {\r\n        //TODO: make sure the viewid is unique, even two viewer opened the same image\r\n        return `DivImageViewer${this.imageData.getId()}`;\r\n    }\r\n\r\n    getCanvasId(): string {\r\n        //TODO: make sure the canvas is unique, even two viewer opened the same image\r\n        return `viewerCanvas_${this.imageData.getId()}`;\r\n    }\r\n\r\n    private checkLoadImage() {\r\n        if (!this.isViewInited || (this.image && this.image.cornerStoneImage === undefined)) {\r\n            this.logService.debug(this.logPrefix + 'view not inited or image not loaded, wait...');\r\n            setTimeout(() => {\r\n                this.checkLoadImage();\r\n            }, 100);\r\n        } else {\r\n\r\n            if (!this.image) {\r\n                if (this.jcanvas) {\r\n                    this.jcanvas.clear();\r\n                }\r\n                \r\n                this.logService.debug(this.logPrefix + 'image is null, clear the canvas.');\r\n            } else {\r\n                this.initHelpElement();\r\n                this.ctImage = this.image.cornerStoneImage;\r\n                if (this.ctImage) {\r\n                    this.canvas = this.canvasRef.nativeElement;\r\n                    \r\n\r\n                    const canvasId = this.getCanvasId();\r\n                    jCanvaScript.start(canvasId, true);\r\n                    this.jcanvas = jCanvaScript.canvas(canvasId);\r\n\r\n                    const parent = this.canvas.parentElement;\r\n                    this.canvas.width = parent.clientWidth;\r\n                    this.canvas.height = parent.clientHeight;\r\n\r\n                    this.jcanvas.width(this.canvas.width);\r\n                    this.jcanvas.height(this.canvas.height);\r\n\r\n                    this.logService.debug(this.logPrefix + 'checkLoadImage() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);\r\n\r\n                    this.isImageLoaded = false;\r\n                    cornerstone.displayImage(this.helpElement, this.ctImage);\r\n                    this.logService.debug(this.logPrefix + 'image is loaded, displaying it...');\r\n                }else {\r\n                    this.logService.debug(this.logPrefix + 'local test data, no image to show.');\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private initHelpElement() {\r\n        this.ngZone.runOutsideAngular(() => {\r\n            if (!this.hasInitedHelpElement) {\r\n                this.helpElement = this.helpElementRef.nativeElement;\r\n                //TODO: the init canvas's height and width may too big, should scale to a smaller when first load\r\n                $(this.helpElement).width(this.image.imageColumns).height(this.image.imageRows);\r\n                cornerstone.enable(this.helpElement);\r\n\r\n                var comp = this;\r\n                $(this.helpElement).on(\"cornerstoneimagerendered\",\r\n                    function (e, data) {\r\n                        if (comp.isImageLoaded) { //rendering, or invert\r\n                            comp.onImageRendered(e, data);\r\n                        } else { //first load\r\n                            comp.isImageLoaded = true;\r\n                            comp.onImageLoaded(e, data); //this will set w/l, which will call Rendered again\r\n                        }\r\n                    });\r\n\r\n                this.hasInitedHelpElement = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    private onImageRendered(e, data) {\r\n      this.logService.debug(this.logPrefix + 'onImageRendered() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);\r\n    }\r\n\r\n    private onImageLoaded(e, data) {\r\n\r\n      this.logService.debug(this.logPrefix + 'onImageLoaded() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);\r\n\r\n        const ctCanvas = cornerstone.getEnabledElement(this.helpElement).canvas;\r\n        this.jcImage = jCanvaScript.image(ctCanvas).layer(this.imgLayerId);\r\n\r\n        \r\n\r\n        this.setContext(this.viewContext.curContext);\r\n        //fit window\r\n        this.fitWindow();\r\n\r\n        // Save the original window center/width for later reset.\r\n        this.originalWindowCenter = this.ctImage.windowCenter;\r\n        this.originalWindowWidth = this.ctImage.windowWidth;\r\n\r\n        this.hideWaitingText();\r\n\r\n        // No need to show text overlay here, since ngAfterViewChecked will call it.\r\n        //this.showTextOverlay();\r\n    }\r\n\r\n    private showWaitingText() {\r\n        this.olLayer.visible(true);\r\n\r\n        const font = this.configurationService.getOverlayFont();\r\n        this.waitingLabel = jCanvaScript.text(\"Loading.....\", this.canvas.width / 2, this.canvas.height / 2).layer(this.olLayerId)\r\n            .color(font.color).font(font.getCanvasFontString()).align('center').draggable();\r\n\r\n        //jc.arc(60, 100, 60, 90, 180, 1, 'rgb(25,99,253)', 0).draggable();\r\n\r\n        //var imgData = jc.imageData(100, 100); //���ý�������Ĵ�С\r\n        //for (var i = 0; i < 100; i++) {\r\n        //    for (var j = 0; j < 100; j++) {\r\n        //        imgData.setPixel(i, j, 'rgba(' + i + ',' + j + ',' + (i + j) + ',' + (i / 100) + ')');\r\n        //        //�������ص�i,jΪ���ص�����\r\n        //    }\r\n        //}\r\n        //imgData.putData(0, 0).draggable(); //���ý��������λ��\r\n    }\r\n\r\n    private hideWaitingText() {\r\n        if (this.waitingLabel) {\r\n          this.waitingLabel.del();\r\n          this.waitingLabel = null;\r\n        }\r\n    }\r\n\r\n\r\n    private showTextOverlay() {\r\n\r\n        this.olLayer.visible(true);\r\n\r\n        const font = this.configurationService.getOverlayFont();\r\n\r\n        const canvasContext = this.canvas.getContext(\"2d\");\r\n        canvasContext.font = font.getCanvasFontString();\r\n\r\n        const overlayList = this.dicomImageService.getOverlayDisplayList(this.image, this.canvas.width, this.canvas.height, canvasContext);\r\n\r\n        overlayList.forEach(overlay => {\r\n            let label = jCanvaScript.text(overlay.text, overlay.posX, overlay.posY).layer(this.olLayerId)\r\n                .color(font.color).font(font.getCanvasFontString()).align(overlay.align);\r\n\r\n            if (overlay.id === \"9003\") {\r\n                this.wlLabel = label;\r\n                this.wlLabelFormat = overlay.text;\r\n                this.updateWlTextOverlay(this.image.cornerStoneImage.windowWidth, this.image.cornerStoneImage.windowCenter);\r\n            } else if (overlay.id === \"9004\") {\r\n                this.zoomRatioLabel = label;\r\n                this.zoomRatioFormat = overlay.text;\r\n                this.updateZoomRatioTextOverlay(this.getScale());\r\n            }\r\n        });\r\n\r\n        //this.configurationService.overlayList.forEach(overlay => {\r\n        //    var overlayValue = this.dicomImageService.getTextOverlayValue(this.image, overlay);\r\n        //    var displayText = overlay.prefix + overlayValue + overlay.suffix;\r\n        //    jCanvaScript.text(displayText, 5, 15+line*20).id(idLbl).layer(this.olLayerId).color(\"#ffffff\").font(font).align(\"left\");\r\n        //    line++;\r\n        //});\r\n\r\n\r\n        //jCanvaScript.text(\"Test\", 5, 15).id(idLbl).layer(this.olLayerId).color(\"#ffffff\").font(font).align(\"left\");\r\n\r\n        //this.label = jCanvaScript(`#${idLbl}`);\r\n\r\n\r\n        //this.label._x = 5;\r\n        //this.label._y = 34;\r\n\r\n        //this.label.align('left');\r\n        //this.label.string('aaaaa');\r\n    }\r\n\r\n    private createLayers(canvasId) {\r\n        //create layers\r\n        const self = this;\r\n        this.imgLayerId = canvasId + \"_imgLayer\";\r\n        this.imgLayer = jCanvaScript.layer(this.imgLayerId).level(0); //layer to hold the image\r\n\r\n        self.annLayerId = canvasId + \"_annLayer\";\r\n        self.annLayer = jc.layer(self.annLayerId).level(1); //layer to draw annotations\r\n        self.annLayer.onBeforeDraw = function() { self.onBeforeDrawAnnLayer.call(self); };\r\n\r\n        self.annLabelLayerId = canvasId + \"_annLabelLayer\";\r\n        self.annLabelLayer = jc.layer(self.annLabelLayerId).level(2); //layer to draw annotations label.\r\n\r\n        self.mgLayerId = canvasId + \"_mgLayer\";\r\n        self.mgLayer = jc.layer(self.mgLayerId).level(4); //layer to show magnified image\r\n        self.mgLayer.visible(false);\r\n\r\n        self.olLayerId = canvasId + \"_overlayLayer\";\r\n        self.olLayer = jCanvaScript.layer(self.olLayerId).level(10); //layer to show overlay\r\n\r\n        self.rulerLayerId = canvasId + \"_rulerLayer\"; // layer to show ruler\r\n        self.rulerLayer = jc.layer(self.rulerLayerId).level(9);\r\n\r\n        self.tooltipLayerId = canvasId + \"_tooltipLayer\"; // layer to show tooltip dialog\r\n        self.tooltipLayer = jc.layer(self.tooltipLayerId).draggable(true).level(3);\r\n    }\r\n\r\n    private onBeforeDrawAnnLayer() {\r\n        if (!this.isImageLoaded)\r\n            return;\r\n\r\n        //apply transform\r\n        this.annLayer.transform(1, 0, 0, 1, 0, 0, true);\r\n\r\n        this.annLayer.optns.scaleMatrix = this.imgLayer.optns.scaleMatrix;\r\n        this.annLayer.optns.rotateMatrix = this.imgLayer.optns.rotateMatrix;\r\n        this.annLayer.optns.translateMatrix = this.imgLayer.optns.translateMatrix;\r\n        this.annLayer.scale(1);\r\n    }\r\n\r\n    onSelected() {\r\n        this.imageSelectorService.selectImage(this.imageData);\r\n    }\r\n\r\n    getBorderStyle(): string {\r\n        return this.selected ? \"1px solid #F90\" : \"1px solid #555555\";\r\n    }\r\n\r\n    doSelectImage(viewerImageData: ViewerImageData) {\r\n        this.selected = (this._imageData === viewerImageData);\r\n    }\r\n\r\n    doSelectImageByThumbnail(image: Image) {\r\n        this.selected = (this.image === image);\r\n    }\r\n\r\n    //private doSelectById(id: string, selected: boolean): void {\r\n    //    const o = document.getElementById(id);\r\n    //    if (o !== undefined && o !== null) {\r\n    //        o.style.border = selected ? '1px solid green' : '1px solid #555555';\r\n    //    }\r\n    //}\r\n\r\n    //private doSelectByImageViewerId(imageViewerId: string): void {\r\n    //    var selectedDivId = \"DivImageViewer\" + imageViewerId;\r\n    //    var divId = 'DivImageViewer' + this.imageData.getId();\r\n    //    this.selected = selectedDivId === divId;\r\n    //    this.doSelectById(divId, this.selected);\r\n    //}\r\n\r\n    private setContext(context: ViewContext) {\r\n        const draggable = (context.action == ViewContextEnum.Pan) ||\r\n            (context.action == ViewContextEnum.Select && this.curSelectObj == undefined);\r\n        this.draggable(draggable);\r\n\r\n        //each time context changed, we should unselect cur selected object\r\n        this.selectAnnotation(undefined);\r\n\r\n        //if (previousCtx == contextEnum.create && ctx != contextEnum.create && this.tooltips) {\r\n        //    //hide all tooltips\r\n        //    var theObj = this.tooltips;\r\n        //    var propertys = Object.getOwnPropertyNames(theObj);\r\n        //    propertys.forEach(function (prop) {\r\n        //        var obj = theObj[prop];\r\n        //        if (obj instanceof annTooltip) {\r\n        //            log('hide tooltip');\r\n        //            obj.show(false);\r\n        //        }\r\n        //    });\r\n        //}\r\n\r\n        this.setCursor();\r\n    }\r\n\r\n    private onOperation(operation: OperationData) {\r\n        if (!this.isImageLoaded)\r\n            return;\r\n\r\n        if (!this.selected)\r\n            return;\r\n\r\n        switch (operation.type) {\r\n        case OperationEnum.Rotate:\r\n        {\r\n            this.rotate(operation.data.angle);\r\n            break;\r\n        }\r\n        case OperationEnum.Flip:\r\n        {\r\n            this.flip(operation.data);\r\n            break;\r\n        }\r\n        case OperationEnum.Invert:\r\n        {\r\n\r\n            break;\r\n        }\r\n        case OperationEnum.FitWidth:\r\n        case OperationEnum.FitHeight:\r\n        case OperationEnum.FitOriginal:\r\n        case OperationEnum.FitWindow:\r\n        {\r\n            this.doFit(operation.type);\r\n            break;\r\n        }\r\n        case OperationEnum.Reset:\r\n        {\r\n            this.doReset();\r\n            break;\r\n        }\r\n        case OperationEnum.ShowOverlay:\r\n        {\r\n            this.olLayer.visible(operation.data.show);\r\n            break;\r\n        }\r\n        case OperationEnum.ShowAnnotation:\r\n        {\r\n            this.annLayer.visible(operation.data.show);\r\n            break;\r\n        }\r\n        case OperationEnum.ManualWL:\r\n        {\r\n            this.doManualWl();\r\n            break;\r\n        }\r\n\r\n        }\r\n    }\r\n\r\n    private setCursor() {\r\n        const canvas = this.canvas;\r\n        const curContext = this.viewContext.curContext;\r\n        const cursorUrl = `url(${this.baseUrl}/assets/img/cursor/{0}.cur),move`;\r\n\r\n        if (curContext.action === ViewContextEnum.WL) {\r\n            canvas.style.cursor = cursorUrl.format(\"adjustwl\");\r\n        } else if (curContext.action === ViewContextEnum.Pan) {\r\n            canvas.style.cursor = cursorUrl.format(\"hand\");\r\n        } else if (curContext.action === ViewContextEnum.Select) {\r\n            canvas.style.cursor = \"default\";\r\n        } else if (curContext.action === ViewContextEnum.Zoom) {\r\n            canvas.style.cursor = cursorUrl.format(\"zoom\");\r\n        } else if (curContext.action === ViewContextEnum.Magnifier) {\r\n            canvas.style.cursor = cursorUrl.format(\"zoom\");\r\n        } else if (curContext.action === ViewContextEnum.ROIZoom) {\r\n            canvas.style.cursor = cursorUrl.format(\"rectzoom\");\r\n        } else if (curContext.action === ViewContextEnum.SelectAnn) {\r\n            canvas.style.cursor = cursorUrl.format(\"select\");\r\n        } else if (curContext.action === ViewContextEnum.CreateAnn) {\r\n            \r\n            if (curContext.data === AnnLine) {\r\n                canvas.style.cursor = cursorUrl.format(\"ann_line\");\r\n            }\r\n            //else if (curContext.data === AnnRectangle) {\r\n            //    canvas.style.cursor = cursorUrl.format(\"rect\");\r\n            //} else if (curContext.data === AnnCircle) {\r\n            //    canvas.style.cursor = cursorUrl.format(\"ellipse\");\r\n            //}\r\n        }\r\n    }\r\n\r\n    rotate(angle) {\r\n        if (angle == 0) //rotate 0 will cause the transform messed\r\n            return;\r\n\r\n        this.imgLayer.rotate(angle, \"center\");\r\n        this.updateImageTransform();\r\n\r\n        //var totalAngle = this.getRotate();\r\n        //this.annObjList.forEach(function (obj) {\r\n        //    if (obj.onRotate) {\r\n        //        obj.onRotate(angle, totalAngle);\r\n        //    }\r\n        //}); \r\n    }\r\n\r\n    flip(flipVertical: boolean) {\r\n\r\n        const viewPort = cornerstone.getViewport(this.helpElement);\r\n\r\n        const rotateAngle = this.getRotate();\r\n        if (Math.abs(rotateAngle % 180) === 90) {\r\n            flipVertical = !flipVertical;\r\n        }\r\n\r\n        if (flipVertical) {\r\n            viewPort.vflip = !viewPort.vflip;\r\n        } else {\r\n            viewPort.hflip = !viewPort.hflip;\r\n        }\r\n\r\n        cornerstone.setViewport(this.helpElement, viewPort);\r\n\r\n        this.annObjList.forEach(annObj => annObj.onFlip(flipVertical));\r\n    }\r\n\r\n    scale(value) {\r\n        if (value > 0) {\r\n            this.imgLayer.scale(value);\r\n            this.updateImageTransform();\r\n\r\n            //var totalScale = this.getScale();\r\n            ////adjust objects' size\r\n            //this.annObjList.forEach(function (obj) {\r\n            //    if (obj.onScale) {\r\n            //        obj.onScale(totalScale);\r\n            //    }\r\n            //});\r\n\r\n            //this.updateTag(dicomTag.customScale, totalScale.toPrecision(2));\r\n\r\n            //if (value !== 1) {\r\n            //    this.refreshRuler();\r\n            //}\r\n        }\r\n    }\r\n\r\n    translate(x, y) {\r\n        this.imgLayer.translate(x, y);\r\n        this.updateImageTransform();\r\n\r\n        //this.annObjList.forEach(function (obj) {\r\n        //    if (obj.onTranslate) {\r\n        //        obj.onTranslate();\r\n        //    }\r\n        //});\r\n    }\r\n\r\n    getScale() {\r\n        if (this.image)\r\n            return this.image.getScaleValue();\r\n\r\n        return 1;\r\n    }\r\n\r\n    getRotate() {\r\n        if (this.image)\r\n            return this.image.getRotateAngle();\r\n\r\n        return 0;\r\n    }\r\n\r\n    private updateImageTransform() {\r\n        if (this.image) {\r\n            this.image.transformMatrix = this.imgLayer.transform();\r\n        }\r\n    }\r\n\r\n    onResize() {\r\n\r\n        this.logService.debug(\"Image: onResize()\");\r\n        setTimeout(() => {\r\n                this.needResize = true;\r\n            },\r\n            1);\r\n    }\r\n\r\n    fitWindow() {\r\n        if (!this.isImageLoaded)\r\n            return;\r\n\r\n        const curRotate = 0 - this.getRotate(); //get rotate return the minus value\r\n        const width = this.image.width();\r\n        const height = this.image.height();\r\n        const canvasWidth = this.canvas.width;\r\n        const canvasHeight = this.canvas.height;\r\n        const widthScale = canvasWidth / width;\r\n        const heightScale = canvasHeight / height;\r\n\r\n        this.logService.debug(this.logPrefix + 'fitWindow() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);\r\n\r\n        //log('bestfit, canvas width:' + canvasWidth + \",height:\" + canvasHeight);\r\n\r\n        //this.trueSize();//each time bestfit, need to reset the transform, then apply the scale value.\r\n        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);\r\n\r\n        if (widthScale < heightScale) {\r\n            this.scale(widthScale);\r\n            this.translate(0, (canvasHeight - height * widthScale) / 2);\r\n        } else {\r\n            this.scale(heightScale);\r\n            this.translate((canvasWidth - width * heightScale) / 2, 0);\r\n        }\r\n\r\n        this.rotate(curRotate);\r\n    }\r\n\r\n    doReset() {\r\n        if (!this.isImageLoaded)\r\n            return;\r\n\r\n        const width = this.image.width();\r\n        const height = this.image.height();\r\n        const canvasWidth = this.canvas.width;\r\n        const canvasHeight = this.canvas.height;\r\n\r\n        const widthScale = canvasWidth / width;\r\n        const heightScale = canvasHeight / height;\r\n\r\n        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);\r\n\r\n        if (widthScale < heightScale) {\r\n            this.scale(widthScale);\r\n            this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);\r\n        } else {\r\n            this.scale(heightScale);\r\n            this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);\r\n        }\r\n\r\n        // Reset W/L\r\n        this.ctImage.windowWidth = this.originalWindowWidth;\r\n        this.ctImage.windowCenter = this.originalWindowCenter;\r\n\r\n        const viewPort = cornerstone.getViewport(this.helpElement);\r\n        viewPort.voi.windowCenter = this.originalWindowCenter;\r\n        viewPort.voi.windowWidth = this.originalWindowWidth;\r\n\r\n        // Reset Flip status\r\n        viewPort.vflip = false;\r\n        viewPort.hflip = false;\r\n\r\n        cornerstone.setViewport(this.helpElement, viewPort);\r\n\r\n        this.updateWlTextOverlay(this.originalWindowWidth, this.originalWindowCenter);\r\n        this.updateZoomRatioTextOverlay(this.getScale());\r\n\r\n        this.deleteAllAnnotation();\r\n        this.curSelectObj = undefined;\r\n\r\n        this.refreshUi();\r\n    }\r\n\r\n    doFit(fitType: OperationEnum) {\r\n\r\n        if (!this.isImageLoaded)\r\n            return;\r\n\r\n        const width = this.image.width();\r\n        const height = this.image.height();\r\n        const canvasWidth = this.canvas.width;\r\n        const canvasHeight = this.canvas.height;\r\n\r\n        let widthScale = canvasWidth / width;\r\n        let heightScale = canvasHeight / height;\r\n\r\n        this.logService.debug(this.logPrefix + 'doFit() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);\r\n\r\n        const curRotate = 0 - this.getRotate(); //get rotate return the minus value\r\n        // Sail : currently ignore the free rotate, since free rotate will change both width and height,\r\n        // rotate 90 only switch width and height\r\n        if (curRotate / 180 !== 0) {\r\n            widthScale = canvasWidth / height;\r\n            heightScale = canvasHeight / width;\r\n        }\r\n\r\n\r\n        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);\r\n\r\n\r\n        if (fitType === OperationEnum.FitWindow) {\r\n            if (widthScale < heightScale) {\r\n                this.scale(widthScale);\r\n                this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);\r\n            } else {\r\n                this.scale(heightScale);\r\n                this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);\r\n            }\r\n        } else if (fitType === OperationEnum.FitHeight) {\r\n            this.scale(heightScale);\r\n            this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);\r\n        } else if (fitType === OperationEnum.FitWidth) {\r\n            this.scale(widthScale);\r\n            this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);\r\n        } else if (fitType === OperationEnum.FitOriginal) {\r\n            this.translate((canvasWidth - width) / 2, (canvasHeight - height) / 2);\r\n        }\r\n\r\n\r\n        this.rotate(curRotate);\r\n        this.updateZoomRatioTextOverlay(this.getScale());\r\n    }\r\n\r\n    showOverlay(visible) {\r\n        if (!this.isImageLoaded) {\r\n            return;\r\n        }\r\n        if (visible === undefined) {\r\n            visible = false;\r\n        }\r\n\r\n        this.olLayer.visible(visible);\r\n    }\r\n\r\n    showAnnotation(visible) {\r\n        if (!this.isImageLoaded) {\r\n            return;\r\n        }\r\n        if (visible === undefined) {\r\n            visible = false;\r\n        }\r\n        this.annLayer.visible(visible);\r\n        this.annLabelLayer.visible(visible);\r\n    }\r\n\r\n    showRuler(visible) {\r\n        if (!this.isImageLoaded) {\r\n            return;\r\n        }\r\n        if (visible === undefined) {\r\n            visible = false;\r\n        }\r\n        this.rulerLayer.visible(visible);\r\n    }\r\n\r\n    draggable(draggable: boolean) {\r\n        var self = this;\r\n        if (!self.isImageLoaded) {\r\n            return;\r\n        }\r\n\r\n        var canvas = this.canvas;\r\n        var curContext = this.viewContext.curContext;\r\n\r\n        this.imgLayer.draggable({\r\n            disabled: !draggable,\r\n            start: function(arg) {\r\n                if (curContext.action == ViewContextEnum.Select || curContext.action == ViewContextEnum.CreateAnn) {\r\n                    canvas.style.cursor = \"move\";\r\n                }\r\n            },\r\n            stop: function(arg) {\r\n                if (curContext.action == ViewContextEnum.Select || curContext.action == ViewContextEnum.CreateAnn) {\r\n                    canvas.style.cursor = \"auto\";\r\n                }\r\n            },\r\n            drag: function(arg) {\r\n                self.annObjList.forEach(function(obj) {\r\n                    if (obj.onTranslate) {\r\n                        obj.onTranslate.call(obj);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private doWL(deltaX, deltaY) {\r\n        if (!this.isImageLoaded)\r\n            return;\r\n\r\n        const self = this;\r\n        const dcmImg = self.ctImage;\r\n\r\n        if (deltaX != 0 || deltaY != 0) {\r\n            const maxVOI = dcmImg.maxPixelValue * dcmImg.slope + dcmImg.intercept;\r\n            const minVOI = dcmImg.minPixelValue * dcmImg.slope + dcmImg.intercept;\r\n            const imageDynamicRange = maxVOI - minVOI;\r\n            const multiplier = imageDynamicRange / 1024;\r\n\r\n            const width = dcmImg.windowWidth + Math.round(deltaX * multiplier);\r\n            const center = dcmImg.windowCenter + Math.round(deltaY * multiplier);\r\n\r\n            this.doWlByValue(center, width);\r\n\r\n            //dcmImg.render(width, center, function () {\r\n            //    //update window level values\r\n            //    self.updateTag(dicomTag.windowWidth, dcmImg.windowWidth);\r\n            //    self.updateTag(dicomTag.windowCenter, dcmImg.windowCenter);\r\n            //});\r\n        }\r\n    }\r\n\r\n    private doZoom(delta) {\r\n        if (!this.isImageLoaded)\r\n            return;\r\n\r\n        let scaleValue = 1;\r\n        if (delta > 0) {\r\n            scaleValue = 1.05;\r\n        } else {\r\n            scaleValue = 0.95;\r\n        }\r\n\r\n        const preWidth = this.imgLayer.getRect().width;\r\n        this.scale(scaleValue);\r\n        const afterWidth = this.imgLayer.getRect().width;\r\n\r\n        delta = (afterWidth - preWidth) / 2;\r\n        this.translate(-delta, -delta);\r\n\r\n        this.updateZoomRatioTextOverlay(this.getScale());\r\n\r\n        this.refreshUi();\r\n    }\r\n\r\n    private refreshUi() {\r\n        this.annObjList.forEach(annObject => annObject.onScale(this.getScale()));\r\n    }\r\n\r\n    private registerImgLayerEvents() {\r\n        var self = this;\r\n\r\n        //register imglayer events, note the arg.x/y is screen (canvas) coordinates\r\n        self.imgLayer.mousedown(function(arg) {\r\n            self.onMouseDown(arg);\r\n        });\r\n        self.imgLayer.mousemove(function(arg) {\r\n            self.onMouseMove(arg);\r\n        });\r\n        self.imgLayer.mouseup(function(arg) {\r\n            self.onMouseUp(arg);\r\n        });\r\n        self.imgLayer.mouseout(function(arg) {\r\n            self.onMouseOut(arg);\r\n        });\r\n        self.imgLayer.click(function(arg) {\r\n            //self.onClick(arg);\r\n        });\r\n        self.imgLayer.dblclick(function(arg) { //the event happend after div's dblclick and canva's dblclick, so no use.\r\n            //log('imglayer dblclick ' + self.canvas.id);\r\n        });\r\n    }\r\n\r\n    private onMouseDown(evt) {\r\n        const self = this;\r\n        if (!self.isImageLoaded) {\r\n            return;\r\n        }\r\n\r\n        const viewContext = self.viewContext;\r\n        //log('viwer mouse down: ' + this.canvasId);\r\n\r\n        //if in select context, and not click any object, will unselect all objects.\r\n        if (viewContext.curContext.action == ViewContextEnum.Select) {\r\n            if (!evt.event.cancelBubble) {\r\n                //if (self.curSelectObj && self.curSelectObj.select) {\r\n                //    self.curSelectObj.onSelect(false);\r\n                //    self.curSelectObj = undefined;\r\n                //}\r\n                self.selectAnnotation(null);\r\n                self.draggable(true);\r\n            } else { //an annobject has been selected\r\n                self.draggable(false);\r\n            }\r\n        } else if (viewContext.curContext.action == ViewContextEnum.CreateAnn) {\r\n            const parm = viewContext.curContext.data;\r\n            if (parm && parm.type && !parm.objCreated) {\r\n                const newObj: AnnObject = new parm.type();\r\n //               self.createAnnObject(newObj, parm);\r\n\r\n                parm.objCreated = true; //stop create the annObject again\r\n            }\r\n        }\r\n\r\n        self.emitEvent(evt, MouseEventType.MouseDown, \"onMouseDown\");\r\n    }\r\n\r\n    private onMouseMove(evt) {\r\n        this.emitEvent(evt, MouseEventType.MouseMove, \"onMouseMove\");\r\n    }\r\n\r\n    private onMouseOut(evt) {\r\n        //log('viwer mouse out: ' + this.canvasId);\r\n        this.emitEvent(evt, MouseEventType.MouseOut, \"onMouseOut\");\r\n    }\r\n\r\n    private onMouseUp(evt) {\r\n        //log('viwer mouse up: ' +this.canvasId);\r\n        this.emitEvent(evt, MouseEventType.MouseUp, \"onMouseUp\");\r\n    }\r\n\r\n    //image layer events\r\n    registerEvent(obj, type) {\r\n        if (!this.eventHandlers[type]) {\r\n            this.eventHandlers[type] = [];\r\n        }\r\n\r\n        const handlers = this.eventHandlers[type];\r\n        const len = handlers.length;\r\n        let i: number;\r\n\r\n        for (i = 0; i < len; i++) {\r\n            if (handlers[i] === obj) {\r\n                return; //exists already\r\n            }\r\n        }\r\n\r\n        handlers.push(obj);\r\n    }\r\n\r\n    unRegisterEvent(obj, type) {\r\n        if (!this.eventHandlers[type]) {\r\n            return;\r\n        }\r\n\r\n        const handlers = this.eventHandlers[type];\r\n        const len = handlers.length;\r\n        let i: number;\r\n        let found = false;\r\n\r\n        for (i = 0; i < len; i++) {\r\n            if (handlers[i] === obj) {\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (found) {\r\n            handlers.splice(i, 1);\r\n        }\r\n    }\r\n\r\n    private emitEvent(arg, type, handler) {\r\n        if (!this.isImageLoaded) {\r\n            return;\r\n        }\r\n        const handlers = this.eventHandlers[type];\r\n        if (!handlers || handlers.length == 0) {\r\n            return;\r\n        }\r\n\r\n        //covert screen point to image point\r\n        if (arg.x) {\r\n            arg = AnnObject.screenToImage(arg, this.imgLayer.transform());\r\n        }\r\n\r\n        handlers.forEach(function(obj) {\r\n            if (obj[handler]) {\r\n                obj[handler](arg);\r\n            }\r\n        });\r\n    }\r\n\r\n    private registerCanvasEvents() {\r\n        var self = this;\r\n\r\n        self.canvas.addEventListener(\"contextmenu\",\r\n            function(evt) {\r\n                self.onCanvasContextMenu(evt);\r\n            });\r\n\r\n        //$(self.canvas).on(\"DOMMouseScroll mousewheel\", function (evt) {\r\n        //    self.onCanvasMouseWheel(evt);\r\n        //});\r\n\r\n        $(self.canvas).on(\"dblclick\",\r\n            function(evt) {\r\n                self.onCanvasDblClick(evt);\r\n            });\r\n\r\n        //TODO: keyup not work any more\r\n        const parent = self.canvas.parentElement;\r\n        $(parent).on(\"keyup\",\r\n            function(key) {\r\n                self.onCanvasKeyUp(key);\r\n            });\r\n\r\n        $(self.canvas).on(\"mousemove\",\r\n            function(evt) {\r\n                self.onCanvasMouseMove(evt);\r\n            });\r\n\r\n        $(self.canvas).on(\"mousedown\",\r\n            function(evt) {\r\n                self.onCanvasMouseDown(evt);\r\n            });\r\n\r\n        $(self.canvas).on(\"mouseup\",\r\n            function(evt) {\r\n                self.onCanvasMouseUp(evt);\r\n            });\r\n\r\n        $(self.canvas).on(\"mouseover\",\r\n            function(evt) {\r\n                self.onCanvasMouseOver(evt);\r\n            });\r\n\r\n        $(self.canvas).on(\"mouseout\",\r\n            function(evt) {\r\n                self.onCanvasMouseOut(evt);\r\n            });\r\n    }\r\n\r\n    private onCanvasKeyUp(key) {\r\n        if (!this.isImageLoaded) {\r\n            return;\r\n        }\r\n\r\n        //console.log(key.keyCode);\r\n        //if (key.keyCode == 46) {//user press Delete\r\n        //    this.deleteCurObject();\r\n        //    if (viewContext.curContext == contextEnum.create) {//delete under creating object\r\n        //        viewContext.setContext(contextEnum.select);\r\n        //    }\r\n        //} else if (key.keyCode == 82) { //r\r\n        //    this.rotate(30);\r\n        //} else if (key.keyCode == 90) {//z\r\n        //    this.scale(1.1);\r\n        //}\r\n    }\r\n\r\n    private onCanvasDblClick(evt) {\r\n        //the imagelayer's double click events fires mousedown=>mouseup=>mousedown, which missed the last mosueup event, so we manually fire the mouseup here\r\n        if (!this.isViewInited)\r\n            return;\r\n\r\n        this.canvas.onmouseup(evt); //cause jc to trigger mouseup event, which will stop the drag (imglayer)\r\n        //log('canvas dblclick: ' + this.canvas.id);\r\n    }\r\n\r\n    private onCanvasContextMenu(evt) {\r\n        if (!this.isViewInited) {\r\n            return;\r\n        }\r\n        //todo: add context menus\r\n\r\n        evt.stopImmediatePropagation();\r\n        evt.stopPropagation();\r\n        evt.preventDefault();\r\n    }\r\n\r\n    private onCanvasMouseDown(evt) {\r\n        if (!this.isImageLoaded) {\r\n            return;\r\n        }\r\n\r\n        this.mouseEventHelper._mouseWhich = evt.which; //_mouseWhich has value means current is mouse down\r\n        const point = { x: evt.offsetX, y: evt.offsetY };\r\n        this.mouseEventHelper._mouseDownPosCvs = point;\r\n\r\n        if (this.mouseEventHelper._mouseWhich === 3) { //right mouse\r\n\r\n            if (this.viewContext.curContext.action === ViewContextEnum.CreateAnn) {\r\n                // Right click to cancel the creation of an annotation.\r\n                this.deleteAnnotation(this.curSelectObj);\r\n                this.curSelectObj = undefined;\r\n            } else {\r\n                this.mouseEventHelper._lastContext = this.viewContext.curContext;\r\n                this.viewContext.setContext(ViewContextEnum.WL);\r\n            }\r\n            \r\n        } else if (this.mouseEventHelper._mouseWhich === 1) {\r\n            if (this.viewContext.curContext.action === ViewContextEnum.Magnifier) {\r\n                //this._startMagnifier(evt);\r\n            } else if (this.viewContext.curContext.action === ViewContextEnum.CreateAnn) {\r\n\r\n                \r\n                if (this.curSelectObj) {\r\n                    // There is annotation selected\r\n                    if (!this.curSelectObj.isCreated()) {\r\n                        // The selected annotation is creating\r\n                        this.curSelectObj.onMouseEvent(MouseEventType.MouseDown, point, null);\r\n                    } else {\r\n                        // The selected annotation is created\r\n                        this.selectAnnotation(null);\r\n                        // Start to create a new annotation and assign it as selected.\r\n                        this.startCreateAnnAtPoint(point);\r\n                    }\r\n                } else {\r\n                    // There is no annotation selected\r\n                    this.startCreateAnnAtPoint(point);\r\n                }\r\n            }\r\n            else if (this.viewContext.curContext.action === ViewContextEnum.SelectAnn) {\r\n            }\r\n        }\r\n    }\r\n\r\n    private onCanvasMouseMove(evt) {\r\n        const self = this;\r\n        if (!this.isImageLoaded) {\r\n            return;\r\n        }\r\n\r\n        //console.log(evt.offsetX + \",\" + evt.offsetY);\r\n        const curContext = this.viewContext.curContext;\r\n\r\n        if (!self.mouseEventHelper._lastPosCvs) {\r\n            self.mouseEventHelper._lastPosCvs = { x: evt.offsetX, y: evt.offsetY };\r\n        }\r\n        const deltaX = evt.offsetX - self.mouseEventHelper._lastPosCvs.x;\r\n        const deltaY = evt.offsetY - self.mouseEventHelper._lastPosCvs.y;\r\n\r\n\r\n        if (curContext.action === ViewContextEnum.CreateAnn) {\r\n            if (this.curSelectObj && !this.curSelectObj.isCreated()) {\r\n                const point = { x: evt.offsetX, y: evt.offsetY };\r\n                this.curSelectObj.onMouseEvent(MouseEventType.MouseMove, point, null);\r\n            }\r\n        } else {\r\n            if (self.mouseEventHelper._mouseWhich === 3) {\r\n\r\n                if (curContext.action === ViewContextEnum.WL) {\r\n                    self.doWL(deltaX, deltaY);\r\n                }\r\n            } else if (self.mouseEventHelper._mouseWhich === 1) {\r\n\r\n                if (curContext.action == ViewContextEnum.Magnifier) {\r\n                    //if (self._magnifying) {\r\n                    //    self._loadMagnifierData(evt);\r\n                    //}\r\n                } else if (curContext.action === ViewContextEnum.WL) {\r\n                    self.doWL(deltaX, deltaY);\r\n                } else if (curContext.action === ViewContextEnum.Zoom) {\r\n                    const delta = Math.abs(deltaX) > Math.abs(deltaY) ? deltaX : deltaY;\r\n                    if (Math.abs(delta) > 0) {\r\n                        self.doZoom(delta);\r\n                    }\r\n\r\n                } else if (curContext.action === ViewContextEnum.ROIZoom) {\r\n                    const curPosCvs = {\r\n                        x: evt.offsetX,\r\n                        y: evt.offsetY\r\n                    };\r\n\r\n                    //self.drawROIZoom(self.mouseEventHelper._mouseDownPosCvs, curPosCvs);\r\n                }\r\n            }\r\n        }\r\n\r\n        self.mouseEventHelper._lastPosCvs = { x: evt.offsetX, y: evt.offsetY };\r\n    }\r\n\r\n    private onCanvasMouseUp(evt) {\r\n        const self = this;\r\n        if (!self.isImageLoaded) {\r\n            return;\r\n        }\r\n\r\n        const curContext = this.viewContext.curContext;\r\n\r\n        if (self.mouseEventHelper._mouseWhich == 3) {\r\n\r\n            if (curContext.action == ViewContextEnum.WL) {\r\n                if (self.mouseEventHelper._lastContext.action == ViewContextEnum.CreateAnn) { //cancel create\r\n                    this.viewContext.setContext(ViewContextEnum.Select);\r\n                } else {\r\n                    this.viewContext.setContext(self.mouseEventHelper._lastContext.action,\r\n                        self.mouseEventHelper._lastContext.data);\r\n                }\r\n            }\r\n        } else if (self.mouseEventHelper._mouseWhich === 1) {\r\n\r\n            //if (curContext.action == contextEnum.magnifier && self._magnifying) {\r\n            //    self._endMagnifier();\r\n            //} else if (curContext.action == contextEnum.roizoom) {\r\n            //    var endPosCvs = {\r\n            //        x: evt.offsetX,\r\n            //        y: evt.offsetY\r\n            //    }\r\n            //    self._applyROIZoom(self._mouseDownPosCvs, endPosCvs);\r\n            //}\r\n        }\r\n\r\n        self.mouseEventHelper._mouseWhich = 0;\r\n    }\r\n\r\n    private onCanvasMouseOut(evt) {\r\n        const self = this;\r\n        if (!self.isImageLoaded) {\r\n            return;\r\n        }\r\n\r\n        self.canvas.onmouseup(evt); //cause jc to trigger mouseup event, which will stop the drag (imglayer)\r\n        if (self.mouseEventHelper._mouseWhich != 0) {\r\n            self.onCanvasMouseUp(evt); //call mouseup to end the action\r\n        }\r\n\r\n        ////log('mouse out ' + self.id);\r\n\r\n        //if (viewContext.curContext == contextEnum.create) {\r\n        //    var parm = viewContext.curContextParam;\r\n        //    if (parm && parm.type && parm.tooltip && !parm.objCreated) {\r\n        //        var tooltip = self.getTooltip(parm.type);\r\n        //        tooltip.show(false);\r\n        //    }\r\n        //}\r\n    }\r\n\r\n    private onCanvasMouseOver(evt) {\r\n        const self = this;\r\n        if (!self.isImageLoaded) {\r\n            return;\r\n        }\r\n\r\n        //log('mouse over ' + self.id + ', contex:' + viewContext.curContext);\r\n        //if (viewContext.curContext == contextEnum.create) {\r\n        //    var parm = viewContext.curContextParam;\r\n        //    if (parm && parm.type && !parm.objCreated && parm.tooltip) {//show tooltip before the object is created\r\n        //        log('mouse over: show tooltip');\r\n        //        var tooltip = self.getTooltip(parm.type);\r\n        //        tooltip.setParentCreated(false);\r\n        //        tooltip.setStep(stepEnum.step1);\r\n        //        tooltip.show(true);\r\n        //    }\r\n        //}\r\n    }\r\n\r\n\r\n\r\n    //private createAnnObject(annObj: AnnObject, param: any) {\r\n    //    if (!this.isImageLoaded)\r\n    //        return;\r\n\r\n    //    var self = this;\r\n    //    if (annObj.hasToolTip()) {\r\n    //        //show tooltip\r\n    //    }\r\n\r\n    //    self.showAnnotation(true); //in case user closed the annotation\r\n\r\n    //    if (self.curSelectObj) {\r\n    //        self.selectObject(undefined);\r\n    //    }\r\n\r\n    //    self.curSelectObj = annObj;\r\n    //    annObj.startCreate(self,\r\n    //        function() {\r\n    //            const newObj = this;\r\n    //            if (newObj && newObj.isCreated) {\r\n    //                //finish create\r\n    //                if (self.annObjList.indexOf(newObj) < 0) {\r\n    //                    self.annObjList.push(newObj);\r\n    //                }\r\n\r\n    //                self.viewContext.setContext(ViewContextEnum.Select);\r\n    //                self.selectObject(newObj);\r\n    //            }\r\n    //        },\r\n    //        param);\r\n\r\n    //    return annObj;\r\n    //}\r\n\r\n    private deleteAllAnnotation() {\r\n        this.annObjList.forEach(annObj => annObj.onDeleteChildren());\r\n        this.annObjList = [];\r\n    }\r\n\r\n    private deleteAnnotation(annObj: IAnnotationObject) {\r\n\r\n        if (!annObj) return;\r\n\r\n        if (annObj.isCreated()) {\r\n            // If this annotation is already created, need to remove it from the list\r\n            const len = this.annObjList.length;\r\n\r\n            let i = 0;\r\n            for (; i < len; i++) {\r\n                if (this.annObjList[i] === annObj) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (i !== len) {\r\n                this.annObjList.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        annObj.onDeleteChildren();\r\n    }\r\n\r\n    private doManualWl() {\r\n        const windowLevelData = new WindowLevelData();\r\n        windowLevelData.windowCenter = this.ctImage.windowCenter;\r\n        windowLevelData.windowWidth = this.ctImage.windowWidth;\r\n        this.dialogService.showDialog(ManualWlDialogComponent, windowLevelData).subscribe(\r\n            val => {\r\n                this.doWlByValue(val.windowCenter, val.windowWidth);\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    private doWlByValue(center: number, width: number) {\r\n        const viewPort = cornerstone.getViewport(this.helpElement);\r\n        viewPort.voi.windowCenter = center;\r\n        viewPort.voi.windowWidth = width;\r\n        cornerstone.setViewport(this.helpElement, viewPort);\r\n\r\n        this.ctImage.windowWidth = width;\r\n        this.ctImage.windowCenter = center;\r\n\r\n        this.updateWlTextOverlay(width, center);\r\n    }\r\n\r\n    private updateWlTextOverlay(width: number, center: number) {\r\n        this.wlLabel.string(this.wlLabelFormat.format(width, center));\r\n    }\r\n\r\n    private updateZoomRatioTextOverlay(roomRatio: number) {\r\n        this.zoomRatioLabel.string(this.zoomRatioFormat.format(roomRatio.toFixed(2)));\r\n    }\r\n\r\n    private startCreateAnnAtPoint(point: Point) {\r\n        this.updateImageTransform();\r\n        const annType = this.viewContext.curContext.data;\r\n        this.curSelectObj = new annType(undefined, this);\r\n        this.curSelectObj.onMouseEvent(MouseEventType.MouseDown, point, null);\r\n    }\r\n}\r\n","module.exports = \"#main-nav { margin-left: 1px; }\\r\\n\\r\\n.hangingProtocol-div {\\r\\n    background-color: #333;\\r\\n    border-radius: 2px;\\r\\n    height: 44px;\\r\\n    margin-bottom: 3px;\\r\\n    padding: 2px;\\r\\n}\\r\\n\\r\\n/*.open>.hangingProtocol-menu {\\r\\n    display: block;\\r\\n}*/\\r\\n\\r\\nli.dropdown.open {\\r\\n    margin: -20px 0 0;\\r\\n    width: 44px;\\r\\n}\\r\\n\\r\\nli.dropdown {\\r\\n    margin: -20px 0 0;\\r\\n    width: 44px;\\r\\n}\\r\\n\\r\\n.hangingProtocol-menu {\\r\\n    background-color: #333;\\r\\n    margin: -24px 0 0;\\r\\n    min-width: 40px;\\r\\n    padding-bottom: 0;\\r\\n}\\r\\n\\r\\n.hangingProtocol-menu-button {\\r\\n    background-color: #333;\\r\\n    border: none;\\r\\n    height: 40px;\\r\\n    outline: none;\\r\\n    width: 40px;\\r\\n}\\r\\n\\r\\n.patient-div {\\r\\n    background-color: #333;\\r\\n    border-radius: 2px;\\r\\n    margin-bottom: 3px;\\r\\n    padding: 2px;\\r\\n}\\r\\n\\r\\n.patient-header {\\r\\n    background-color: #555555;\\r\\n    border: solid 1px #333;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    display: flex;\\r\\n    height: 48px;\\r\\n    padding: 4px;\\r\\n    width: 184px;\\r\\n}\\r\\n\\r\\n.patient-header:hover { color: #F90; }\\r\\n\\r\\n.patient-header:hover .patient-button { background: url('Patient_N2.gif') no-repeat left top; }\\r\\n\\r\\n.patient-header:hover .patient-button:active { background: url('Patient_N3.gif') no-repeat left top; }\\r\\n\\r\\n.patient-button {\\r\\n    background: url('Patient_N1.gif') no-repeat left top;\\r\\n    border: none;\\r\\n    height: 40px;\\r\\n    outline: none;\\r\\n    width: 40px;\\r\\n}\\r\\n\\r\\n.patient-info {\\r\\n    height: 40px;\\r\\n    margin-left: 6px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.study-header {\\r\\n    background-color: #555555;\\r\\n    border: solid 1px #333;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    display: flex;\\r\\n    height: 48px;\\r\\n    margin-left: 10px;\\r\\n    padding: 4px;\\r\\n    width: 174px;\\r\\n}\\r\\n\\r\\n.study-header:hover { color: #F90; }\\r\\n\\r\\n.study-header:hover .study-button { background: url('Study_N2.gif') no-repeat left top; }\\r\\n\\r\\n.study-header:hover .study-button:active { background: url('Study_N3.gif') no-repeat left top; }\\r\\n\\r\\n.study-button {\\r\\n    background: url('Study_N1.gif') no-repeat left top;\\r\\n    border: none;\\r\\n    height: 40px;\\r\\n    outline: none;\\r\\n    width: 40px;\\r\\n}\\r\\n\\r\\n.study-info {\\r\\n    height: 40px;\\r\\n    margin-left: 6px;\\r\\n    overflow: hidden;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.series-header {\\r\\n    background-color: #555555;\\r\\n    border: solid 1px #333;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    display: flex;\\r\\n    height: 48px;\\r\\n    margin-left: 20px;\\r\\n    padding: 4px;\\r\\n    width: 164px;\\r\\n}\\r\\n\\r\\n.series-header:hover { color: #F90; }\\r\\n\\r\\n.series-header:hover .series-button { background: url('Series_N2.gif') no-repeat left top; }\\r\\n\\r\\n.series-header:hover .series-button:active { background: url('Series_N3.gif') no-repeat left top; }\\r\\n\\r\\n.series-button {\\r\\n    background: url('Series_N1.gif') no-repeat left top;\\r\\n    border: none;\\r\\n    height: 40px;\\r\\n    outline: none;\\r\\n    width: 40px;\\r\\n}\\r\\n\\r\\n.series-info {\\r\\n    height: 40px;\\r\\n    margin-left: 6px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.image-list {\\r\\n    background-color: #555555;\\r\\n    border: solid 1px #333;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    margin-left: 30px;\\r\\n    padding: 4px;\\r\\n    width: 154px;\\r\\n}\\r\\n\\r\\n.image-button {\\r\\n    background-color: #555;\\r\\n    border: solid 1px #333;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    display: flex;\\r\\n    height: 80px;\\r\\n    margin-left: 30px;\\r\\n    padding: 4px;\\r\\n    width: 154px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxnQkFBZ0IsRUFBRTs7QUFFOUI7SUFDSSxzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjs7QUFFQTs7RUFFRTs7QUFFRjtJQUNJLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztBQUNmOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7SUFDWixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSx3QkFBd0IsV0FBVyxFQUFFOztBQUVyQyx3Q0FBd0Msb0RBQXFGLEVBQUU7O0FBRS9ILCtDQUErQyxvREFBcUYsRUFBRTs7QUFFdEk7SUFDSSxvREFBcUY7SUFDckYsWUFBWTtJQUNaLFlBQVk7SUFDWixhQUFhO0lBQ2IsV0FBVztBQUNmOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLFlBQVk7QUFDaEI7O0FBRUEsc0JBQXNCLFdBQVcsRUFBRTs7QUFFbkMsb0NBQW9DLGtEQUFtRixFQUFFOztBQUV6SCwyQ0FBMkMsa0RBQW1GLEVBQUU7O0FBRWhJO0lBQ0ksa0RBQW1GO0lBQ25GLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixhQUFhO0lBQ2IsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSx1QkFBdUIsV0FBVyxFQUFFOztBQUVwQyxzQ0FBc0MsbURBQW9GLEVBQUU7O0FBRTVILDZDQUE2QyxtREFBb0YsRUFBRTs7QUFFbkk7SUFDSSxtREFBb0Y7SUFDcEYsWUFBWTtJQUNaLFlBQVk7SUFDWixhQUFhO0lBQ2IsV0FBVztBQUNmOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGFBQWE7SUFDYixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFpbi1uYXYgeyBtYXJnaW4tbGVmdDogMXB4OyB9XHJcblxyXG4uaGFuZ2luZ1Byb3RvY29sLWRpdiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgaGVpZ2h0OiA0NHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogM3B4O1xyXG4gICAgcGFkZGluZzogMnB4O1xyXG59XHJcblxyXG4vKi5vcGVuPi5oYW5naW5nUHJvdG9jb2wtbWVudSB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufSovXHJcblxyXG5saS5kcm9wZG93bi5vcGVuIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDQ0cHg7XHJcbn1cclxuXHJcbmxpLmRyb3Bkb3duIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDQ0cHg7XHJcbn1cclxuXHJcbi5oYW5naW5nUHJvdG9jb2wtbWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgbWFyZ2luOiAtMjRweCAwIDA7XHJcbiAgICBtaW4td2lkdGg6IDQwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMDtcclxufVxyXG5cclxuLmhhbmdpbmdQcm90b2NvbC1tZW51LWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ucGF0aWVudC1kaXYge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDNweDtcclxuICAgIHBhZGRpbmc6IDJweDtcclxufVxyXG5cclxuLnBhdGllbnQtaGVhZGVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU1NTU7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogNDhweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxODRweDtcclxufVxyXG5cclxuLnBhdGllbnQtaGVhZGVyOmhvdmVyIHsgY29sb3I6ICNGOTA7IH1cclxuXHJcbi5wYXRpZW50LWhlYWRlcjpob3ZlciAucGF0aWVudC1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9QYXRpZW50X04yLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucGF0aWVudC1oZWFkZXI6aG92ZXIgLnBhdGllbnQtYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1BhdGllbnRfTjMuZ2lmKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5wYXRpZW50LWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9QYXRpZW50X04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ucGF0aWVudC1pbmZvIHtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnN0dWR5LWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxNzRweDtcclxufVxyXG5cclxuLnN0dWR5LWhlYWRlcjpob3ZlciB7IGNvbG9yOiAjRjkwOyB9XHJcblxyXG4uc3R1ZHktaGVhZGVyOmhvdmVyIC5zdHVkeS1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9TdHVkeV9OMi5naWYpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnN0dWR5LWhlYWRlcjpob3ZlciAuc3R1ZHktYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1N0dWR5X04zLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uc3R1ZHktYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1N0dWR5X04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4uc3R1ZHktaW5mbyB7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uc2VyaWVzLWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxNjRweDtcclxufVxyXG5cclxuLnNlcmllcy1oZWFkZXI6aG92ZXIgeyBjb2xvcjogI0Y5MDsgfVxyXG5cclxuLnNlcmllcy1oZWFkZXI6aG92ZXIgLnNlcmllcy1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9TZXJpZXNfTjIuZ2lmKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5zZXJpZXMtaGVhZGVyOmhvdmVyIC5zZXJpZXMtYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1Nlcmllc19OMy5naWYpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnNlcmllcy1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvRGljb21WaWV3ZXIvU2VyaWVzX04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4uc2VyaWVzLWluZm8ge1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uaW1hZ2UtbGlzdCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG4gICAgd2lkdGg6IDE1NHB4O1xyXG59XHJcblxyXG4uaW1hZ2UtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogODBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG4gICAgd2lkdGg6IDE1NHB4O1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row hangingProtocol-div\\\">\\r\\n        <table>\\r\\n            <tr>\\r\\n                <td>\\r\\n                    <li class=\\\"dropdown\\\">\\r\\n                        <a class=\\\"dropdown-toggle nav navbar-collapse\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n                            <button class=\\\"hangingProtocol-menu-button\\\" [style.background-image]=\\\"getHpMenuBackground(selectedGroupHangingData.name)\\\" role=\\\"button\\\" [title]=\\\"selectedGroupHangingData.tip\\\" style=\\\"margin-top: -20px;\\\"\\r\\n                                    (mouseover)=\\\"onMouseOver($event, true)\\\" (mouseout)=\\\"onMouseOut($event)\\\">\\r\\n                            </button>\\r\\n                        </a>\\r\\n                        <ul class=\\\"dropdown-menu hangingProtocol-menu\\\">\\r\\n                            <li *ngFor=\\\"let groupHangingData of hangingProtocolService.getGroupHangingDataList()\\\">\\r\\n                                <button class=\\\"hangingProtocol-menu-button\\\" [style.background-image]=\\\"getHpMenuBackground(groupHangingData.name)\\\" role=\\\"button\\\" [title]=\\\"groupHangingData.tip\\\"\\r\\n                                        (click)=\\\"onSelectGroupHangingProtocol(groupHangingData)\\\" (mouseover)=\\\"onMouseOver($event, false)\\\" (mouseout)=\\\"onMouseOut($event)\\\" (mousedown)=\\\"onMouseDown($event)\\\" (mouseup)=\\\"onMouseUp($event)\\\">\\r\\n                                </button>\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </li>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <li class=\\\"dropdown\\\">\\r\\n                        <a class=\\\"dropdown-toggle nav navbar-collapse\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n                            <button class=\\\"hangingProtocol-menu-button\\\" [style.background-image]=\\\"getHpMenuBackground(selectedGroupLayoutData.name)\\\" role=\\\"button\\\" [title]=\\\"selectedGroupLayoutData.tip\\\" style=\\\"margin-top: -20px;\\\"\\r\\n                                    (mouseover)=\\\"onMouseOver($event, true)\\\" (mouseout)=\\\"onMouseOut($event)\\\">\\r\\n                            </button>\\r\\n                        </a>\\r\\n                        <ul class=\\\"dropdown-menu hangingProtocol-menu\\\">\\r\\n                            <li *ngFor=\\\"let groupLayoutData of hangingProtocolService.getGroupLayoutDataList()\\\">\\r\\n                                <button class=\\\"hangingProtocol-menu-button\\\" [style.background-image]=\\\"getHpMenuBackground(groupLayoutData.name)\\\" role=\\\"button\\\" [title]=\\\"groupLayoutData.tip\\\"\\r\\n                                        (click)=\\\"onSelectGroupLayout(groupLayoutData)\\\" (mouseover)=\\\"onMouseOver($event, false)\\\" (mouseout)=\\\"onMouseOut($event)\\\" (mousedown)=\\\"onMouseDown($event)\\\" (mouseup)=\\\"onMouseUp($event)\\\">\\r\\n                                </button>\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </li>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <li class=\\\"dropdown\\\">\\r\\n                        <a class=\\\"dropdown-toggle nav navbar-collapse\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n                            <button class=\\\"hangingProtocol-menu-button\\\" [style.background-image]=\\\"getHpMenuBackground(selectedImageLayoutData.name)\\\" role=\\\"button\\\" [title]=\\\"selectedImageLayoutData.tip\\\" style=\\\"margin-top: -20px;\\\"\\r\\n                                    (mouseover)=\\\"onMouseOver($event, true)\\\" (mouseout)=\\\"onMouseOut($event)\\\">\\r\\n                            </button>\\r\\n                        </a>\\r\\n                        <ul class=\\\"dropdown-menu hangingProtocol-menu\\\">\\r\\n                            <li *ngFor=\\\"let imageLayoutData of hangingProtocolService.getImageLayoutDataList()\\\">\\r\\n                                <button class=\\\"hangingProtocol-menu-button\\\" [style.background-image]=\\\"getHpMenuBackground(imageLayoutData.name)\\\" role=\\\"button\\\" [title]=\\\"imageLayoutData.tip\\\"\\r\\n                                        (click)=\\\"onSelectImageLayout(imageLayoutData)\\\" (mouseover)=\\\"onMouseOver($event, false)\\\" (mouseout)=\\\"onMouseOut($event)\\\" (mousedown)=\\\"onMouseDown($event)\\\" (mouseup)=\\\"onMouseUp($event)\\\">\\r\\n                                </button>\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </li>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n    <div *ngFor=\\\"let patient of viewerShellData.patientList\\\" class=\\\"row patient-div\\\">\\r\\n        <div class=\\\"patient-header\\\">\\r\\n            <div>\\r\\n                <button class=\\\"patient-button\\\" (click)=\\\"onClickPssi(patient)\\\" title=\\\"Toggle to show/hide patient images\\\"></button>\\r\\n            </div>\\r\\n            <table class=\\\"patient-info\\\">\\r\\n                <tr>{{patient.patientName}}</tr>\\r\\n                <tr>{{patient.patientId}}</tr>\\r\\n            </table>\\r\\n        </div>\\r\\n        <div *ngFor=\\\"let study of patient.studyList\\\"\\r\\n             [style.visibility]=\\\"getPssiVisibility(patient)\\\" [style.height]=\\\"getPssiHeight(patient)\\\">\\r\\n            <div class=\\\"study-header\\\">\\r\\n                <div>\\r\\n                    <button class=\\\"study-button\\\" (click)=\\\"onClickPssi(study)\\\" title=\\\"Toggle to show/hide study images\\\"></button>\\r\\n                </div>\\r\\n                <table class=\\\"study-info\\\">\\r\\n                    <tr>{{study.studyDate}}</tr>\\r\\n                    <tr>{{study.studyDescription}}</tr>\\r\\n                </table>\\r\\n            </div>\\r\\n            <div *ngFor=\\\"let series of study.seriesList\\\"\\r\\n                 [style.visibility]=\\\"getPssiVisibility(study)\\\" [style.height]=\\\"getPssiHeight(study)\\\">\\r\\n                <div class=\\\"series-header\\\">\\r\\n                    <div>\\r\\n                        <button class=\\\"series-button\\\" (click)=\\\"onClickPssi(series)\\\" title=\\\"Toggle to show/hide series images\\\"></button>\\r\\n                    </div>\\r\\n                    <table class=\\\"series-info\\\">\\r\\n                        <tr>{{series.modality}}</tr>\\r\\n                        <tr>{{series.imageCount}} image</tr>\\r\\n                    </table>\\r\\n                </div>\\r\\n                <div *ngFor=\\\"let a of Arr(getThumbnailListRowCount(series)).fill(1); let imageIndex = index\\\"\\r\\n                     [style.visibility]=\\\"getPssiVisibility(series)\\\" [style.height]=\\\"getPssiHeight(series)\\\">\\r\\n                    <div class=\\\"image-button\\\">\\r\\n                        <app-thumbnail [image]=\\\"series.imageList[imageIndex*2]\\\"></app-thumbnail>\\r\\n                        <app-thumbnail *ngIf=\\\"imageIndex*2+1 < series.imageList.length\\\" [image]=\\\"series.imageList[imageIndex*2+1]\\\"></app-thumbnail>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input, EventEmitter, Output } from \"@angular/core\";\r\nimport { LocationStrategy } from \"@angular/common\";\r\n\r\nimport { ViewerShellData } from \"../../../models/viewer-shell-data\";\r\nimport { Series, Pssi } from \"../../../models/pssi\";\r\nimport { GroupHangingData, ImageHangingData } from \"../../../models/hanging-protocol\";\r\nimport { HangingProtocolService } from \"../../../services/hanging-protocol.service\";\r\nimport { ImageSelectorService } from \"../../../services/image-selector.service\";\r\nimport { LogService } from \"../../../services/log.service\";\r\n\r\n@Component({\r\n    selector: \"app-navigation\",\r\n    templateUrl: \"./navigation.component.html\",\r\n    styleUrls: [\"./navigation.component.css\"]\r\n})\r\nexport class NavigationComponent implements OnInit {\r\n    Arr = Array; //Array type captured in a variable\r\n    @Input()\r\n    viewerShellData: ViewerShellData;\r\n    @Output()\r\n    layout = new EventEmitter<number>();\r\n\r\n    private baseUrl: string;\r\n\r\n    groupLayoutList = [\"1X1\", \"1X2\", \"2X1\", \"2X2\", \"3X3\"];\r\n    imageHangingList = [\"1X1\", \"1X2\", \"2X1\", \"2X2\", \"3X3\", \"3X4\", \"5X6\"];\r\n\r\n    selectedGroupHangingData: GroupHangingData;\r\n    selectedGroupLayoutData: GroupHangingData;\r\n    selectedImageLayoutData: ImageHangingData;\r\n\r\n    groupLayout = \"1X1\";\r\n    imageLayout = \"1X1\";\r\n\r\n    constructor(public hangingProtocolService: HangingProtocolService,\r\n        private imageSelectorService: ImageSelectorService,\r\n        private locationStrategy: LocationStrategy,\r\n        private logService: LogService) {\r\n        this.selectedGroupHangingData = this.hangingProtocolService.getDefaultGroupHangingData();\r\n        this.selectedGroupLayoutData = this.hangingProtocolService.getDefaultGroupLayoutData();\r\n        this.selectedImageLayoutData = this.hangingProtocolService.getDefaultImageLayoutData();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.baseUrl = window.location.origin + this.locationStrategy.getBaseHref();\r\n    }\r\n\r\n    onClickPssi(pssi: Pssi) {\r\n        const hide = !pssi.hide;\r\n        pssi.setHide(hide);\r\n    }\r\n\r\n    getPssiVisibility(pssi: Pssi) {\r\n        return (pssi.hide || this.viewerShellData.hide) ? \"hidden\" : \"visible\";\r\n    }\r\n\r\n    getPssiHeight(pssi: Pssi) {\r\n        return (pssi.hide || this.viewerShellData.hide) ? \"0px\" : \"100%\";\r\n    }\r\n\r\n    getThumbnailListRowCount(series: Series): number {\r\n        const count = Math.trunc((series.imageList.length + 1) / 2);\r\n        return count;\r\n    }\r\n\r\n    getHpMenuBackground(name: string) {\r\n        const background = `url(${this.baseUrl}assets/img/DicomViewer/${name}_N1.gif)`;\r\n        return background;\r\n    }\r\n\r\n    onMouseOver(event, triggerClick: boolean) {\r\n        event.target.style.backgroundImage = event.target.style.backgroundImage.replace(\"N1\", \"N2\");\r\n        if (triggerClick) {\r\n            //event.target.click();\r\n        }\r\n    }\r\n\r\n    onMouseOut(event) {\r\n        const imageUrl = event.target.style.backgroundImage.replace(\"N2\", \"N1\");\r\n        if (imageUrl === event.target.style.backgroundImage) {\r\n            event.target.style.backgroundImage = event.target.style.backgroundImage.replace(\"N3\", \"N1\");\r\n        } else {\r\n            event.target.style.backgroundImage = imageUrl;\r\n        }\r\n    }\r\n\r\n    onMouseDown(event) {\r\n        event.target.style.backgroundImage = event.target.style.backgroundImage.replace(\"N2\", \"N3\");\r\n    }\r\n\r\n    onMouseUp(event) {\r\n        event.target.style.backgroundImage = event.target.style.backgroundImage.replace(\"N3\", \"N1\");\r\n    }\r\n\r\n    onSelectGroupHangingProtocol(groupHangingData: GroupHangingData) {\r\n        this.logService.seperator();\r\n        this.logService.info(\"User: \" + groupHangingData.tip);\r\n        this.selectedGroupHangingData = groupHangingData;\r\n        this.layout.emit(this.selectedGroupHangingData.groupHangingProtocol);\r\n    }\r\n\r\n    onSelectGroupLayout(groupHangingData: GroupHangingData) {\r\n        this.logService.seperator();\r\n        this.logService.info(\"User: \" + groupHangingData.tip);\r\n        this.selectedGroupLayoutData = groupHangingData;\r\n        this.layout.emit(this.selectedGroupLayoutData.groupHangingProtocol);\r\n    }\r\n\r\n    onSelectImageLayout(imageLayoutData: ImageHangingData) {\r\n        this.logService.seperator();\r\n        this.logService.info(\"User: \" + imageLayoutData.tip);\r\n        this.selectedImageLayoutData = imageLayoutData;\r\n        this.imageSelectorService.changeImageLayout(this.selectedImageLayoutData.imageHangingProtocol);\r\n    }\r\n}\r\n","module.exports = \".thumbnail {\\r\\n    background-color: black;\\r\\n    border: solid 1px #888;\\r\\n    height: 70px;\\r\\n    margin-right: 4px;\\r\\n    overflow: hidden;\\r\\n    padding: 2px;\\r\\n    width: 70px;\\r\\n}\\r\\n\\r\\n.thumbnail:hover { border: solid 2px #F90; }\\r\\n\\r\\n.img {\\r\\n    background-color: black;\\r\\n    height: 70px;\\r\\n  \\r\\n    margin-right: 4px;\\r\\n    overflow: hidden;\\r\\n    width: 70px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi90aHVtYm5haWwvdGh1bWJuYWlsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUEsbUJBQW1CLHNCQUFzQixFQUFFOztBQUczQztJQUNJLHVCQUF1QjtJQUN2QixZQUFZOztJQUVaLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi90aHVtYm5haWwvdGh1bWJuYWlsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGh1bWJuYWlsIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzg4ODtcclxuICAgIGhlaWdodDogNzBweDtcclxuICAgIG1hcmdpbi1yaWdodDogNHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBhZGRpbmc6IDJweDtcclxuICAgIHdpZHRoOiA3MHB4O1xyXG59XHJcblxyXG4udGh1bWJuYWlsOmhvdmVyIHsgYm9yZGVyOiBzb2xpZCAycHggI0Y5MDsgfVxyXG5cclxuXHJcbi5pbWcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBoZWlnaHQ6IDcwcHg7XHJcbiAgXHJcbiAgICBtYXJnaW4tcmlnaHQ6IDRweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB3aWR0aDogNzBweDtcclxufVxyXG4iXX0= */\"","module.exports = \"<div class=\\\"thumbnail\\\" [style.border]=\\\"getBorderStyle()\\\" (click)=\\\"onSelected()\\\" (mouseover)=\\\"onMouseOver($event)\\\" (mouseout)=\\\"onMouseOut($event)\\\">\\r\\n    <img [src]=\\\"thumbnailToShow\\\"/>\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input } from \"@angular/core\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { Image } from \"../../../../models/pssi\";\r\nimport { WorklistService } from \"../../../../services/worklist.service\";\r\nimport { ImageSelectorService } from \"../../../../services/image-selector.service\";\r\nimport { DicomImageService } from \"../../../../services/dicom-image.service\";\r\n\r\n@Component({\r\n    selector: \"app-thumbnail\",\r\n    templateUrl: \"./thumbnail.component.html\",\r\n    styleUrls: [\"./thumbnail.component.css\"]\r\n})\r\nexport class ThumbnailComponent implements OnInit {\r\n\r\n    thumbnailToShow: any;\r\n    isImageLoading: boolean;\r\n    selected = false;\r\n    subscriptionImage: Subscription;\r\n    subscriptionThumbnail: Subscription;\r\n\r\n    borderStyle = \"1px solid #555\";\r\n\r\n    _image: Image;\r\n\r\n    @Input()\r\n    set image(Image: Image) {\r\n        if (this._image !== Image) {\r\n            this._image = Image;\r\n            this.refreshImage();\r\n        }\r\n    }\r\n\r\n    get image() {\r\n        return this._image;\r\n    }\r\n\r\n    constructor(private imageSelectorService: ImageSelectorService,\r\n        private dicomImageService: DicomImageService,\r\n        private worklistService: WorklistService) {\r\n        this.subscriptionImage = imageSelectorService.imageSelected$.subscribe(\r\n            viewerImageData => { this.doSelectImage(viewerImageData.image); });\r\n\r\n        this.subscriptionImage = imageSelectorService.thumbnailSelected$.subscribe(\r\n            image => { this.doSelectImage(image); });\r\n    }\r\n\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    getBorderStyle(): string {\r\n        return this.borderStyle;\r\n    }\r\n\r\n    doSelectImage(image: Image) {\r\n        this.selected = (this.image === image);\r\n        this.borderStyle = this.selected ? \"2px solid #F90\" : \"1px solid #555\";\r\n    }\r\n\r\n    onSelected() {\r\n        this.imageSelectorService.selectThumbnail(this.image);\r\n    }\r\n\r\n    onMouseOver(event) {\r\n        this.borderStyle = \"1px solid #F90\";\r\n    }\r\n\r\n    onMouseOut(event) {\r\n        this.borderStyle = this.selected ? \"2px solid #F90\" : \"1px solid #555\";\r\n    }\r\n\r\n    /*\r\n    setSelectState(selected: boolean): void {\r\n        var o = document.getElementById(\"thumbnail\" + this.imageSop);\r\n        if (o !== null) {\r\n            o.style.color = selected ? 'red' : 'white';\r\n        }\r\n    }\r\n  \r\n    onClick() {\r\n        this.setSelectState(true);\r\n        this.imageSelectorService.selectImage(this.imageSop);\r\n    }\r\n    */\r\n\r\n    refreshImage() {\r\n        if (this._image !== null) {\r\n            if (this.worklistService.isUsingLocalTestData()) {\r\n                this.thumbnailToShow =\r\n                    \"data:image/jpeg;base64,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1NPS0M7Nzs7PyLy+w8bKztbc2c7Tv7y6tK2jm5GABgUGM2F3jJeepauwuL3CydPR19ze2djSy8G9vLiyqqCYlpWKlZ6mqK2tqa+4uL7CxcbGyMnJx8jHycvK0drj6Ojo6Onn5uTk6OXj3dfU1dTT0tLW1dXW1tTT0tHR0dDQ0tHRz83LysvLysKysbrBxMrR2dzZz9LBvLu1rqWdk4AFBQg4YXqPmJ+lq7K3vcLP0NLX3d/c2tTMwbi4trGvqaGcl5OSmqepqrCwsrm8u73EycjMzdHPzMrNz8/R2ePp6Ojo6ejm4+To4eDa1tXV09XW1dTV1NPSzs7Nzs7OzM3PzMzKycfIyMa6qquwt73CytPb3NnQz8a+u7awpp6VggUFCzphfZCYoKatsri9w9XO0tfc3+Hd1c3BtaywsbS0qKGblpWdoa2qr7W0uL+8v8LGy87Q0tTV1NTU19jb4+rn6Ojp5uXj5Ojg393c2dnX19XT09TQzs/Ly8vKy8jIysnHxcXFxcbAsaCepayxu8PL1t3b2NDMy768tq+mn5eGBQUOO2J/kJmgp62yuL7F0szT19vf4t/WzMG1ra2usLGtpJyVl6Wlp6qvuLm6vsC/wsXHztDU1dTV19nb3d7k6+fo5+jm5OLk5uDf3dnV09PT0tDQ0MvLy8fHx8bHw8fHwcDBwcC/u6qcnJ2hp6+7xM3Y3tzX0crQv7y2sKegmYcFBRM6Y3+RmaCnrrK5v8bKzNPX2t/i4tnNwLaysK6ur66om5mXpqmqqK66vLq8wsHDxcbLztTV09TW1tna3uTq6Ojo5+bk4+Tl4N/d2NPR0M/PzMzPycjIw8LAvr/Cv7i3uLW3tK6goqGcnaGjrbrGzdve3NbSytXBvLaxqaCahwUFFzlif5CZoaevtLvAx8vN09fa3uLk3M7Du7azrqypoqeclZWlrK6vr7S+vrzBwsXFxsrM0NPS1dXV19rf5efp6Ojn5uTj5OPj49zX09DNysjHycvDwMK/urm3urexrK2pqqeel5mbmaCjo6atucXP397b1tPLzMG7uLOropuIBQUbOmF/kJqhqK+1u8LIzc7T19rd4uThzsS/urOspqCYl6GWlp6utre3ubzBvsHExcbHy8zQ0c/R09XY2d7m6eno6Ojn5eTk5eXk3dfUzcnFu7vBwLSzs7e3sbSspqCdmZaWkZKSi5CboKGnq6+4x9Th39nW08zEwby5tKyinIkFBx46YH6PmaGosLa9xMrOz9TX2t3i5OTTxsC7ta6hmpqRmJmYlai0tbe7vcHCwMTGxsnMzdDQ0NHS1NfZ3uXn5+bm5+Xj4eHi4uLe1dLNx7qmkaCln5+hp6GjnZSOgn6CiImQlo6Rj5aeoqits7nK2eDf2dbTzMXBvru2rqOciQQLIDpde46Zoaivt77Hy87P09fa3eHk5dfKwbq1qKKemJKPio6Ro6yxtLm+wcXDxcfGyczN0dLR0tPT1dji5ufn5+fo5+Xj4uPk497U0s3Gt6OMl4l3f4+ZjYuBdnp5iYKLkIuEhoyTkp+mqq+0vs7b4N7Y1tLNxsPAvLewpJ2KBBAiO1t5jJihqa+3v8fMz9DT1trd4OPl2s/Euq+spaCblpGNg4SgqrC0ur3BxcjHycfL0c3R0tTU09XW2OHl5+fn5+no5ePi4+Pk3tTTzMGzq5ePh29ufYeDgoB8hoJ+d35+fYWDipGXm6Sqs7vFztzf3dnW0s7IxsG9ubGlnYoEFCQ7WXaKmKGpsLi/x83Oz9LW2d3f4ubc0Me5saqloZiZlpCAfZGlr7S8wMLGy8vNy8vR0dLR09TW1tja4OXn5+fn6Ofk4uHh4+Lc1dDLwLCll4d/eIWMjYeSgoaFe3Z4eHF9gYmIjZKWpLG5wcfO3t7d2dbTzsjGw7+6s6adigcXJTpWc4eVn6mwuL/Gzc/P0tbZ3N7j5d3Qx72xq6SfnZKUmIJ2iayvsrq/wsXKzc7Ozs3R09HT09bX2Nrf5efn5ufo5+Ti4uPj39rSzMnCsqSdio+UkJKHk5N9fH14hoNucX6Ah4WHj5qmtb3EyM/d3N3Y1dPOx8bFwLu1p56KCxooOlRvhJSfqLC4wMbMz9DS1dnb3eLk4NLEvrWso52ZjomMiH17ma60tbvAxMjKz8zNz9LT0M/S1dTX2d/l5ubm5ujn5OPi4eHe2dLLyMG4r6iWmJ2Uk5GPhnN1gH9+cG56gH1/iYqSnqmzvsTJz93c3NfV0czIx8TAvLWnnYsQHCo7U2uBkZ2nrrjAxsrOz9LV2Nvd4uPg0sK5trGlnpmPh4OGh4KIpLK2uLvAxsjOzs7N0dbT0dPT1Njb4OXm5ufn5+bj4+Lh4N7Z1M/NyL6xqKChnpyRkol8fYSBfnR1doCEfICHkJujprG9xMfO3tzb1tTRzMfFw8G9tqidixMfLDxSaH6PnKavuMDFyc7P0tbY2tzh4+HOwrmzsaujmpSQi4qGgYSarrW5ubvCxszQz87S1NLU1tjY2tvh5ebm5+bn5uPi4uHh3tfSy8nIw7SrpZyaiYyJjJOTj3h2eYCAgnl7hoqVnKKor7vAx9De3NrV09HMxsXEwb21qZ2KFSEuPFBle4yapK63v8XJzc3R1dfa3ODk4c++t7Suramln5yTkoZ9e4+lsbm8u77BxszMzdHT0tPT1tbW2N7k5ufn5ufn5eTk5OPe1M/KycrJwbGkiYJ8gXh1hZiFc3V+foGAgImUlpWaoaWpr77H097d2NbT0MvFxMPBvbarnIgXIzA+UGJ3iZikrbe/xcnLzc/T1tnb4OTg07uyrq6tq6qkoZKPjIWBhpSgsbu8wMHFys3Lz9PV09TV1dXY3+Pn5+bl5ubj5OTj4NzVz8rIx8O/r6OGhId9d3d8fX15bn2CjIWFjJSXmpiZm56ovcnY3d3Y1dPPy8XEwsG9tqychxglMkBQYXSFlqKst7/FycvNz9PW2dzg4t7WvrGrqaqrp6CcmJKNjX1xhJyktLfAxsXKzMzO0dPR0tTU1dff5Obm5eXm5ePi4+Lh39bRzMXDvrWqnpeTjoB+foBxdYGChYSMkZOWlZSUlJSWnKa6zNzd29fV0c7JxMTBwb23rZ2HGiYzQU9fcIKToKu3vsXJy8zO0tbZ3ODi3tHIsaulpKGfnpuXl4+IgnRxk5+us7vCzMzLy83O0M7Q0tLV2N/k5ubm5+fn5eTj4eDd2NHKxcK7squklJSXgXx6dn5/hIWNi4iOioqMjo2RmJidpLXT297Z1tTRzcjCw8HBvbatnYccKDNCUV9uf5Ceqra+xcjKy87R1dnc3+Ddz868rqagnJiRlpGMj4mBgHaHnaixvL3ByMrKzMvOzs/Q0tTX3uPk5eXm5+bj4eLg393Y0czHwbmtqqSOlJF/eHuBhoV+iYJ/gIKFgYCEjZOXm5+jtdba3dfV1NDMx8LDwcC9tq2ehh4qNEJSX218jZuqtr7Ex8nKzNDV2Nrf39nOy8m1p5+TiYWJj46NjX6BgoCWrbe7vL2/xsfKyczOzs/Q0tbc4uTk5OXm5eLh4N/e3tjSzMa/tKijnpCRk4qIi4Z9gIuIfn5+fHV5goCKkZecoK3D1Nvb19XT0cvGw8PBwLy2raCFICs2QlFgbXuLmqm1vMPHx8nMz9TX2d3e18vJx8KrmYuGhISAhYWIi4iHioqksLq8urvAxMbGy83P0NDS19zi5eXl5ubl4uHg4N/b1tDKw7uypKChl5CfkpCGhISAhoOEeXR0dnmBgYqTl5yqvcXQ29nX1NPRysXEw8HAvLWsoYchLDdDUmFteomYqbS8wsXIycvP1NbY3N7Zx8fCvrSXj4ODfHl7eHJ3goiMhouitLq+wMDDxcTJzNDPz9DW3OHl5eXl5eXi4ODf3trWzsXBu7SuqaOYmqGVmY+Gf355eHdyeXd4eoGEgImZpri+xs3Z2dfU0tDKxcXCwcC7tayhiCMsN0VTYW16iZmps7rAxMbIys/T1tfa3tvGwr26r6qTjIZ7dXZ8cWlyfoaFfJKmtbi7v8PFycrMzs3O0dfc4eTk5OXl4+Hf393d29bQycTBurKnn5mkmYeWkH5xaG1vdHiAdXV7g3+EjZ6wt77EytjZ19PSz8zGxcPBv7u0q6CIJC02Q1NhbnqJm6qyusDDxMfJztTV19je28a8u7GuqaiThHpya3F0bm1tbXV5eZOqtre+v8LFy87Q0dLS1tvg4+Tk5OPi4N7e3d3b083FwL22tqedm6KbjYV4ZGpwbWpubnNydn6Bh5Cdpq20u8DD2dnX09HPzcfFwsC+u7SroIokLjdBUWFteoqeqrK6v8LDx8jP09XW197aybmtrqmmoaOSfHdvaWpudXBpZ3BvcZGot727xsXJzc3Ozs/V2t/j4+Pj4+Hf3t3c2tfSzMbBu7azpZyboKOUd3hoZmhjZWhoa3J4fIWQmZ2jqa+4tcHY2dbS0c/MycTCv766tKyhiyQuN0BPX256jqCrs7m/wMLGyM/S1NbW3dnPtaWjqKSemZmQe3JybXBub2xnaWRgaJWmtbi1usPKysrKy9LY3uDi4uHh39zc29vZ1c7MxcO/tKqZj5STm5F4c2llaGdrbGtxb3qHj5OWm6Snpamxwdja1NLQzsvLxMK+vLm0rKKNJy42P0xdbn+Uoauzur6/wsXKztHU1dbc19Ozpp2doZyWkZCPgnRzcmplZmVnZWNZZo+ksa6ut8LGxsbJ0dff4eLj4+Ph4N7c29rWzcrFw8CvoZmDjJaWjn5vZWhzb2tqb3R7gIqLkJacnpiYpLDC19vU0c/Ny8vGwb67ubOto44tMzU/SVlthZejrLS6vb/CxMzO0NPV1trX0rqonZmUlpOPkZKOgHd4b2ZjYVxWYGRfdZ6qrq2wub3Aw8bP193f4eDh4d/c29nY19bNxr++wquZiHZ/iIyBZmVnZ2ltbHJ4gIaIjoyMkpGNj5ehrcfW2tTRz8zLysbAvbq4tK6lkTI6Pj5JVG6HmKWutbm9vsHEzc7Q0tPX2dbMxK2emJCMjZGJioyKhH95bmtoYFlcYm9yhKKtrq6zt72+w8zU297f39/g3tvZ2NfX1MrDwLu7oYiCgIGFhnJnYF9dYWx1dnqCg4qLi4p/fYWMlqCszNLY1dHOzMvJyMC9ure0rqiVNz9DQkdWbYqapq60uby/wMfMzs/Q0tfY08rFtKCWjYyKh4mIgn2Af3t4enZxamhtc3p6kayxrK2zuL3AydHY3d7e39/d29nX1tbTysPBvK6cgYOGhoB0amBdY2hmcHV6en6AiImDe3l6goiWorPN0tfV0s7Ny8rJwby5t7SuqZY7Q0hIS1ptipynr7W6vb7Ayc3OztDR2NjQyMG/pZWNi4WBgYB9end3dXJycXFsXGFsdnBvkK+1sbK1usHJz9Xc3dzd3d3a19fX19HJwLu4rZqFj5KSf3ZzbGtobHJwbXFydXR2cnR7enx/iJWmwMbR1tTSz8zMysnEvLi2s6+pmD5GS0xVXm2Fnqmwtbq8vcDMzM7OztHY2c/CwL2zlo+LiIWAdHh6dW9tcHRxcXtzY15caG57lae1t7W5vsjQ1dzd293d3NrY19jV08rEvbeynYqXoaWMfWtqa3FuaWhmaGtjYWZucnV6foKGmLS+ws3V1NPOzc3Kyca8ubazr6qZQEdNV19haoKhq7K2uby9xMzMzs3N0dnYzry+uremj4uKgntwa2Zqa2hpamdtbmxsZ158iH+DnLi3tri/ydDW29zc3d7d2tjX19fVzsvCvLennJiWnX9nY2lvaWZiXV1XWVpdYmdudHqAiZKrtLe/xNXU1M7NzcvJyL66trOwq5pDS1RdY2VqgKStsre5u73HzMzOzMzR2dnPvLe2sa6ejoh+dmpiX2FgY2NlYGFgWWJtanmUjoqasry8vcHIz9Tb2tvc3dzY2NfX1tPOyb65sqycloyNfWFeY2NdWE5NTlFWWVpgaG50eoOTpa+xs7m/1NPUzMzMy8nIwbq1srCrmkpUWWBmZ2t+p66zt7i7vsnMzc7MzNHZ2NG8sbCxqqqfiHxxbGVhWFdSVFZfZGFdZ2hyeImLiY+ls7a4v8fM0dja2trb2tfW1dXT0crFurSupo19fnhpV1lgV1BRSkxOUltZWl1gY25/kqKprq6vsb3U09PLy8zLycnEu7ezsKybUltfYmdrbH6rrrO3ubzAy8zNzszN0djY1Lyxq6+qpaSYfHFuY1tXUlBRUFFcVlpjXm90eYSTkJWutLa+wsfN1tjZ2tvZ19fV1dPRysG3sKydgnZzclJFRU5PUFdMTU9WWV1fYWNsd46coKisrKivvtTS0srKy8rJyce8uLOvq5xXYWNkam1vh62xtLa5vcPMzc/PzM3Q1tnXvbKsqqyloJaNeGtjX15eXlZRUVdQT1dgbWZgdI6SkKmwtr/ExczT1dfZ2tjV1NPT0tHIvrOvqJN1bmVqXUdGUEtPT0dKTVJUV1pkcHyCjZadpaikqrC/1NPQycnLysnJyL65tK+rnFxlaGhrbnGYrrK1uLu+x83Nz8/Nzc/T2djCta6ppZ+TjY6KeWRcWlVTU1VQUVVKVmliVlBmdnqElqOuu8PGytDT1dfZ19TT09LUz8S7sKmjjHhxYlxkUVVcUlBKS1JUUlFgbHR5hoeHjJmanKOttMPT08zHycvKycjJwbu2sqycX2lqaWxye6avs7W5vL/Jzc7Qz83NztHX1s24r6mhjoyNjIqFfGpZUU9UUFFYVlNZbGZcXWyDfHyIlai2wMTKz9HT1NfY09LS0tTOv7Wsp6OKfHVlYWJUYGFRTU1RVFJaY2hwd4CFgISFgJOapK65y9LSysfIycrJycnCvLizrp1ia21sbnSOq6+ztbm8wMvOz9DPzc3N0NPV0cCxp52Hf4OEgHp0c3FjWVNTXVRLS05WXWqPkoN1c4SUp7O9wsjO0dHS1djU0dLT0c++sKqkmIR5a2VlbXdyW1dTV2NwcHJtcXNxcnR5dW93jpqksMPM087KxsfKysjIyca8ubSwnmhucG9wfJ2tr7O2urzCzc3P0M/NzczO0NXPzLWml4mAeXR6enF0e3RuaFtZT0xITkxGS2V1dnJweo6ms7vFyM/S0dLV19TS0tTU0Mazq6icfXFxZWp9emleZGVkZWNob3FzcGxvbGVmbHWKlqW3yMzTy8nFxsnKycfIx724tbGgcXNzcnKJpKyvs7e7v8XOzc7PzszMzM3P1M/LwqeVioB5cmpueXt8dG5lYVxQSkhKSUNMUFxmZmlwiaa1vcTIz9PR0dTX09LS0tDMxLespZF8dnFscoRvaWFmaV5gXmFmamxlYFhaYGZteIyXrMDGz9HKyMTEx8rIxsfHv7m2saF6e3d2eZinq7CzuL2/yM3Nz8/OzMvLy8/TzsnCtpuNfXdxbm1ubHBvamReYGFhW11gXWBgYWlobHiEqLW7wsjO09LR1NbT0tHQ0MrDuLCpkoV2cHZ1f3dwaWVnY2piYWFcWVxgXFteYWh5jJ+zvsbPz8rGxMPFycfGxcfAuLSwooGDfHuJo6itr7O5vsHMzMzOz83LysnKztPNyMCzqpiAd3BtaGZeX2JoY2ZmZWRdZWdnbHBubnJjZH+hs7vCyM/V09HS1NPRz87NysG7tqWMh3Z6h3dyZ2VnaWNiY1RQT05QWWJhZmRkaICZqK+6xs/PysXDwsTIyMXExsO4s6+ih4yHjJmiqa2vtbq+w83Mzc7PzMrJx8jN08/EvLCppJF6dXRuaWJcUFNbYWJdVFdiW15ufH15aFxqeZizvMPJz9TT0dLU0tHPzMfDurywkICCfXd0Xl5XUFZYVVVIREdMTVBTWF5ia2p3k52iqLbC0NDJxMPBwsbIxMTExbi0rp+MkZKan6aqrLC2u7/GzcvMz8/LyMfGx83S0cSyrKejoJSAdm5nYVhUUFJOSEpOWVpfXW99d3BiWWqGn7O8wsfM0dXS0tPR0NHNxMC+uKV8cXZ4cGZbUlNKSkRFQ0JHREhJTFZWXGNpeouXl5uiqsTQ0MjDwsDBxsjFwsLFu7SvoJCZmp6lqquusbi8vsrLy8zPzcnHxsbHy9LSxbGkoaGfk5CBcGVfWFRSTkhDQkJMR1dhaG9jVUtNX4Kbr7e9wsrR0tPU09HPzsvEv7mxmWlda4Z0W1RTTkVJRUNFQUNDRU1QUFlkc32FjJSVlJWpyNDQxcLBwMHGyMXBwcK+tLGilaChpaaorLCzuLzBy8nJy8/Mx8bFxsbI0tPIsKKbn52SkI+CcmRZVVFKRUNDRUVGTV5jXVZOQ0RXfZensLW/yc7Q0tTTzszJxsO9saN+U1RdfHFUU1tIRkZIR0ZBQURDRk5ZY219f4GNlJCNlavLz87DwsHAwMTJxsHAwL+4sqKXpKiqqqqssLO4vMbJyMnMzsrFxcTFxsfP0c6xoZ2Xlo+JgHx7dmxZTUlERUpKREVFSlJTVk5GSFd/laOstsLGztDS1NHNy8nGwr6wj29TUFBha1xOU0hERkVIRklJSk9TXWRtbnFzfYmKi5GardDNysLAv7++w8jGwb++vruypJimqaqura+xsri+x8jHyszNysXFys/Y09DR07WnnJeVhnh6eHx9cGxiW09SSkhGSUZJT0pSVU1HVH6VpbK+xMbO0NLU0c3LycfFu7aad1tZU1lZY0lKQ0VIRUVLSlBWX2BjZmZobGhmg4iNlKC8zs3EwMC+vr7Cx8bCwL29vLOkmKaprK2vsbO2ucDGxsfKzc7JxMXNxMTFz9LTxKqdmZeJcm50c3Jra2hpZl1WTk1ISUtGR0pOTE9biJyrtr/DxMvP0tPQy8nIxsG6sKSGaWthXVdjTElBRkpOU1pXV11fXVxiYVtZXGJ6ho2ZsMXLysC/v76+vMDGxsPBvr28taSXp6msrrCytbm8wsTExsvOzcjExMzCwcLK0NDQtaCakIZzb2liaWhna2deYFpdZ2JjYVZUX2pmZ22Inam0vb/DytDT08/MysfGwrmroot8fG5paG1sYVhSUFJVXFtXWlxcVFJPU1Zfa3iHk6m7xMvEvr69vb27vsbHw8G+vby3o5ilqKutsLK2ub3DxMPGy83Nx8TCzcrOxs/H0M7CsJuLhnlsa2JeXF5iZWJjW1pbXltaVlZebmpkaHiNoKu3vcPIzNDQy8TExcbAu6eeiXqFd29tbXRrX1dTUFBUYltWT05NS0xTWV9vgZSlsLjExsG8w83Qx7q+xsfEwL++vLaklKGkp6yws7W3vcLExcjLzc3GwsLBx8zIxMbMzsK3q5aHfW9oYmBfWFVSV1tXVFJaVlJXV11pZmh1c3SUoK+yvcXJztDLwcDCwr6yn5iLfoWEc2NiX15eXFpWU01JSUdJSkxNU1ZaZoGToqWtt8PFvsHBvL66xb3GycXCwL68uKiUoKOnq66ws7e9wcPGx8rOzsXCwMHAwL/CxMrLw7eoppeDb2VoZ19ZVUxJRkZKTlJRT1paZHN2a2BiYG6JnK2+xMnOz8rCwcLBv6yZjoZ4dnR4bmRbVFhQR0RBQEBDRUpLTU9WW2l/kJWeo6q1xMS8xLm3t7fFvsXIx8K9u7q4qqCioqaqra+yur/CxcfJy83OxcC/v7+/v8HDycrBtaiknJeDdXBoYFlUTURAQ0hDRUNCRVBcaF9TVFtjZHqTrr3DyM3PysPBwMC+o5aJd25dXGBlY1lOSkpBOz5AQERFRUxSWmlzeoKLk5ifo7nFxLu8wsDCv7+/xcfEvru/wL6ws7yuqK2vsri7vL/CxszLy83Fv728vb2+wMHIycSup6Sak4+LgW9eV05NSURGREFHQ0NHWmh4X1VVWWtqf56wvsbJzczGwb/AwbugmY5/c19aWVxmZV1QS0dAOz0/QktNV2VrcXF3fYSJjJiqwcXEure6wsO7uMLFxr+9wb67uqumtsLFwLy4u7u9v7/Ex8vLy8a/vLu8u7y9v8bIybGnnpaTk4qCenZoWFBJRURFQkNBQEZYYmVfXl9ieX6arbTDyMnLycPAv8HGuqumlYh/Y15ZYmRnZmdaU0VDRktQWFtbXmRlbnZ7eoKNmqvHx8O6tre3uLi7w8XEv8O9uri4qaGys7S4ubq+vsHEw8DDx8rKxr67u7y7u7q9w8jKuaqbkZCPiH5xaWlmYlxUUlNJSUhMWmJhYmZvc3+IjJ2qsr/FycrGwb28wMO4r6yqmJB3b2JdYWZrcG9dVU5SUlFTVVdWWGFlb3l+gpCgtMTEwb+7ubm7u8HIxsTCxLy5t7SopqiprrKys7e7vcHGxMLGycvGwLq7vLu7uru+yMfFrZ6XjoZ+dGlkZF5cWVVZWFNZZWpvcnVvbW53g46VnqmvvsjKzcjDwr/Aw7WsqKqflYl8cWxqdXh0cl5VTExPUU9QTElNUV9seoSNlqrDwcG6uL3Av76+xsfDw8bHura0sKifp6apsLGxtri7vsPHxcXIzMvBu7q6urm5ub3CyMe3pZ2RhXprW1ZWV1lZWF9UUVRbamxxbWppYXeFiIeQpbO9w8bGv7m7vb7DsqqjoqCflH5wamlzdGxsXFdRTElGRENFSEtUXGyAipejv8LCvr/Av8HExsjLyMbFycu3srGyppmkqKmsr7C0uLm9wMPNx8jJzMi+u7i4t7i7vbu/wsSyoJKIemRcVlFPTE5PVVFSV19kZ3BpaGBmen9/g4uXobjAxcK6tbW3uruspZqXlpmci3xsamx0bmFZUVBFRENFRUZKTFNYcIaRprvBwLu5ubq9xMfL0dDMyMfHybyusKyimKGkpqutrLO0trm9v9DLy8fHyMG8ubq9vLe0tLa/wcGwmIt2ZVxVUE9PTExNTUlOVVddYl1gaHFveH+DiJSkt7/GxMO9uLq7uqOXl4+KhIV+fndoaGVhV09KTElFRUdIS01RVlxxk6W3wL23srGwrqyptcS+vMHGxMPFwbOpp5qTn6KjpamrsLKztbjDzsrJyczO0czJxsG6trW1tbS+wLqqlnNjXVhVUk5MTVBPTk9QVVlYYGtqcWtscniCmai4vcPCwcC5t7m4oZiRjIJ6cm1qZmZubWhhVlFNSkdGSEtOU1Vdb4eer769trGuqqimn562trOytL3CwMDCu6yilJKcn6CkpKaurrCxt8jKw8DBwsTKzr+7vcG8ure2tLG8vbOfh3BhWFhUUldTUlJPUFVWZnBnYmRiZGVsdH+gsrzAw8C/v7a2ubumoJqKeXZwaWFfXmFyeXdsYFZPTUVITVVeaHN6iaS7vLewraqnoZqcsrm3sa+usrnBv7y7tbCkjZmcn6Gip6amrbK+xsO9u7y+w8fIxLCpoqKjpauurLO3uauMdnFqYVlUVVdVVVNXanl9bGBgYWJkaGt0ka25vcHCvb+/tLW8v66rqI17dW5oYVxeXmZzfYB6cmhaU1VeZm1udHuSrrq2s6qpppyUlqaurauzr62tsbnBurTBsZaJk5aZnqKipKOnuMC/vbm4uMDBvbm+rpuVmZqboKWprbCwt5p+cWhpamVkW1hjc4CCfHFiXl1eZWx2fIycrLi7wcG8vb6zsrq4rq6rn457bWhkW1tdYG56g4WEhod+bmZobHJ3gpm3tLKrpKGZj42Sqqyxra6wqaqtsLi5ssG/roOPkpecnJ2goa65u725tbW5vb+5uLSmn42Nj5KZn6Kmrq+wqol5bWhkZWx8jI+Oh4KCdG5ub292eYaOkZqsuLnBwb6+vLi2u7esqaminpmPhoR7dnZzeH+FjYyLjY+NgndubniNrLGwraCalJCKiIqhqa+0sK2fmZ+lqbezu6+qfIiOk5SXmZuqtbS2ubGysra3vr23rKaeiYmKiouUmpyirKyumHxxbHCAjpGNioaDgXxycW5xd3uEj4+Mlqq1trm6raqrqa6zt7GknJuUi3lubmBhaHJ7hYyNjIqMjY+SlJCFh6SurauclY2MhoSDhIyepK+klJCQkZuhprK+uaF3fIGKlJuirK+vsLawrKqrqKant6+qooqDgoKChYmPl5mirKeklICIkpOPioeKiYuIfXl2c3FqY2NiaXGLnai3ubmwrrCur7K0sKGSjIN9cmZhWFNSUlZld4WPj46Mj4+Vn6m2s66ml5KMiYd/fn1/g4iJi4iIiomJiZWcnKGknHKAh5CYoKSnqauvsaioqKWilpKUmJSLgX17e3yAhoiMk5ekqqq0sKOXko6Li4qGgnRgWFROUFRQUWBmd5Weq7y6urO8t7Cwsbavo52OfXFmamRYUEpISElVX2d1h5abmJiktrm9u6+jlYqFfXp4enl9gIKCgICDg4KCgIuWl5SGX32IkJqbnqSoqayjo6GhnJGOi4qKiYR8d3Z2d3p/hIaNm6u5vLi2qJuanJeLfG1eSkhFRUNERUdPXWuBnqSvvru8uLu6s7KxubCkoJSEa2FZVk9JSElIS1RnaGpqcX+VqrS2tK6xr7CxsauimI+Oh356ent6eXt7eXZ1cnmNjoJebnyKk5idoaKfm5qanJOMiYaDhISCf3l2dXRzeIaWpq+xsLGws7S2rZuOfnFuaVpJRkRGRkVJUFlkdZGfqbW+vbm7trqwsLa/t6ygl4NzaF5WUE5QT09OWGxqanB8gYyapaeoqaqopaKfoJ+go6KfnI+Ce3Zyc3R1dHNxa26CfF9ocnmBhoqMj5GVlop+fn59fHx8fXt8hY6XoaWqqaano6Kmq6erraSeloyCeXN0X1BOTU1RUFNYYnmQnKSrs7q+uLWytayuury2s6ynmoR0ZFlRUFFXWFhkd3R6hoaNmZaLhYWKkpujoZ6al5OTmZmZnJyXkYyKhYB5cWtlYGZvW2NscHd8f4WOioB3c3VycnF1dXd/jJifo6CamJeWl5uho6CXjIWIlZWVm5uMf3xrVlVWW1pda32LkJafoKeyvb+5trmxrrC6wLetr6mlnpN+alpaXGFobISJhYuUk5SKgX57enl1bWdweYWPlpOPkJCSlJGPioaDe3NtZWJfXVZDWV9kbXR3e3hjaW93go2TlpiXmp2ZlZORkJCPkZaVkIJ6c3Z7e32BjZCQmZuYlIxxbG9yenh3gZCVlZmmq7S1trGmr6WkrbO9vbStqKmloJOHgoB+enWAk5GVnp2MgHx7eHZ1b2ZdWFZVVVZbZ3J6gYiPkZGOh3luaWRhW1ZUTC0/UFNWXGFiYV1nbG51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\";\r\n            } else {\r\n                this.getImageFromService(this._image);\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n    createImageFromBlob(image: Blob) {\r\n        const reader = new FileReader();\r\n        reader.addEventListener(\"load\",\r\n            () => {\r\n                this.thumbnailToShow = reader.result;\r\n            },\r\n            false);\r\n\r\n        if (image) {\r\n            reader.readAsDataURL(image);\r\n        }\r\n    }\r\n\r\n    getImageFromService(image: Image) {\r\n\r\n        if (image === null) {\r\n            return;\r\n        }\r\n\r\n        this.isImageLoading = true;\r\n\r\n\r\n        this.dicomImageService.getThumbnailFile(image).subscribe(data => {\r\n                this.createImageFromBlob(data);\r\n                this.isImageLoading = false;\r\n            },\r\n            error => {\r\n                this.isImageLoading = false;\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n}\r\n","module.exports = \".DivToolbar {\\r\\n    background-color: black;\\r\\n    color: #F5F5F5;\\r\\n    display: block;\\r\\n    height: 40px;\\r\\n    margin: 0 auto;\\r\\n    padding: 12px 12px 12px 12px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.DivViewerBack {\\r\\n    background-color: black;\\r\\n    color: #F5F5F5;\\r\\n    display: flex;\\r\\n    height: 100%;\\r\\n    margin: 0 auto;\\r\\n    padding: 1px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.DivOperationBar {\\r\\n    background-color: black;\\r\\n   \\r\\n    bottom: 0;\\r\\n    color: #F5F5F5;\\r\\n    display: block;\\r\\n    height: 40px;\\r\\n    margin: 2px auto;\\r\\n    position: fixed;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/*#DivLeft\\r\\n{\\r\\n  display:block;\\r\\n  float:left;\\r\\n  width:200px;\\r\\n  margin:0 auto;\\r\\n  height: 650px;\\r\\n  padding: 12px 12px 12px 16px;\\r\\n  border-bottom: solid 4px #FFFFFF;\\r\\n  border-right: solid 4px #FFFFFF;\\r\\n  background-color: #000000;\\r\\n  color: #F5F5F5;\\r\\n}\\r\\n\\r\\n#DivRight\\r\\n{\\r\\n  display:block;\\r\\n  float:left;\\r\\n  width:744px;\\r\\n  margin:0 auto;\\r\\n  height: 650px;\\r\\n  padding: 12px 12px 12px 16px;\\r\\n  border-bottom: solid 4px #FFFFFF;\\r\\n  background-color: #000000;\\r\\n  color: #F5F5F5;\\r\\n}*/\\r\\n\\r\\n#divContainer {\\r\\n    bottom: 0px;\\r\\n    left: 0px;\\r\\n    position: absolute;\\r\\n    right: 0px;\\r\\n    top: 40px;\\r\\n    border-bottom: 2px solid #666;\\r\\n}\\r\\n\\r\\n#panelStudyDash {\\r\\n    background-color: #808080;\\r\\n    border: none;\\r\\n    margin: 0px;\\r\\n    padding: 5px 10px;\\r\\n    visibility: visible;\\r\\n}\\r\\n\\r\\n#panelStudyDash button {\\r\\n    border: none;\\r\\n    height: 30px;\\r\\n    outline: none;\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n#panelStudyDash .save-query {\\r\\n    cursor: pointer;\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n#panelStudyDash .checkbox {\\r\\n    margin-left: 5px;\\r\\n    margin-right: 5px;\\r\\n}\\r\\n\\r\\n#panelStudyDash #statusLabel { margin: 0px; }\\r\\n\\r\\n#divStudies {\\r\\n    margin-bottom: 0px;\\r\\n    min-height: 200px;\\r\\n    position: static;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/*#divStudies::-webkit-scrollbar{\\r\\n    width:16px;\\r\\n    background-color:black;\\r\\n}\\r\\n\\r\\n#divStudies::-webkit-scrollbar-thumb{\\r\\n    background-color:#535353;\\r\\n    border-radius: 10px;\\r\\n}*/\\r\\n\\r\\n@media (min-width: 768px) {    \\r\\n    #panelStudyDash .checkbox { top: -2px; }\\r\\n\\r\\n    #panelStudyDash .checkbox label input { top: 2px; }\\r\\n}\\r\\n\\r\\n@media (max-width: 768px) {\\r\\n    #divStudies {\\r\\n        border: none;\\r\\n        left: 1px;\\r\\n        position: absolute;\\r\\n        right: 1px;\\r\\n        top: 42px;\\r\\n        visibility: visible;\\r\\n    }\\r\\n\\r\\n    #panelStudyDash {\\r\\n        left: 1px;\\r\\n        padding: 5px 2px;\\r\\n        position: absolute;\\r\\n        right: 1px;\\r\\n        visibility: visible;\\r\\n    }\\r\\n\\r\\n    #panelStudyDash .form-group, .checkbox, button {\\r\\n        display: inline-block;\\r\\n        margin: 0px;\\r\\n    }\\r\\n\\r\\n    #panelStudyDash #statusLabel { display: none; }\\r\\n\\r\\n    #panelStudyDash .save-query { display: none; }\\r\\n\\r\\n    #panelStudyDash .checkbox {\\r\\n        margin-left: 5px;\\r\\n        margin-right: 5px;\\r\\n        top: -10px;\\r\\n    }\\r\\n\\r\\n    .sp_panel-container, .sp_panel-left, .sp_panel-right {\\r\\n        visibility: hidden;\\r\\n        z-index: 0;\\r\\n    }\\r\\n}\\r\\n\\r\\n#queryTree .node-queryTree { padding: 2px 2px; }\\r\\n\\r\\n.query { background: url('Query_All.png') no-repeat left top; }\\r\\n\\r\\n.query:active { background: url('Query_All.png') no-repeat right top; }\\r\\n\\r\\n.queryClear { background: url('ClearCondition_All.png') no-repeat left top; }\\r\\n\\r\\n.queryClear:active { background: url('ClearCondition_All.png') no-repeat right top; }\\r\\n\\r\\n/* horizontal panel*/\\r\\n\\r\\n.sp_panel-container {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    overflow: hidden;\\r\\n    /* avoid browser level touch actions */\\r\\n    /*xtouch-action: none;*/\\r\\n}\\r\\n\\r\\n.sp_panel-left {\\r\\n    -ms-overflow-style: none;\\r\\n    /*min-width: 1px;*/\\r\\n    /*white-space: nowrap;*/\\r\\n    background: #07090c;\\r\\n    display: flex;\\r\\n    flex: 0 0 auto;\\r\\n    flex-direction: column;\\r\\n    min-height: 200px;\\r\\n    overflow: -moz-hidden-unscrollable;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n    /* only manually resize */\\r\\n    padding: 6px;\\r\\n    width: 200px;\\r\\n    /*color: white;*/\\r\\n}\\r\\n\\r\\n.sp_panel-left::-webkit-scrollbar { display: none; }\\r\\n\\r\\n.sp_splitter {\\r\\n    background: url('split_vertical_collapse.jpg') center center no-repeat #535353;\\r\\n    cursor: pointer;\\r\\n    flex: 0 0 auto;\\r\\n    min-height: 200px;\\r\\n    width: 8px;\\r\\n}\\r\\n\\r\\n.sp_panel-right {\\r\\n    background: black;\\r\\n    flex: 1 1 auto;\\r\\n    min-height: 200px;\\r\\n    min-width: 200px;\\r\\n    /* resizable */\\r\\n    padding-bottom: 80px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/* vertical panel */\\r\\n\\r\\n.sp_panel-container-vertical {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.sp_panel-top {\\r\\n    flex: 0 0 auto;\\r\\n    /* only manually resize */\\r\\n    /*padding: 10px;*/\\r\\n    height: 70%;\\r\\n    min-height: 300px;\\r\\n    overflow-y: auto;\\r\\n    width: 100%;\\r\\n    /*white-space: nowrap;\\r\\n  background: #838383;\\r\\n  color: white;*/\\r\\n    z-index: 0;\\r\\n}\\r\\n\\r\\n.sp_splitter-horizontal {\\r\\n    background: url('split_horizontal_collapse.jpg') center center no-repeat #535353;\\r\\n    cursor: pointer;\\r\\n    flex: 0 0 auto;\\r\\n    height: 8px;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.sp_panel-bottom {\\r\\n    flex: 1 1 auto;\\r\\n    /* resizable */\\r\\n    /*padding: 10px;*/\\r\\n    min-height: 200px;\\r\\n    overflow-y: auto;\\r\\n    /*background: #eee;*/\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.navbar-right { padding-right: 10px; }\\r\\n\\r\\n.sp_panel-right .table { white-space: nowrap; }\\r\\n\\r\\n#trStudiesHeader a { color: black; }\\r\\n\\r\\n#trSeriesHeader a { color: black; }\\r\\n\\r\\n#trStudiesQuery input[type=text] {\\r\\n    vertical-align: middle;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n#trStudiesQuery select { width: 100%; }\\r\\n\\r\\n#trStudiesQuery td:nth-child(n + 2) {\\r\\n    margin: 0px;\\r\\n    padding: 1px;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n#trStudiesQuery .dropdown .btn {\\r\\n    min-width: 70px;\\r\\n    padding: 1px 6px;\\r\\n}\\r\\n\\r\\n#leftPanelTop { flex: 1 1 auto; }\\r\\n\\r\\n#leftPanelBottom {\\r\\n    flex: 0 0 auto;\\r\\n    height: 20%;\\r\\n}\\r\\n\\r\\n#formUploadImage input[type=file] { width: 600px; }\\r\\n\\r\\n#tblSeries td:nth-child(1) { text-align: center; }\\r\\n\\r\\n#tblSeries img {\\r\\n    height: 50px;\\r\\n    margin: auto;\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXNoZWxsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1QkFBdUI7SUFDdkIsY0FBYztJQUNkLGNBQWM7SUFDZCxZQUFZO0lBQ1osY0FBYztJQUNkLDRCQUE0QjtJQUM1QixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsY0FBYztJQUNkLGFBQWE7SUFDYixZQUFZO0lBQ1osY0FBYztJQUNkLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx1QkFBdUI7O0lBRXZCLFNBQVM7SUFDVCxjQUFjO0lBQ2QsY0FBYztJQUNkLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLFdBQVc7QUFDZjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXlCRTs7QUFHRjtJQUNJLFdBQVc7SUFDWCxTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixTQUFTO0lBQ1QsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7QUFDckI7O0FBRUEsK0JBQStCLFdBQVcsRUFBRTs7QUFFNUM7SUFDSSxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7Ozs7Ozs7O0VBUUU7O0FBRUY7SUFDSSw0QkFBNEIsU0FBUyxFQUFFOztJQUV2Qyx3Q0FBd0MsUUFBUSxFQUFFO0FBQ3REOztBQUVBO0lBQ0k7UUFDSSxZQUFZO1FBQ1osU0FBUztRQUNULGtCQUFrQjtRQUNsQixVQUFVO1FBQ1YsU0FBUztRQUNULG1CQUFtQjtJQUN2Qjs7SUFFQTtRQUNJLFNBQVM7UUFDVCxnQkFBZ0I7UUFDaEIsa0JBQWtCO1FBQ2xCLFVBQVU7UUFDVixtQkFBbUI7SUFDdkI7O0lBRUE7UUFDSSxxQkFBcUI7UUFDckIsV0FBVztJQUNmOztJQUVBLCtCQUErQixhQUFhLEVBQUU7O0lBRTlDLDhCQUE4QixhQUFhLEVBQUU7O0lBRTdDO1FBQ0ksZ0JBQWdCO1FBQ2hCLGlCQUFpQjtRQUNqQixVQUFVO0lBQ2Q7O0lBRUE7UUFDSSxrQkFBa0I7UUFDbEIsVUFBVTtJQUNkO0FBQ0o7O0FBRUEsNkJBQTZCLGdCQUFnQixFQUFFOztBQUUvQyxTQUFTLG1EQUE0RSxFQUFFOztBQUV2RixnQkFBZ0Isb0RBQTZFLEVBQUU7O0FBRS9GLGNBQWMsNERBQXFGLEVBQUU7O0FBRXJHLHFCQUFxQiw2REFBc0YsRUFBRTs7QUFFN0csb0JBQW9COztBQUVwQjtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHNDQUFzQztJQUN0Qyx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSx3QkFBd0I7SUFDeEIsa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLGNBQWM7SUFDZCxzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLGtDQUFrQztJQUNsQyxrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjs7QUFFQSxvQ0FBb0MsYUFBYSxFQUFFOztBQUVuRDtJQUNJLDhFQUF1RztJQUN2RyxlQUFlO0lBQ2YsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLG9CQUFvQjtJQUNwQixXQUFXO0FBQ2Y7O0FBR0EsbUJBQW1COztBQUVuQjtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYOztnQkFFWTtJQUNaLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGdGQUF5RztJQUN6RyxlQUFlO0lBQ2YsY0FBYztJQUNkLFdBQVc7SUFDWCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixVQUFVO0FBQ2Q7O0FBRUEsZ0JBQWdCLG1CQUFtQixFQUFFOztBQUVyQyx5QkFBeUIsbUJBQW1CLEVBQUU7O0FBRTlDLHFCQUFxQixZQUFZLEVBQUU7O0FBRW5DLG9CQUFvQixZQUFZLEVBQUU7O0FBRWxDO0lBQ0ksc0JBQXNCO0lBQ3RCLFdBQVc7QUFDZjs7QUFFQSx5QkFBeUIsV0FBVyxFQUFFOztBQUV0QztJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQSxnQkFBZ0IsY0FBYyxFQUFFOztBQUVoQztJQUNJLGNBQWM7SUFDZCxXQUFXO0FBQ2Y7O0FBRUEsb0NBQW9DLFlBQVksRUFBRTs7QUFFbEQsNkJBQTZCLGtCQUFrQixFQUFFOztBQUVqRDtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXNoZWxsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuRGl2VG9vbGJhciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDEycHggMTJweCAxMnB4IDEycHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLkRpdlZpZXdlckJhY2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogI0Y1RjVGNTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uRGl2T3BlcmF0aW9uQmFyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICBcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDJweCBhdXRvO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi8qI0RpdkxlZnRcclxue1xyXG4gIGRpc3BsYXk6YmxvY2s7XHJcbiAgZmxvYXQ6bGVmdDtcclxuICB3aWR0aDoyMDBweDtcclxuICBtYXJnaW46MCBhdXRvO1xyXG4gIGhlaWdodDogNjUwcHg7XHJcbiAgcGFkZGluZzogMTJweCAxMnB4IDEycHggMTZweDtcclxuICBib3JkZXItYm90dG9tOiBzb2xpZCA0cHggI0ZGRkZGRjtcclxuICBib3JkZXItcmlnaHQ6IHNvbGlkIDRweCAjRkZGRkZGO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6ICNGNUY1RjU7XHJcbn1cclxuXHJcbiNEaXZSaWdodFxyXG57XHJcbiAgZGlzcGxheTpibG9jaztcclxuICBmbG9hdDpsZWZ0O1xyXG4gIHdpZHRoOjc0NHB4O1xyXG4gIG1hcmdpbjowIGF1dG87XHJcbiAgaGVpZ2h0OiA2NTBweDtcclxuICBwYWRkaW5nOiAxMnB4IDEycHggMTJweCAxNnB4O1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDRweCAjRkZGRkZGO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6ICNGNUY1RjU7XHJcbn0qL1xyXG5cclxuXHJcbiNkaXZDb250YWluZXIge1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgdG9wOiA0MHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM2NjY7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODA4MDgwO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcclxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCBidXR0b24ge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoIC5zYXZlLXF1ZXJ5IHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCAjc3RhdHVzTGFiZWwgeyBtYXJnaW46IDBweDsgfVxyXG5cclxuI2RpdlN0dWRpZXMge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBwb3NpdGlvbjogc3RhdGljO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi8qI2RpdlN0dWRpZXM6Oi13ZWJraXQtc2Nyb2xsYmFye1xyXG4gICAgd2lkdGg6MTZweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6YmxhY2s7XHJcbn1cclxuXHJcbiNkaXZTdHVkaWVzOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IzUzNTM1MztcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn0qL1xyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7ICAgIFxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7IHRvcDogLTJweDsgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCAuY2hlY2tib3ggbGFiZWwgaW5wdXQgeyB0b3A6IDJweDsgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAgICNkaXZTdHVkaWVzIHtcclxuICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgbGVmdDogMXB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICByaWdodDogMXB4O1xyXG4gICAgICAgIHRvcDogNDJweDtcclxuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gICAgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCB7XHJcbiAgICAgICAgbGVmdDogMXB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDVweCAycHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHJpZ2h0OiAxcHg7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgIH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLmZvcm0tZ3JvdXAsIC5jaGVja2JveCwgYnV0dG9uIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoICNzdGF0dXNMYWJlbCB7IGRpc3BsYXk6IG5vbmU7IH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLnNhdmUtcXVlcnkgeyBkaXNwbGF5OiBub25lOyB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgICAgICB0b3A6IC0xMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5zcF9wYW5lbC1jb250YWluZXIsIC5zcF9wYW5lbC1sZWZ0LCAuc3BfcGFuZWwtcmlnaHQge1xyXG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgfVxyXG59XHJcblxyXG4jcXVlcnlUcmVlIC5ub2RlLXF1ZXJ5VHJlZSB7IHBhZGRpbmc6IDJweCAycHg7IH1cclxuXHJcbi5xdWVyeSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9RdWVyeV9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeTphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnF1ZXJ5Q2xlYXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vQ2xlYXJDb25kaXRpb25fQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucXVlcnlDbGVhcjphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vQ2xlYXJDb25kaXRpb25fQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLyogaG9yaXpvbnRhbCBwYW5lbCovXHJcblxyXG4uc3BfcGFuZWwtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIC8qIGF2b2lkIGJyb3dzZXIgbGV2ZWwgdG91Y2ggYWN0aW9ucyAqL1xyXG4gICAgLyp4dG91Y2gtYWN0aW9uOiBub25lOyovXHJcbn1cclxuXHJcbi5zcF9wYW5lbC1sZWZ0IHtcclxuICAgIC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZTtcclxuICAgIC8qbWluLXdpZHRoOiAxcHg7Ki9cclxuICAgIC8qd2hpdGUtc3BhY2U6IG5vd3JhcDsqL1xyXG4gICAgYmFja2dyb3VuZDogIzA3MDkwYztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4OiAwIDAgYXV0bztcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIG92ZXJmbG93OiAtbW96LWhpZGRlbi11bnNjcm9sbGFibGU7XHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIHBhZGRpbmc6IDZweDtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIC8qY29sb3I6IHdoaXRlOyovXHJcbn1cclxuXHJcbi5zcF9wYW5lbC1sZWZ0Ojotd2Via2l0LXNjcm9sbGJhciB7IGRpc3BsYXk6IG5vbmU7IH1cclxuXHJcbi5zcF9zcGxpdHRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc3BsaXRfdmVydGljYWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIHdpZHRoOiA4cHg7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1yaWdodCB7XHJcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgIGZsZXg6IDEgMSBhdXRvO1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBtaW4td2lkdGg6IDIwMHB4O1xyXG4gICAgLyogcmVzaXphYmxlICovXHJcbiAgICBwYWRkaW5nLWJvdHRvbTogODBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuLyogdmVydGljYWwgcGFuZWwgKi9cclxuXHJcbi5zcF9wYW5lbC1jb250YWluZXItdmVydGljYWwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4uc3BfcGFuZWwtdG9wIHtcclxuICAgIGZsZXg6IDAgMCBhdXRvO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgaGVpZ2h0OiA3MCU7XHJcbiAgICBtaW4taGVpZ2h0OiAzMDBweDtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIC8qd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBiYWNrZ3JvdW5kOiAjODM4MzgzO1xyXG4gIGNvbG9yOiB3aGl0ZTsqL1xyXG4gICAgei1pbmRleDogMDtcclxufVxyXG5cclxuLnNwX3NwbGl0dGVyLWhvcml6b250YWwge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NwbGl0X2hvcml6b250YWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDhweDtcclxuICAgIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1ib3R0b20ge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgICAvKiByZXNpemFibGUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLypiYWNrZ3JvdW5kOiAjZWVlOyovXHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4ubmF2YmFyLXJpZ2h0IHsgcGFkZGluZy1yaWdodDogMTBweDsgfVxyXG5cclxuLnNwX3BhbmVsLXJpZ2h0IC50YWJsZSB7IHdoaXRlLXNwYWNlOiBub3dyYXA7IH1cclxuXHJcbiN0clN0dWRpZXNIZWFkZXIgYSB7IGNvbG9yOiBibGFjazsgfVxyXG5cclxuI3RyU2VyaWVzSGVhZGVyIGEgeyBjb2xvcjogYmxhY2s7IH1cclxuXHJcbiN0clN0dWRpZXNRdWVyeSBpbnB1dFt0eXBlPXRleHRdIHtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuI3RyU3R1ZGllc1F1ZXJ5IHNlbGVjdCB7IHdpZHRoOiAxMDAlOyB9XHJcblxyXG4jdHJTdHVkaWVzUXVlcnkgdGQ6bnRoLWNoaWxkKG4gKyAyKSB7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbiN0clN0dWRpZXNRdWVyeSAuZHJvcGRvd24gLmJ0biB7XHJcbiAgICBtaW4td2lkdGg6IDcwcHg7XHJcbiAgICBwYWRkaW5nOiAxcHggNnB4O1xyXG59XHJcblxyXG4jbGVmdFBhbmVsVG9wIHsgZmxleDogMSAxIGF1dG87IH1cclxuXHJcbiNsZWZ0UGFuZWxCb3R0b20ge1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDIwJTtcclxufVxyXG5cclxuI2Zvcm1VcGxvYWRJbWFnZSBpbnB1dFt0eXBlPWZpbGVdIHsgd2lkdGg6IDYwMHB4OyB9XHJcblxyXG4jdGJsU2VyaWVzIHRkOm50aC1jaGlsZCgxKSB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxyXG5cclxuI3RibFNlcmllcyBpbWcge1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div [style.visibility]=\\\"viewerShellData.hide? 'hidden' : 'visible'\\\" id=\\\"divContainer\\\" class=\\\"sp_panel-container\\\">\\r\\n    <div class=\\\"sp_panel-left\\\">\\r\\n        <app-navigation [viewerShellData]=\\\"viewerShellData\\\" (layout)=\\\"onChangeGroupLayout($event)\\\"></app-navigation>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"sp_splitter\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"sp_panel-right\\\">\\r\\n        <div class=\\\"DivToolbar\\\">\\r\\n            <app-viewer-toolbar (layout)=\\\"onChangeGroupLayout($event)\\\"></app-viewer-toolbar>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"DivViewerBack\\\">\\r\\n            <div class=\\\"div-flex-column\\\" *ngFor=\\\"let b of Arr(viewerShellData.groupMatrix.colCount).fill(1); let colIndex = index\\\">\\r\\n                <div class=\\\"div-flex-row\\\" *ngFor=\\\"let a of Arr(viewerShellData.groupMatrix.rowCount).fill(1); let rowIndex = index\\\">\\r\\n                    <app-group-viewer [groupData]=\\\"getGroupData(rowIndex, colIndex)\\\" class=\\\"div-flex-row\\\">\\r\\n                    </app-group-viewer>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        \\r\\n        <div class=\\\"DivOperationBar\\\">\\r\\n            \\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, ViewChildren, QueryList, AfterViewInit } from \"@angular/core\";\r\nimport { GroupViewerComponent } from \"./group-viewer/group-viewer.component\";\r\nimport { ShellNavigatorService } from \"../../services/shell-navigator.service\";\r\nimport { HangingProtocolService } from \"../../services/hanging-protocol.service\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { ViewerShellData } from \"../../models/viewer-shell-data\";\r\nimport { ViewerGroupData } from \"../../models/viewer-group-data\";\r\nimport { LogService } from \"../../services/log.service\";\r\n\r\n\r\n@Component({\r\n    selector: \"app-viewer-shell\",\r\n    templateUrl: \"./viewer-shell.component.html\",\r\n    styleUrls: [\"./viewer-shell.component.css\"]\r\n})\r\nexport class ViewerShellComponent implements OnInit, AfterViewInit {\r\n    Arr = Array; //Array type captured in a variable\r\n\r\n    viewerShellData: ViewerShellData;\r\n    groupDataList: ViewerGroupData[];\r\n\r\n    subscriptionShellNavigated: Subscription;\r\n\r\n    viewerGroupData: ViewerGroupData;\r\n\r\n    @ViewChildren(GroupViewerComponent)\r\n    childGroups: QueryList<GroupViewerComponent>;\r\n\r\n    constructor(private shellNavigatorService: ShellNavigatorService,\r\n        private hangingProtocolService: HangingProtocolService,\r\n        private logService: LogService) {\r\n        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(\r\n            viewerShellData => {\r\n                this.viewerShellData.hide =\r\n                    (viewerShellData === null || viewerShellData.getId() !== this.viewerShellData.getId());\r\n            });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.onChangeGroupLayout(this.viewerShellData.defaultGroupHangingProtocol);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        const self = this;\r\n        $(\".sp_panel-left\").spResizable({\r\n            handleSelector: \".sp_splitter\",\r\n            resizeHeight: false\r\n        });\r\n\r\n        $(window).resize(function() {\r\n            self.onResize();\r\n        });\r\n\r\n        this.onResize();\r\n    }\r\n\r\n    onChangeGroupLayout(groupHangingProtocolNumber: number): void {\r\n        \r\n        this.hangingProtocolService.applyGroupHangingProtocol(this.viewerShellData, groupHangingProtocolNumber);\r\n        this.groupDataList = this.viewerShellData.groupDataList;\r\n        this.onResize();\r\n    }\r\n\r\n    onResize(): void {\r\n        //if (this.viewerShellData.hide)\r\n        //    return;\r\n\r\n        if (!this.childGroups)\r\n            return;\r\n\r\n        this.logService.debug(\"Viewer: onResize()\");\r\n\r\n        this.childGroups.forEach((groupViewer) => {\r\n            groupViewer.onResize();\r\n        });\r\n    }\r\n\r\n    getGroupData(rowIndex: number, colIndex: number): ViewerGroupData {\r\n        const groupIndex = rowIndex * this.viewerShellData.groupMatrix.colCount + colIndex;\r\n        return this.groupDataList[groupIndex];\r\n        //return this.viewerShellData.getGroup(rowIndex, colIndex);\r\n    }\r\n}\r\n","module.exports = \".imageOperate-div {\\r\\n    height: 44px;\\r\\n    margin-left: -20px;\\r\\n    margin-top: -10px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXRvb2xiYXIvdmlld2VyLXRvb2xiYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsaUJBQWlCO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXRvb2xiYXIvdmlld2VyLXRvb2xiYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWFnZU9wZXJhdGUtZGl2IHtcclxuICAgIGhlaWdodDogNDRweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMjBweDtcclxuICAgIG1hcmdpbi10b3A6IC0xMHB4O1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<!--<button class=\\\"image-button\\\" (click)=\\\"onRotate(30)\\\">Rotate</button>\\r\\n<button class=\\\"image-button\\\" (click)=\\\"onAddRuler()\\\">Ruler</button>\\r\\n-->\\r\\n\\r\\n<div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row imageOperate-div\\\">\\r\\n        <table>\\r\\n            <tr>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu [menuButtonList]=\\\"selectPanButtonMenuList\\\"></app-dropdown-button-menu>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu [menuButtonList]=\\\"zoomButtonMenuList\\\"></app-dropdown-button-menu>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu [menuButtonList]=\\\"magnifyButtonMenuList\\\"></app-dropdown-button-menu>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu [menuButtonList]=\\\"wlButtonMenuList\\\"></app-dropdown-button-menu>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu-button [buttonData]=\\\"selectAnnotationButtonMenu\\\" [isTopButton]=\\\"true\\\" [showArrow]=\\\"false\\\"></app-dropdown-button-menu-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <img [src]=\\\"getButtonDivideSrc()\\\" style=\\\"margin-top: -24px\\\"/>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu [menuButtonList]=\\\"fitButtonMenuList\\\"></app-dropdown-button-menu>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu [menuButtonList]=\\\"rotateFlipButtonMenuList\\\"></app-dropdown-button-menu>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <img [src]=\\\"getButtonDivideSrc()\\\" style=\\\"margin-top: -24px\\\"/>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu-button [buttonData]=\\\"resetButtonMenu\\\" [isTopButton]=\\\"true\\\" [showArrow]=\\\"false\\\"></app-dropdown-button-menu-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu-button [buttonData]=\\\"keyImageButtonMenu\\\" [isTopButton]=\\\"true\\\" [showArrow]=\\\"false\\\"></app-dropdown-button-menu-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <img [src]=\\\"getButtonDivideSrc()\\\" style=\\\"margin-top: -24px\\\"/>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu [menuButtonList]=\\\"simpleAnnotation1ButtonMenu\\\"></app-dropdown-button-menu>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <img [src]=\\\"getButtonDivideSrc()\\\" style=\\\"margin-top: -24px\\\" />\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu-button [buttonData]=\\\"showAnnotationButtonMenu\\\" [isTopButton]=\\\"true\\\" [showArrow]=\\\"false\\\"></app-dropdown-button-menu-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu-button [buttonData]=\\\"showOverlayButtonMenu\\\" [isTopButton]=\\\"true\\\" [showArrow]=\\\"false\\\"></app-dropdown-button-menu-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu-button [buttonData]=\\\"showRulerButtonMenu\\\" [isTopButton]=\\\"true\\\" [showArrow]=\\\"false\\\"></app-dropdown-button-menu-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <app-dropdown-button-menu-button [buttonData]=\\\"showGraphicOverlayButtonMenu\\\" [isTopButton]=\\\"true\\\" [showArrow]=\\\"false\\\"></app-dropdown-button-menu-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <img [src]=\\\"getButtonDivideSrc()\\\" style=\\\"margin-top: -24px\\\"/>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n<!--\\r\\n<div class=\\\"collapse navbar-collapse\\\" id=\\\"navTopToggle\\\">\\r\\n    <ul id=\\\"navBarGroup\\\" class=\\\"nav navbar-nav\\\">\\r\\n        <li class=\\\"\\\">\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnSelect\\\" alt=\\\"Select\\\" title=\\\"Select\\\" src=\\\"../../../../assets/img/Toolbar/selection/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnPan\\\" alt=\\\"Pan\\\" title=\\\"Pan\\\" src=\\\"../../../../assets/img/Toolbar/Pan/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li class=\\\"dropdown\\\">\\r\\n            <a class=\\\"dropdown-toggle nav navbar-collapse\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n                <img class=\\\"btnRotate\\\" alt=\\\"RotateCCW\\\" title=\\\"RotateCCW\\\" src=\\\"../../../../assets/img/Toolbar/Rotateccw/normal/bitmap_h.gif\\\" />\\r\\n            </a>\\r\\n            <ul class=\\\"dropdown-menu swith-menu\\\">\\r\\n                <li>\\r\\n                    <img class=\\\"btnRotate\\\" alt=\\\"RotateCCW\\\" title=\\\"RotateCCW\\\" src=\\\"../../../../assets/img/Toolbar/Rotateccw/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnRotate\\\" alt=\\\"RotateCW\\\" title=\\\"RotateCW\\\" src=\\\"../../../../assets/img/Toolbar/Rotatecw/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnRotate\\\" alt=\\\"VFlip\\\" title=\\\"VFlip\\\" src=\\\"../../../../assets/img/Toolbar/FlipV/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnRotate\\\" alt=\\\"HFlip\\\" title=\\\"HFlip\\\" src=\\\"../../../../assets/img/Toolbar/FlipH/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n            </ul>\\r\\n        </li>\\r\\n        <li class=\\\"dropdown\\\">\\r\\n            <a class=\\\"dropdown-toggle nav navbar-collapse\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n                <img class=\\\"btnZoom\\\" alt=\\\"Zoom\\\" title=\\\"Zoom\\\" src=\\\"../../../../assets/img/Toolbar/Zoom/normal/bitmap_h.gif\\\" />\\r\\n            </a>\\r\\n            <ul class=\\\"dropdown-menu swith-menu\\\">\\r\\n                <li>\\r\\n                    <img class=\\\"btnZoom\\\" alt=\\\"Zoom\\\" title=\\\"Zoom\\\" src=\\\"../../../../assets/img/Toolbar/Zoom/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnZoom\\\" alt=\\\"MagnifyX2\\\" title=\\\"MagnifyX2\\\" src=\\\"../../../../assets/img/Toolbar/magnify2/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnZoom\\\" alt=\\\"MagnifyX4\\\" title=\\\"MagnifyX4\\\" src=\\\"../../../../assets/img/Toolbar/magnify4/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnZoom\\\" alt=\\\"ROIZoom\\\" title=\\\"ROI Zoom\\\" src=\\\"../../../../assets/img/Toolbar/rectzoom/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n            </ul>\\r\\n        </li>\\r\\n        <li class=\\\"dropdown\\\">\\r\\n            <a class=\\\"dropdown-toggle nav navbar-collapse\\\" data-toggle=\\\"dropdown\\\" href=\\\"#\\\" role=\\\"button\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">\\r\\n                <img class=\\\"btnScoutLine\\\" alt=\\\"ScoutLine\\\" title=\\\"ScoutLine\\\" src=\\\"../../../../assets/img/Toolbar/scoutline_set/normal/bitmap_h.gif\\\" />\\r\\n            </a>\\r\\n            <ul class=\\\"dropdown-menu swith-menu\\\">\\r\\n                <li>\\r\\n                    <img class=\\\"btnScoutLine\\\" alt=\\\"ScoutLine\\\" title=\\\"Set ScoutLine\\\" src=\\\"../../../../assets/img/Toolbar/scoutline_set/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnScoutLine\\\" alt=\\\"ScoutLineAll\\\" title=\\\"Set ScoutLine All\\\" src=\\\"../../../../assets/img/Toolbar/scoutline_set_all/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnScoutLine\\\" alt=\\\"ScoutLineSrc\\\" title=\\\"Set ScoutLine Source\\\" src=\\\"../../../../assets/img/Toolbar/scoutline_src_set/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n                <li>\\r\\n                    <img class=\\\"btnScoutLine\\\" alt=\\\"ScoutLineDest\\\" title=\\\"Set ScoutLine Destination\\\" src=\\\"../../../../assets/img/Toolbar/scoutline_dst_set/normal/bitmap_h.gif\\\" />\\r\\n                </li>\\r\\n            </ul>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnWL\\\" alt=\\\"W/L\\\" title=\\\"W/L\\\" src=\\\"../../../../assets/img/Toolbar/WL/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnInvert\\\" alt=\\\"Invert\\\" title=\\\"Invert\\\" src=\\\"../../../../assets/img/Toolbar/Invert/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnReset\\\" alt=\\\"TrueSize\\\" title=\\\"TrueSize\\\" src=\\\"../../../../assets/img/Toolbar/Reset/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li class=\\\"dropdown\\\">\\r\\n            <a class=\\\"nav\\\">\\r\\n                <img title=\\\"Markers\\\" src=\\\"../../../../assets/img/Toolbar/ann_stamp/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n            <ul class=\\\"dropdown-menu\\\">\\r\\n                <li id=\\\"liMarkerTab\\\">\\r\\n                    <ul class=\\\"nav nav-tabs nav-justified\\\">\\r\\n                        <li class=\\\"active\\\"><a id=\\\"tabMarkerPanel1\\\" data-toggle=\\\"tab\\\" href=\\\"#divMarkerPanel1\\\">Favorites</a></li>\\r\\n                        <li><a id=\\\"tabMarkerPanel2\\\" data-toggle=\\\"tab\\\" href=\\\"#divMarkerPanel2\\\">Panel 2</a></li>\\r\\n                        <li><a id=\\\"tabMarkerPanel3\\\" data-toggle=\\\"tab\\\" href=\\\"#divMarkerPanel3\\\">Panel 3</a></li>\\r\\n                    </ul>\\r\\n                    <div class=\\\"tab-content\\\">\\r\\n                        <div id=\\\"divMarkerPanel1\\\" class=\\\"tab-pane in active\\\">\\r\\n                            <div>\\r\\n                                <table class=\\\"table table-bordered table-marker\\\">\\r\\n                                    <tbody id=\\\"tblMarkerTable1\\\"></tbody>\\r\\n                                </table>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div id=\\\"divMarkerPanel2\\\" class=\\\"tab-pane\\\">\\r\\n                            <table class=\\\"table table-bordered table-marker\\\">\\r\\n                                <tbody id=\\\"tblMarkerTable2\\\"></tbody>\\r\\n                            </table>\\r\\n                        </div>\\r\\n                        <div id=\\\"divMarkerPanel3\\\" class=\\\"tab-pane\\\">\\r\\n                            <table class=\\\"table table-bordered table-marker\\\">\\r\\n                                <tbody id=\\\"tblMarkerTable3\\\"></tbody>\\r\\n                            </table>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnBestFit\\\" alt=\\\"BestFit\\\" title=\\\"BestFit\\\" src=\\\"../../../../assets/img/Toolbar/fitwindow/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnAddRect\\\" alt=\\\"annRect\\\" title=\\\"Rect\\\" src=\\\"../../../../assets/img/Toolbar/ann_rectangle/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnAddRuler\\\" alt=\\\"annLine\\\" title=\\\"Ruler\\\" src=\\\"../../../../assets/img/Toolbar/Ruler/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnAddCurve\\\" alt=\\\"annCurve\\\" title=\\\"Curve\\\" src=\\\"../../../../assets/img/Toolbar/ann_cervicalcurve/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnAddAngle\\\" alt=\\\"annAngle\\\" title=\\\"Angle\\\" src=\\\"../../../../assets/img/Toolbar/ann_angle/normal/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnShowOverlay\\\" alt=\\\"ShowOverlay\\\" title=\\\"Show Overlay\\\" src=\\\"../../../../assets/img/Toolbar/showoverlay/down/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnShowAnnotation\\\" alt=\\\"ShowAnnotation\\\" title=\\\"Show Annotation\\\" src=\\\"../../../../assets/img/Toolbar/showannotation/down/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnShowRuler\\\" alt=\\\"ShowRuler\\\" title=\\\"Show Ruler\\\" src=\\\"../../../../assets/img/Toolbar/showruler/down/bitmap.gif\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n    </ul>\\r\\n    <ul class=\\\"nav navbar-nav\\\">\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnDelete\\\" alt=\\\"Delete\\\" title=\\\"Delete\\\" src=\\\"../../../../assets/img/Toolbar/Delete.png\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n        <li>\\r\\n            <a href=\\\"#\\\" class=\\\"nav\\\">\\r\\n                <img class=\\\"btnSave\\\" alt=\\\"Save\\\" title=\\\"Save\\\" src=\\\"../../../../assets/img/Toolbar/Save.png\\\" />\\r\\n            </a>\\r\\n        </li>\\r\\n    </ul>\\r\\n</div>\\r\\n-->\\r\\n\"","import { Component, OnInit, EventEmitter, Output } from \"@angular/core\";\r\n\r\nimport { ImageSelectorService } from \"../../../services/image-selector.service\";\r\nimport { OperationEnum, ViewContextEnum, ViewContext, ViewContextService } from \"../../../services/view-context.service\";\r\nimport { SelectedButtonData } from \"../../../models/dropdown-button-menu-data\";\r\nimport { ConfigurationService } from \"../../../services/configuration.service\";\r\n\r\nimport { AnnLine } from \"../../../annotation/ann-line\";\r\n//import { AnnCircle } from \"../../../annotation/ann-circle\";\r\n//import { AnnRectangle } from \"../../../annotation/ann-rectangle\";\r\nimport { AnnArrow } from \"../../../annotation/ann-arrow\";\r\n\r\n@Component({\r\n    selector: \"app-viewer-toolbar\",\r\n    templateUrl: \"./viewer-toolbar.component.html\",\r\n    styleUrls: [\"./viewer-toolbar.component.css\"]\r\n})\r\nexport class ViewerToolbarComponent implements OnInit {\r\n    @Output()\r\n    layout = new EventEmitter<number>();\r\n    buttonDivideSrc: string;\r\n\r\n    selectPanButtonMenuList: SelectedButtonData[] = [\r\n        {\r\n            name: \"selection\",\r\n            tip: \"Select\",\r\n            operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.Select }\r\n        },\r\n        { name: \"Pan\", tip: \"Pan\", operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.Pan } }\r\n    ];\r\n\r\n    rotateFlipButtonMenuList: SelectedButtonData[] = [\r\n        { name: \"FlipH\", tip: \"Flip Horizontal\", operationData: { type: OperationEnum.Flip, data: false } },\r\n        { name: \"FlipV\", tip: \"Flip Vertical\", operationData: { type: OperationEnum.Flip, data: true } },\r\n        { name: \"Rotatecw\", tip: \"Rotate CW\", operationData: { type: OperationEnum.Rotate, data: { angle: 90 } } },\r\n        { name: \"Rotateccw\", tip: \"Rotate CCW\", operationData: { type: OperationEnum.Rotate, data: { angle: -90 } } }\r\n    ];\r\n\r\n    zoomButtonMenuList: SelectedButtonData[] = [\r\n        { name: \"Zoom\", tip: \"Zoom\", operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.Zoom } },\r\n        {\r\n            name: \"rectzoom\",\r\n            tip: \"ROI Zoom\",\r\n            operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.ROIZoom }\r\n        }\r\n    ];\r\n\r\n    magnifyButtonMenuList: SelectedButtonData[] = [\r\n        {\r\n            name: \"magnify2\",\r\n            tip: \"Magnify X 2\",\r\n            operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.MagnifyX2 }\r\n        },\r\n        {\r\n            name: \"magnify4\",\r\n            tip: \"Magnify X 4\",\r\n            operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.MagnifyX4 }\r\n        },\r\n        {\r\n            name: \"magnify8\",\r\n            tip: \"Magnify X 8\",\r\n            operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.MagnifyX8 }\r\n        },\r\n    ];\r\n\r\n    fitButtonMenuList: SelectedButtonData[] = [\r\n        { name: \"fitheight\", tip: \"Fit Height\", operationData: { type: OperationEnum.FitHeight, data: null } },\r\n        { name: \"fitoriginal\", tip: \"Fit Original\", operationData: { type: OperationEnum.FitOriginal, data: null } },\r\n        { name: \"fitwidth\", tip: \"Fit Width\", operationData: { type: OperationEnum.FitWidth, data: null } },\r\n        { name: \"fitwindow\", tip: \"Scale to Fit\", operationData: { type: OperationEnum.FitWindow, data: null } }\r\n    ];\r\n\r\n    wlButtonMenuList: SelectedButtonData[] = [\r\n        { name: \"WL\", tip: \"W/L\", operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.WL } },\r\n        { name: \"ROI\", tip: \"ROI W/L\", operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.ROIWL } },\r\n        { name: \"ManualWL\", tip: \"Manual W/L\", operationData: { type: OperationEnum.ManualWL, data: null } },\r\n        { name: \"Invert\", tip: \"Invert\", operationData: { type: OperationEnum.Invert, data: null } }\r\n    ];\r\n\r\n    keyImageButtonMenu: SelectedButtonData = {\r\n        name: \"SetKeyImage\",\r\n        tip: \"Key Image\",\r\n        operationData: { type: OperationEnum.ToggleKeyImage, data: null }\r\n    };\r\n    resetButtonMenu: SelectedButtonData =\r\n        { name: \"Reset\", tip: \"Reset\", operationData: { type: OperationEnum.Reset, data: null } };\r\n    showAnnotationButtonMenu: SelectedButtonData = {\r\n        name: \"showannotation\",\r\n        tip: \"Show Annotation\",\r\n        operationData: { type: OperationEnum.ShowAnnotation, data: null }\r\n    };\r\n    showOverlayButtonMenu: SelectedButtonData = {\r\n        name: \"showoverlay\",\r\n        tip: \"Show Overlay\",\r\n        operationData: { type: OperationEnum.ShowOverlay, data: null }\r\n    };\r\n    showRulerButtonMenu: SelectedButtonData = {\r\n        name: \"showruler\",\r\n        tip: \"Show Ruler\",\r\n        operationData: { type: OperationEnum.ShowRuler, data: null }\r\n    };\r\n    showGraphicOverlayButtonMenu: SelectedButtonData = {\r\n        name: \"showgraphicoverlay\",\r\n        tip: \"Show Graphic Overlay\",\r\n        operationData: { type: OperationEnum.ShowGraphicOverlay, data: null }\r\n    };\r\n    selectAnnotationButtonMenu: SelectedButtonData = {\r\n        name: \"ann_selection\",\r\n        tip: \"Select Annotation\",\r\n        operationData: { type: OperationEnum.SetContext, data: ViewContextEnum.SelectAnn }\r\n    };\r\n    simpleAnnotation1ButtonMenu: SelectedButtonData[] = [\r\n        { name: \"ann_line\", tip: \"Line\", operationData: { type: OperationEnum.SetContext, data: new ViewContext(ViewContextEnum.CreateAnn, AnnLine) } },\r\n        //{ name: \"ann_ellipse\", tip: \"Eclipse\", operationData: { type: OperationEnum.SetContext, data: new ViewContext(ViewContextEnum.CreateAnn, AnnCircle) } },\r\n        //{ name: \"ann_rectangle\", tip: \"Rectangle\", operationData: { type: OperationEnum.SetContext, data: new ViewContext(ViewContextEnum.CreateAnn, AnnRectangle) } },\r\n        { name: \"ann_arrow\", tip: \"Arrow\", operationData: { type: OperationEnum.SetContext, data: new ViewContext(ViewContextEnum.CreateAnn, AnnArrow) } }\r\n    ];\r\n\r\n    private baseUrl: string;\r\n\r\n\r\n    constructor(private imageSelectorService: ImageSelectorService,\r\n        private viewContext: ViewContextService,\r\n        private configurationService: ConfigurationService) {\r\n        this.buttonDivideSrc = this.configurationService.getBaseUrl() + \"assets/img/DicomViewer/fenge2.png\";\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    getButtonDivideSrc(): string {\r\n        return this.buttonDivideSrc;\r\n    }\r\n}\r\n","module.exports = \".loadImage, .loadKeyImage, .setRead, .setUnread, .changeImageSeriesOrder, .reassign, .transfer, .tagEdit, .deletePrevent, .deleteAllow, .delete, .import {\\r\\n    border: none;\\r\\n    height: 40px;\\r\\n    outline: none;\\r\\n    width: 40px;\\r\\n}\\r\\n\\r\\n.loadImage { background: url('LoadImage_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.loadImage:hover { background: url('LoadImage_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.loadImage:active { background: url('LoadImage_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.loadImage:disabled { background: url('LoadImage_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.loadKeyImage { background: url('loadKeyImage_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.loadKeyImage:hover { background: url('loadKeyImage_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.loadKeyImage:active { background: url('loadKeyImage_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.loadKeyImage:disabled { background: url('loadKeyImage_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.setRead { background: url('setRead_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.setRead:hover { background: url('setRead_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.setRead:active { background: url('setRead_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.setRead:disabled { background: url('setRead_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.setUnread { background: url('setUnread_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.setUnread:hover { background: url('setUnread_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.setUnread:active { background: url('setUnread_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.setUnread:disabled { background: url('setUnread_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.changeImageSeriesOrder { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.changeImageSeriesOrder:hover { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.changeImageSeriesOrder:active { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.changeImageSeriesOrder:disabled { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.reassign { background: url('reassign_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.reassign:hover { background: url('reassign_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.reassign:active { background: url('reassign_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.reassign:disabled { background: url('reassign_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.transfer { background: url('transferImage_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.transfer:hover { background: url('transferImage_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.transfer:active { background: url('transferImage_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.transfer:disabled { background: url('transferImage_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.tagEdit { background: url('tagEdit_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.tagEdit:hover { background: url('tagEdit_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.tagEdit:active { background: url('tagEdit_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.tagEdit:disabled { background: url('tagEdit_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.deletePrevent { background: url('deletePrevent_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.deletePrevent:hover { background: url('deletePrevent_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.deletePrevent:active { background: url('deletePrevent_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.deletePrevent:disabled { background: url('deletePrevent_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.deleteAllow { background: url('deleteAllow_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.deleteAllow:hover { background: url('deleteAllow_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.deleteAllow:active { background: url('deleteAllow_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.deleteAllow:disabled { background: url('deleteAllow_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.delete { background: url('delete_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.delete:hover { background: url('delete_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.delete:active { background: url('delete_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.delete:disabled { background: url('delete_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n.import { background: url('import_40_40_All.png') no-repeat left top; }\\r\\n\\r\\n.import:hover { background: url('import_40_40_All.png') no-repeat right top; }\\r\\n\\r\\n.import:active { background: url('import_40_40_All.png') no-repeat left bottom; }\\r\\n\\r\\n.import:disabled { background: url('import_40_40_All.png') no-repeat right bottom; }\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9vcGVyYXRlLXRvb2xiYXIvb3BlcmF0ZS10b29sYmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWE7SUFDYixXQUFXO0FBQ2Y7O0FBRUEsYUFBYSw2REFBeUYsRUFBRTs7QUFFeEcsbUJBQW1CLDhEQUEwRixFQUFFOztBQUUvRyxvQkFBb0IsZ0VBQTRGLEVBQUU7O0FBRWxILHNCQUFzQixpRUFBNkYsRUFBRTs7QUFFckgsZ0JBQWdCLGdFQUE0RixFQUFFOztBQUU5RyxzQkFBc0IsaUVBQTZGLEVBQUU7O0FBRXJILHVCQUF1QixtRUFBK0YsRUFBRTs7QUFFeEgseUJBQXlCLG9FQUFnRyxFQUFFOztBQUUzSCxXQUFXLDJEQUF1RixFQUFFOztBQUVwRyxpQkFBaUIsNERBQXdGLEVBQUU7O0FBRTNHLGtCQUFrQiw4REFBMEYsRUFBRTs7QUFFOUcsb0JBQW9CLCtEQUEyRixFQUFFOztBQUVqSCxhQUFhLDZEQUF5RixFQUFFOztBQUV4RyxtQkFBbUIsOERBQTBGLEVBQUU7O0FBRS9HLG9CQUFvQixnRUFBNEYsRUFBRTs7QUFFbEgsc0JBQXNCLGlFQUE2RixFQUFFOztBQUVySCwwQkFBMEIsMEVBQXNHLEVBQUU7O0FBRWxJLGdDQUFnQywyRUFBdUcsRUFBRTs7QUFFekksaUNBQWlDLDZFQUF5RyxFQUFFOztBQUU1SSxtQ0FBbUMsOEVBQTBHLEVBQUU7O0FBRS9JLFlBQVksNERBQXdGLEVBQUU7O0FBRXRHLGtCQUFrQiw2REFBeUYsRUFBRTs7QUFFN0csbUJBQW1CLCtEQUEyRixFQUFFOztBQUVoSCxxQkFBcUIsZ0VBQTRGLEVBQUU7O0FBRW5ILFlBQVksaUVBQTZGLEVBQUU7O0FBRTNHLGtCQUFrQixrRUFBOEYsRUFBRTs7QUFFbEgsbUJBQW1CLG9FQUFnRyxFQUFFOztBQUVySCxxQkFBcUIscUVBQWlHLEVBQUU7O0FBRXhILFdBQVcsMkRBQXVGLEVBQUU7O0FBRXBHLGlCQUFpQiw0REFBd0YsRUFBRTs7QUFFM0csa0JBQWtCLDhEQUEwRixFQUFFOztBQUU5RyxvQkFBb0IsK0RBQTJGLEVBQUU7O0FBRWpILGlCQUFpQixpRUFBNkYsRUFBRTs7QUFFaEgsdUJBQXVCLGtFQUE4RixFQUFFOztBQUV2SCx3QkFBd0Isb0VBQWdHLEVBQUU7O0FBRTFILDBCQUEwQixxRUFBaUcsRUFBRTs7QUFFN0gsZUFBZSwrREFBMkYsRUFBRTs7QUFFNUcscUJBQXFCLGdFQUE0RixFQUFFOztBQUVuSCxzQkFBc0Isa0VBQThGLEVBQUU7O0FBRXRILHdCQUF3QixtRUFBK0YsRUFBRTs7QUFFekgsVUFBVSwwREFBc0YsRUFBRTs7QUFFbEcsZ0JBQWdCLDJEQUF1RixFQUFFOztBQUV6RyxpQkFBaUIsNkRBQXlGLEVBQUU7O0FBRTVHLG1CQUFtQiw4REFBMEYsRUFBRTs7QUFFL0csVUFBVSwwREFBc0YsRUFBRTs7QUFFbEcsZ0JBQWdCLDJEQUF1RixFQUFFOztBQUV6RyxpQkFBaUIsNkRBQXlGLEVBQUU7O0FBRTVHLG1CQUFtQiw4REFBMEYsRUFBRSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvd29ya2xpc3Qtc2hlbGwvb3BlcmF0ZS10b29sYmFyL29wZXJhdGUtdG9vbGJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvYWRJbWFnZSwgLmxvYWRLZXlJbWFnZSwgLnNldFJlYWQsIC5zZXRVbnJlYWQsIC5jaGFuZ2VJbWFnZVNlcmllc09yZGVyLCAucmVhc3NpZ24sIC50cmFuc2ZlciwgLnRhZ0VkaXQsIC5kZWxldGVQcmV2ZW50LCAuZGVsZXRlQWxsb3csIC5kZWxldGUsIC5pbXBvcnQge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ubG9hZEltYWdlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0xvYWRJbWFnZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5sb2FkSW1hZ2U6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vTG9hZEltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5sb2FkSW1hZ2U6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0xvYWRJbWFnZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5sb2FkSW1hZ2U6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vTG9hZEltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5sb2FkS2V5SW1hZ2UgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vbG9hZEtleUltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9sb2FkS2V5SW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vbG9hZEtleUltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9sb2FkS2V5SW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLnNldFJlYWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0UmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5zZXRSZWFkOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnNldFJlYWQ6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4uc2V0UmVhZDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5zZXRVbnJlYWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnNldFVucmVhZDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnNldFVucmVhZDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnNldFVucmVhZDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLmNoYW5nZUltYWdlU2VyaWVzT3JkZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vY2hhbmdlSW1hZ2VTZXJpZXNPcmRlcl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5jaGFuZ2VJbWFnZVNlcmllc09yZGVyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2NoYW5nZUltYWdlU2VyaWVzT3JkZXJfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmNoYW5nZUltYWdlU2VyaWVzT3JkZXI6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2NoYW5nZUltYWdlU2VyaWVzT3JkZXJfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4uY2hhbmdlSW1hZ2VTZXJpZXNPcmRlcjpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9jaGFuZ2VJbWFnZVNlcmllc09yZGVyXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5yZWFzc2lnbiB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9yZWFzc2lnbl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5yZWFzc2lnbjpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9yZWFzc2lnbl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyB9XHJcblxyXG4ucmVhc3NpZ246YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JlYXNzaWduXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnJlYXNzaWduOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JlYXNzaWduXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi50cmFuc2ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90cmFuc2ZlckltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnRyYW5zZmVyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RyYW5zZmVySW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnRyYW5zZmVyOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90cmFuc2ZlckltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnRyYW5zZmVyOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RyYW5zZmVySW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLnRhZ0VkaXQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vdGFnRWRpdF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi50YWdFZGl0OmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RhZ0VkaXRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnRhZ0VkaXQ6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RhZ0VkaXRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4udGFnRWRpdDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90YWdFZGl0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5kZWxldGVQcmV2ZW50IHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZVByZXZlbnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uZGVsZXRlUHJldmVudDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVQcmV2ZW50XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5kZWxldGVQcmV2ZW50OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVQcmV2ZW50XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmRlbGV0ZVByZXZlbnQ6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlUHJldmVudF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4uZGVsZXRlQWxsb3cgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlQWxsb3dfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uZGVsZXRlQWxsb3c6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlQWxsb3dfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmRlbGV0ZUFsbG93OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVBbGxvd180MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5kZWxldGVBbGxvdzpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVBbGxvd180MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4uZGVsZXRlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5kZWxldGU6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5kZWxldGU6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5kZWxldGU6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5pbXBvcnQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vaW1wb3J0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLmltcG9ydDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9pbXBvcnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmltcG9ydDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vaW1wb3J0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmltcG9ydDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9pbXBvcnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG4iXX0= */\"","module.exports = \"<table>\\r\\n    <tr>\\r\\n        <td>\\r\\n            <button class=\\\"loadImage\\\" role=\\\"button\\\" title=\\\"Load Image\\\" (click)=\\\"onLoadImage()\\\" [disabled]=\\\"disableLoadImageButton\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"loadKeyImage\\\" role=\\\"button\\\" title=\\\"Load Key Image\\\" (click)=\\\"onLoadKeyImage()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"setRead\\\" role=\\\"button\\\" title=\\\"Set Read\\\" (click)=\\\"onSetRead()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"setUnread\\\" role=\\\"button\\\" title=\\\"Set Unread\\\" (click)=\\\"onSetUnread()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"changeImageSeriesOrder\\\" role=\\\"button\\\" title=\\\"Change Image Series Order\\\" (click)=\\\"onChangeImageSeriesOrder()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"reassign\\\" role=\\\"button\\\" title=\\\"Reassign\\\" (click)=\\\"onReassign()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"transfer\\\" role=\\\"button\\\" title=\\\"Export/Transfer\\\" (click)=\\\"onTransfer()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"tagEdit\\\" role=\\\"button\\\" title=\\\"Patient Edit\\\" (click)=\\\"onTagEdit()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"deletePrevent\\\" role=\\\"button\\\" title=\\\"Prevent Delete Study\\\" (click)=\\\"onDeletePrevent()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"deleteAllow\\\" role=\\\"button\\\" title=\\\"Allow Delete Study\\\" (click)=\\\"onDeleteAllow()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"delete\\\" role=\\\"button\\\" title=\\\"Delete Study\\\" (click)=\\\"onDelete()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"import\\\" role=\\\"button\\\" title=\\\"Import\\\" (click)=\\\"onImport()\\\"></button>\\r\\n        </td>\\r\\n    </tr>\\r\\n</table>\\r\\n\"","import { Component, OnInit } from \"@angular/core\";\r\nimport { WorklistService } from \"../../../services/worklist.service\";\r\n\r\n@Component({\r\n    selector: \"app-operate-toolbar\",\r\n    templateUrl: \"./operate-toolbar.component.html\",\r\n    styleUrls: [\"./operate-toolbar.component.css\"]\r\n})\r\nexport class OperateToolbarComponent implements OnInit {\r\n\r\n    disableLoadImageButton: boolean;\r\n\r\n    constructor(private worklistService: WorklistService) {\r\n        this.disableLoadImageButton = false;\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    onLoadImage() {\r\n        this.worklistService.onShowAllCheckedStudy();\r\n    }\r\n\r\n    onLoadKeyImage() {\r\n\r\n    }\r\n\r\n    onSetRead() {\r\n\r\n    }\r\n\r\n    onSetUnread() {\r\n\r\n    }\r\n\r\n    onChangeImageSeriesOrder() {\r\n\r\n    }\r\n\r\n    onReassign() {\r\n\r\n    }\r\n\r\n    onTransfer() {\r\n\r\n    }\r\n\r\n    onTagEdit() {\r\n\r\n    }\r\n\r\n    onDeletePrevent() {\r\n\r\n    }\r\n\r\n    onDeleteAllow() {\r\n\r\n    }\r\n\r\n    onDelete() {\r\n\r\n    }\r\n\r\n    onImport() {\r\n\r\n    }\r\n}\r\n","module.exports = \".mat-dialog-container {\\r\\n    background-color: #555;\\r\\n    height: 250px;\\r\\n    padding: 2px 2px;\\r\\n    width: 250px;\\r\\n}\\r\\n\\r\\n.shortcut-header {\\r\\n    background-color: #555555;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    padding: 4px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.shortcut-header-button {\\r\\n    background-color: transparent;\\r\\n    border: none;\\r\\n    color: transparent;\\r\\n    outline: none;\\r\\n    padding: 4px;\\r\\n}\\r\\n\\r\\n.shortcut-header:hover { color: #F90; }\\r\\n\\r\\n.shortcut-header:hover .shortcut-header-button {\\r\\n    background-color: #444;\\r\\n    border: solid 1px #888;\\r\\n    border-radius: 2px;\\r\\n    color: #F90;\\r\\n    margin-top: -2px;\\r\\n}\\r\\n\\r\\n.shortcut-header:hover .shortcut-header-button:active { color: red; }\\r\\n\\r\\n.shortcut-item {\\r\\n    background-color: inherit;\\r\\n    border-radius: 3px;\\r\\n    color: white;\\r\\n    padding-bottom: 3px;\\r\\n    padding-left: 24px;\\r\\n    padding-top: 3px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.shortcut-name-button {\\r\\n    background-color: transparent;\\r\\n    border: none;\\r\\n    border-width: 0px;\\r\\n    color: inherit;\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.shortcut-item:hover {\\r\\n    background-color: #999;\\r\\n    color: #ff9900;\\r\\n}\\r\\n\\r\\n.shortcut-item:hover .shortcut-close-button {\\r\\n    background-color: #666;\\r\\n    border: solid 1px #aaa;\\r\\n    border-radius: 2px;\\r\\n    color: #F90;\\r\\n    margin-right: 2px;\\r\\n    margin-top: -1px;\\r\\n}\\r\\n\\r\\n.shortcut-item:hover .shortcut-name-button:hover { color: red; }\\r\\n\\r\\n.shortcut-item:hover .shortcut-close-button:active { color: red; }\\r\\n\\r\\n.shortcut-close-button {\\r\\n    background-color: transparent;\\r\\n    border: none;\\r\\n    color: transparent;\\r\\n    outline: none;\\r\\n    padding: 4px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9xdWVyeS1zaG9ydGN1dC9xdWVyeS1zaG9ydGN1dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtBQUNoQjs7QUFFQSx5QkFBeUIsV0FBVyxFQUFFOztBQUV0QztJQUNJLHNCQUFzQjtJQUN0QixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxnQkFBZ0I7QUFDcEI7O0FBRUEsd0RBQXdELFVBQVUsRUFBRTs7QUFFcEU7SUFDSSx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7QUFDcEI7O0FBRUEsbURBQW1ELFVBQVUsRUFBRTs7QUFFL0QscURBQXFELFVBQVUsRUFBRTs7QUFFakU7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtBQUNoQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvd29ya2xpc3Qtc2hlbGwvcXVlcnktc2hvcnRjdXQvcXVlcnktc2hvcnRjdXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1O1xyXG4gICAgaGVpZ2h0OiAyNTBweDtcclxuICAgIHBhZGRpbmc6IDJweCAycHg7XHJcbiAgICB3aWR0aDogMjUwcHg7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1oZWFkZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTU1NTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiA0cHg7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1oZWFkZXI6aG92ZXIgeyBjb2xvcjogI0Y5MDsgfVxyXG5cclxuLnNob3J0Y3V0LWhlYWRlcjpob3ZlciAuc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzg4ODtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGNvbG9yOiAjRjkwO1xyXG4gICAgbWFyZ2luLXRvcDogLTJweDtcclxufVxyXG5cclxuLnNob3J0Y3V0LWhlYWRlcjpob3ZlciAuc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbjphY3RpdmUgeyBjb2xvcjogcmVkOyB9XHJcblxyXG4uc2hvcnRjdXQtaXRlbSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDNweDtcclxuICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgIHBhZGRpbmctdG9wOiAzcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXdpZHRoOiAwcHg7XHJcbiAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1pdGVtOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5OTk7XHJcbiAgICBjb2xvcjogI2ZmOTkwMDtcclxufVxyXG5cclxuLnNob3J0Y3V0LWl0ZW06aG92ZXIgLnNob3J0Y3V0LWNsb3NlLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggI2FhYTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGNvbG9yOiAjRjkwO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtMXB4O1xyXG59XHJcblxyXG4uc2hvcnRjdXQtaXRlbTpob3ZlciAuc2hvcnRjdXQtbmFtZS1idXR0b246aG92ZXIgeyBjb2xvcjogcmVkOyB9XHJcblxyXG4uc2hvcnRjdXQtaXRlbTpob3ZlciAuc2hvcnRjdXQtY2xvc2UtYnV0dG9uOmFjdGl2ZSB7IGNvbG9yOiByZWQ7IH1cclxuXHJcbi5zaG9ydGN1dC1jbG9zZS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"shortcut-header\\\">\\r\\n            <i class=\\\"glyphicon glyphicon-hdd\\\"></i>\\r\\n            <button class=\\\"shortcut-name-button\\\" style=\\\"cursor: default\\\">Local Data Source</button>\\r\\n            <button class=\\\"pull-right glyphicon glyphicon-refresh shortcut-header-button\\\"\\r\\n                    title=\\\"Refresh shortcut\\\" (click)=\\\"onRefreshShortcut()\\\">\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"shortcut-item\\\">\\r\\n            <i class=\\\"glyphicon glyphicon-list-alt\\\"></i>\\r\\n            <button class=\\\"shortcut-name-button\\\" (click)=\\\"onQueryAllStudies()\\\">All</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"shortcut-item\\\">\\r\\n            <i class=\\\"glyphicon glyphicon-star-empty\\\"></i>\\r\\n            <button class=\\\"shortcut-name-button\\\" (click)=\\\"onQueryTodayStudy()\\\">Today</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div *ngFor=\\\"let shortcut of allShortcuts\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"shortcut-item\\\">\\r\\n            <i class=\\\"glyphicon glyphicon-search\\\"></i>\\r\\n            <button class=\\\"shortcut-name-button\\\" (click)=\\\"onQuery(shortcut)\\\">{{shortcut.name}}</button>\\r\\n            <button class=\\\"pull-right glyphicon glyphicon-remove shortcut-close-button\\\"\\r\\n                    title=\\\"Delete shortcut\\\" (click)=\\\"onDeleteShortcut(shortcut)\\\">\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div *ngFor=\\\"let shortcut of worklistService.shortcuts\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"shortcut-item\\\">\\r\\n            <i class=\\\"glyphicon glyphicon-search\\\"></i>\\r\\n            <button class=\\\"shortcut-name-button\\\" (click)=\\\"onQuery(shortcut)\\\">{{shortcut.name}}</button>\\r\\n            <button class=\\\"pull-right glyphicon glyphicon-remove shortcut-close-button\\\"\\r\\n                    title=\\\"Delete shortcut\\\" (click)=\\\"onDeleteShortcut(shortcut)\\\">\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"shortcut-header\\\">\\r\\n            <i class=\\\"glyphicon glyphicon-cloud\\\"></i>\\r\\n            <button class=\\\"shortcut-name-button\\\" style=\\\"cursor: default\\\">Third-Party Pacs</button>\\r\\n            <button class=\\\"pull-right glyphicon glyphicon-refresh shortcut-header-button\\\"\\r\\n                    title=\\\"Refresh third-party Pacs\\\" (click)=\\\"onRefreshThirdpartyPacs()\\\">\\r\\n            </button>\\r\\n            <button class=\\\"pull-right glyphicon glyphicon-plus shortcut-header-button\\\"\\r\\n                    title=\\\"Register a new third-party Pacs\\\" (click)=\\\"onRefreshThirdpartyPacs()\\\">\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from \"@angular/core\";\r\n\r\n\r\nimport { Shortcut } from \"../../../models/shortcut\";\r\nimport { WorklistService } from \"../../../services/worklist.service\";\r\nimport { DialogService } from \"../../../services/dialog.service\";\r\nimport { MessageBoxType, MessageBoxContent, DialogResult } from \"../../../models/messageBox\";\r\n\r\n@Component({\r\n    selector: \"app-query-shortcut\",\r\n    templateUrl: \"./query-shortcut.component.html\",\r\n    styleUrls: [\"./query-shortcut.component.css\"]\r\n})\r\nexport class QueryShortcutComponent implements OnInit {\r\n\r\n    allShortcuts: Shortcut[] = [];\r\n\r\n    constructor(private worklistService: WorklistService, private dialogService: DialogService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.onRefreshShortcut();\r\n    }\r\n\r\n    onQuery(shortcut: Shortcut): void {\r\n        this.worklistService.onQueryStudyByShortcut(shortcut);\r\n    }\r\n\r\n    onQueryTodayStudy(): void {\r\n        this.worklistService.onQueryTodayStudy();\r\n    }\r\n\r\n    onQueryAllStudies(): void {\r\n        this.worklistService.onQueryAllStudies();\r\n    }\r\n\r\n    onDeleteShortcut(shortcut: Shortcut): void {\r\n\r\n        const content = new MessageBoxContent();\r\n        content.title = \"Confirm Delete\";\r\n        content.messageText = \"Are you sure to delete this shortcut?\";\r\n        content.messageType = MessageBoxType.Question;\r\n\r\n        this.dialogService.showMessageBox(content).subscribe(\r\n            val => this.onConfirmDeleteCallback(val, shortcut));\r\n    }\r\n\r\n    onConfirmDeleteCallback(val: any, shortcut: Shortcut) {\r\n        if (val.dialogResult === DialogResult.Yes) {\r\n            this.worklistService.onDeleteShortcut(shortcut);\r\n\r\n            //alert('delete shortcut ' + shortcut.name);\r\n        }\r\n    }\r\n\r\n    onRefreshShortcut() {\r\n        // this.databaseService.getShortcuts().subscribe(shortcuts => this.allShortcuts = shortcuts);\r\n    }\r\n        \r\n    onRefreshThirdpartyPacs() {\r\n\r\n    }\r\n}\r\n","module.exports = \".query, .queryClear, .querySave {\\r\\n    border: none;\\r\\n    height: 30px;\\r\\n    outline: none;\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n.query { background: url('Query_All.png') no-repeat left top; }\\r\\n\\r\\n.query:hover { background: url('Query_All.png') no-repeat right top; }\\r\\n\\r\\n.query:active { background: url('Query_All.png') no-repeat right bottom; }\\r\\n\\r\\n.queryClear { background: url('ClearCondition_All.png') no-repeat left top; }\\r\\n\\r\\n.queryClear:hover { background: url('ClearCondition_All.png') no-repeat right top; }\\r\\n\\r\\n.queryClear:active { background: url('ClearCondition_All.png') no-repeat right bottom; }\\r\\n\\r\\n.querySave { background: url('Query_Save.png') no-repeat left top; }\\r\\n\\r\\n.querySave:hover { background: url('Query_Save.png') no-repeat right top; }\\r\\n\\r\\n.querySave:active { background: url('Query_Save.png') no-repeat right bottom; }\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9xdWVyeS10b29sYmFyL3F1ZXJ5LXRvb2xiYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUEsU0FBUyxtREFBK0UsRUFBRTs7QUFFMUYsZUFBZSxvREFBZ0YsRUFBRTs7QUFFakcsZ0JBQWdCLHVEQUFtRixFQUFFOztBQUVyRyxjQUFjLDREQUF3RixFQUFFOztBQUV4RyxvQkFBb0IsNkRBQXlGLEVBQUU7O0FBRS9HLHFCQUFxQixnRUFBNEYsRUFBRTs7QUFFbkgsYUFBYSxvREFBZ0YsRUFBRTs7QUFFL0YsbUJBQW1CLHFEQUFpRixFQUFFOztBQUV0RyxvQkFBb0Isd0RBQW9GLEVBQUUiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3F1ZXJ5LXRvb2xiYXIvcXVlcnktdG9vbGJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnF1ZXJ5LCAucXVlcnlDbGVhciwgLnF1ZXJ5U2F2ZSB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4ucXVlcnkgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucXVlcnk6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnF1ZXJ5OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9RdWVyeV9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4ucXVlcnlDbGVhciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9DbGVhckNvbmRpdGlvbl9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeUNsZWFyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0NsZWFyQ29uZGl0aW9uX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5xdWVyeUNsZWFyOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9DbGVhckNvbmRpdGlvbl9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4ucXVlcnlTYXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1F1ZXJ5X1NhdmUucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeVNhdmU6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfU2F2ZS5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5xdWVyeVNhdmU6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1F1ZXJ5X1NhdmUucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcbiJdfQ== */\"","module.exports = \"<table>\\r\\n    <tr>\\r\\n        <td>\\r\\n            <button class=\\\"query\\\" role=\\\"button\\\" title=\\\"Query\\\" (click)=\\\"onQuery()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"queryClear\\\" role=\\\"button\\\" title=\\\"Clear Condition\\\" (click)=\\\"onClearCondition()\\\"></button>\\r\\n        </td>\\r\\n        <td>\\r\\n            <button class=\\\"querySave\\\" role=\\\"button\\\" title=\\\"Save Shortcut\\\" (click)=\\\"onSaveShortcut()\\\"></button>\\r\\n        </td>\\r\\n\\r\\n        <td style=\\\"padding-left: 6px\\\">\\r\\n            <div class=\\\"checkbox\\\">\\r\\n                <label>\\r\\n                    <input type=\\\"checkbox\\\" [(ngModel)]=\\\"worklistService.showHistoryStudies\\\"/>Show History Study\\r\\n                </label>\\r\\n            </div>\\r\\n        </td>\\r\\n        <td style=\\\"padding-left: 6px\\\">\\r\\n            <div class=\\\"checkbox\\\">\\r\\n                <label>\\r\\n                    <input type=\\\"checkbox\\\" [ngModel]=\\\"worklistService.isUsingLocalTestData()\\\"(click)=\\\"onChangeDataSource($event)\\\"/>Using Local Test Data\\r\\n                </label>\\r\\n            </div>\\r\\n        </td>\\r\\n    </tr>\\r\\n</table>\\r\\n\"","import { Component, OnInit } from \"@angular/core\";\r\nimport { WorklistService } from \"../../../services/worklist.service\";\r\nimport { DataSource } from \"../../../models/shortcut\";\r\nimport { DialogService } from \"../../../services/dialog.service\";\r\nimport { MessageBoxType, MessageBoxContent, DialogResult } from \"../../../models/messageBox\";\r\n\r\n@Component({\r\n    selector: \"app-query-toolbar\",\r\n    templateUrl: \"./query-toolbar.component.html\",\r\n    styleUrls: [\"./query-toolbar.component.css\"]\r\n})\r\nexport class QueryToolbarComponent implements OnInit {\r\n\r\n    constructor(public worklistService: WorklistService, private dialogService: DialogService) {}\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    onChangeDataSource(event) {\r\n        this.worklistService.setDataSource(event.target.checked ? DataSource.LocalTestData : DataSource.MiniPacs);\r\n    }\r\n\r\n  onQuery() {\r\n    this.worklistService.onQueryStudies(1);\r\n  }\r\n\r\n    onClearCondition() {\r\n        this.worklistService.onCleanCondition();\r\n    }\r\n\r\n    onSaveShortcut() {\r\n        const content = new MessageBoxContent();\r\n        content.title = \"Add Shortcut\";\r\n        content.messageText = \"Please input the name of the shortcut:\";\r\n        content.messageType = MessageBoxType.Input;\r\n\r\n        this.dialogService.showMessageBox(content).subscribe(\r\n            val => this.onSaveShortcutCallback(val));\r\n    }\r\n\r\n    onSaveShortcutCallback(val: any) {\r\n        if (val.dialogResult === DialogResult.Ok) {\r\n            //const shortcut = new Shortcut();\r\n            //shortcut.name = \"test\";\r\n            this.worklistService.onSaveShortcut(val.valueInput);\r\n        }\r\n    }\r\n}\r\n","module.exports = \"#div-scroll {\\r\\n    height: 100%;\\r\\n    overflow: auto;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n#div-scroll::-webkit-scrollbar {\\r\\n    background-color: #808080;\\r\\n    width: 12px;\\r\\n}\\r\\n\\r\\n#div-scroll::-webkit-scrollbar-thumb {\\r\\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);\\r\\n    background-color: #555;\\r\\n    border-radius: 10px;\\r\\n}\\r\\n\\r\\n#div-scroll::-webkit-scrollbar-corner { background-color: dimgray; }\\r\\n\\r\\n#divContainer {\\r\\n    border-bottom: 2px solid #666;\\r\\n    bottom: 0px;\\r\\n    left: 0px;\\r\\n    position: absolute;\\r\\n    right: 0px;\\r\\n    top: 40px;\\r\\n}\\r\\n\\r\\n.studyQueryToolbar {\\r\\n    background-color: black;\\r\\n    color: #F5F5F5;\\r\\n    display: block;\\r\\n    height: 40px;\\r\\n    margin: 0 auto;\\r\\n    padding: 3px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.studyOpertionToolbar {\\r\\n    background-color: black;\\r\\n    border-bottom: 2px solid #666;\\r\\n    border-top: 1px solid #333;\\r\\n    bottom: 0;\\r\\n    color: #F5F5F5;\\r\\n    display: block;\\r\\n    height: 48px;\\r\\n    margin: 0 auto;\\r\\n    padding: 4px;\\r\\n    position: fixed;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n#panelStudyDash {\\r\\n    background-color: black;\\r\\n    border: none;\\r\\n    margin: 0px;\\r\\n    padding: 5px 10px;\\r\\n    visibility: visible;\\r\\n}\\r\\n\\r\\n#panelStudyDash button {\\r\\n    border: none;\\r\\n    height: 30px;\\r\\n    outline: none;\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n#panelStudyDash .save-query {\\r\\n    cursor: pointer;\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n#panelStudyDash .checkbox {\\r\\n    margin-left: 5px;\\r\\n    margin-right: 5px;\\r\\n}\\r\\n\\r\\n#panelStudyDash #statusLabel { margin: 0px; }\\r\\n\\r\\n#divStudies {\\r\\n    margin-bottom: 0px;\\r\\n    min-height: 200px;\\r\\n    position: static;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/*#divStudies::-webkit-scrollbar{\\r\\n    width:16px;\\r\\n    background-color:black;\\r\\n}\\r\\n\\r\\n#divStudies::-webkit-scrollbar-thumb{\\r\\n    background-color:#535353;\\r\\n    border-radius: 10px;\\r\\n}*/\\r\\n\\r\\n@media (min-width: 768px) {    \\r\\n    #panelStudyDash .checkbox { top: -2px; }\\r\\n\\r\\n    #panelStudyDash .checkbox label input { top: 2px; }\\r\\n}\\r\\n\\r\\n@media (max-width: 768px) {\\r\\n    #divStudies {\\r\\n        border: none;\\r\\n        left: 1px;\\r\\n        position: absolute;\\r\\n        right: 1px;\\r\\n        top: 42px;\\r\\n        visibility: visible;\\r\\n    }\\r\\n\\r\\n    #panelStudyDash {\\r\\n        left: 1px;\\r\\n        padding: 5px 2px;\\r\\n        position: absolute;\\r\\n        right: 1px;\\r\\n        visibility: visible;\\r\\n    }\\r\\n\\r\\n    #panelStudyDash .form-group, .checkbox, button {\\r\\n        display: inline-block;\\r\\n        margin: 0px;\\r\\n    }\\r\\n\\r\\n    #panelStudyDash #statusLabel { display: none; }\\r\\n\\r\\n    #panelStudyDash .save-query { display: none; }\\r\\n\\r\\n    #panelStudyDash .checkbox {\\r\\n        margin-left: 5px;\\r\\n        margin-right: 5px;\\r\\n        top: -10px;\\r\\n    }\\r\\n\\r\\n    .sp_panel-container, .sp_panel-left, .sp_panel-right {\\r\\n        visibility: hidden;\\r\\n        z-index: 0;\\r\\n    }\\r\\n}\\r\\n\\r\\n/* horizontal panel*/\\r\\n\\r\\n.sp_panel-container {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    overflow: hidden;\\r\\n    /* avoid browser level touch actions */\\r\\n    /*xtouch-action: none;*/\\r\\n}\\r\\n\\r\\n.sp_panel-left {\\r\\n    /*min-width: 1px;*/\\r\\n    /*white-space: nowrap;*/\\r\\n    background: #07090c;\\r\\n    display: flex;\\r\\n    flex: 0 0 auto;\\r\\n    flex-direction: column;\\r\\n    min-height: 200px;\\r\\n    overflow: hidden;\\r\\n    /* only manually resize */\\r\\n    padding: 4px;\\r\\n    width: 200px;\\r\\n    /*color: white;*/\\r\\n}\\r\\n\\r\\n.sp_splitter {\\r\\n    background: url('split_vertical_collapse.jpg') center center no-repeat #535353;\\r\\n    cursor: pointer;\\r\\n    flex: 0 0 auto;\\r\\n    min-height: 200px;\\r\\n    width: 8px;\\r\\n}\\r\\n\\r\\n.sp_panel-right {\\r\\n    background: black;\\r\\n    color: white;\\r\\n    min-height: 200px;\\r\\n    min-width: 200px;\\r\\n    padding-bottom: 100px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/* vertical panel */\\r\\n\\r\\n.sp_panel-container-vertical {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.sp_panel-top {\\r\\n    flex: 0 0 auto;\\r\\n    /* only manually resize */\\r\\n    /*padding: 10px;*/\\r\\n    height: 70%;\\r\\n    min-height: 300px;\\r\\n    overflow-y: auto;\\r\\n    width: 100%;\\r\\n    /*white-space: nowrap;\\r\\n  background: #838383;\\r\\n  color: white;*/\\r\\n    z-index: 0;\\r\\n}\\r\\n\\r\\n.sp_splitter-horizontal {\\r\\n    background: url('split_horizontal_collapse.jpg') center center no-repeat #535353;\\r\\n    cursor: pointer;\\r\\n    flex: 0 0 auto;\\r\\n    height: 8px;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.sp_panel-bottom {\\r\\n    flex: 1 1 auto;\\r\\n    /* resizable */\\r\\n    /*padding: 10px;*/\\r\\n    min-height: 200px;\\r\\n    overflow-y: auto;\\r\\n    /*background: #eee;*/\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.navbar-right { padding-right: 10px; }\\r\\n\\r\\n.sp_panel-right .table { white-space: nowrap; }\\r\\n\\r\\n#trStudiesHeader a { color: black; }\\r\\n\\r\\n#trSeriesHeader a { color: black; }\\r\\n\\r\\n#leftPanelTop { flex: 1 1 auto; }\\r\\n\\r\\n#leftPanelBottom {\\r\\n    flex: 0 0 auto;\\r\\n    height: 20%;\\r\\n}\\r\\n\\r\\n#formUploadImage input[type=file] { width: 600px; }\\r\\n\\r\\n#tblSeries td:nth-child(1) { text-align: center; }\\r\\n\\r\\n#tblSeries img {\\r\\n    height: 50px;\\r\\n    margin: auto;\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC1zaGVsbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGNBQWM7SUFDZCxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsV0FBVztBQUNmOztBQUVBO0lBQ0ksbURBQW1EO0lBQ25ELHNCQUFzQjtJQUN0QixtQkFBbUI7QUFDdkI7O0FBRUEsd0NBQXdDLHlCQUF5QixFQUFFOztBQUVuRTtJQUNJLDZCQUE2QjtJQUM3QixXQUFXO0lBQ1gsU0FBUztJQUNULGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsU0FBUztBQUNiOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGNBQWM7SUFDZCxjQUFjO0lBQ2QsWUFBWTtJQUNaLGNBQWM7SUFDZCxZQUFZO0lBQ1osV0FBVztBQUNmOztBQUVBO0lBQ0ksdUJBQXVCO0lBQ3ZCLDZCQUE2QjtJQUM3QiwwQkFBMEI7SUFDMUIsU0FBUztJQUNULGNBQWM7SUFDZCxjQUFjO0lBQ2QsWUFBWTtJQUNaLGNBQWM7SUFDZCxZQUFZO0lBQ1osZUFBZTtJQUNmLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2QixZQUFZO0lBQ1osV0FBVztJQUNYLGlCQUFpQjtJQUNqQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWE7SUFDYixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBLCtCQUErQixXQUFXLEVBQUU7O0FBRTVDO0lBQ0ksa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmOztBQUVBOzs7Ozs7OztFQVFFOztBQUVGO0lBQ0ksNEJBQTRCLFNBQVMsRUFBRTs7SUFFdkMsd0NBQXdDLFFBQVEsRUFBRTtBQUN0RDs7QUFFQTtJQUNJO1FBQ0ksWUFBWTtRQUNaLFNBQVM7UUFDVCxrQkFBa0I7UUFDbEIsVUFBVTtRQUNWLFNBQVM7UUFDVCxtQkFBbUI7SUFDdkI7O0lBRUE7UUFDSSxTQUFTO1FBQ1QsZ0JBQWdCO1FBQ2hCLGtCQUFrQjtRQUNsQixVQUFVO1FBQ1YsbUJBQW1CO0lBQ3ZCOztJQUVBO1FBQ0kscUJBQXFCO1FBQ3JCLFdBQVc7SUFDZjs7SUFFQSwrQkFBK0IsYUFBYSxFQUFFOztJQUU5Qyw4QkFBOEIsYUFBYSxFQUFFOztJQUU3QztRQUNJLGdCQUFnQjtRQUNoQixpQkFBaUI7UUFDakIsVUFBVTtJQUNkOztJQUVBO1FBQ0ksa0JBQWtCO1FBQ2xCLFVBQVU7SUFDZDtBQUNKOztBQUVBLG9CQUFvQjs7QUFFcEI7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixzQ0FBc0M7SUFDdEMsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLGNBQWM7SUFDZCxzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSw4RUFBdUc7SUFDdkcsZUFBZTtJQUNmLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsVUFBVTtBQUNkOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtJQUNyQixXQUFXO0FBQ2Y7O0FBR0EsbUJBQW1COztBQUVuQjtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYOztnQkFFWTtJQUNaLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGdGQUF5RztJQUN6RyxlQUFlO0lBQ2YsY0FBYztJQUNkLFdBQVc7SUFDWCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixVQUFVO0FBQ2Q7O0FBRUEsZ0JBQWdCLG1CQUFtQixFQUFFOztBQUVyQyx5QkFBeUIsbUJBQW1CLEVBQUU7O0FBRTlDLHFCQUFxQixZQUFZLEVBQUU7O0FBRW5DLG9CQUFvQixZQUFZLEVBQUU7O0FBR2xDLGdCQUFnQixjQUFjLEVBQUU7O0FBRWhDO0lBQ0ksY0FBYztJQUNkLFdBQVc7QUFDZjs7QUFFQSxvQ0FBb0MsWUFBWSxFQUFFOztBQUVsRCw2QkFBNkIsa0JBQWtCLEVBQUU7O0FBRWpEO0lBQ0ksWUFBWTtJQUNaLFlBQVk7SUFDWixXQUFXO0FBQ2YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3dvcmtsaXN0LXNoZWxsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGl2LXNjcm9sbCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBvdmVyZmxvdzogYXV0bztcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4jZGl2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzgwODA4MDtcclxuICAgIHdpZHRoOiAxMnB4O1xyXG59XHJcblxyXG4jZGl2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgLjMpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn1cclxuXHJcbiNkaXYtc2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiBkaW1ncmF5OyB9XHJcblxyXG4jZGl2Q29udGFpbmVyIHtcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjNjY2O1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgdG9wOiA0MHB4O1xyXG59XHJcblxyXG4uc3R1ZHlRdWVyeVRvb2xiYXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogI0Y1RjVGNTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBwYWRkaW5nOiAzcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnN0dWR5T3BlcnRpb25Ub29sYmFyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM2NjY7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzMzMztcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4jcGFuZWxTdHVkeURhc2gge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoIGJ1dHRvbiB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4jcGFuZWxTdHVkeURhc2ggLnNhdmUtcXVlcnkge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG59XHJcblxyXG4jcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoICNzdGF0dXNMYWJlbCB7IG1hcmdpbjogMHB4OyB9XHJcblxyXG4jZGl2U3R1ZGllcyB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwcHg7XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIHBvc2l0aW9uOiBzdGF0aWM7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLyojZGl2U3R1ZGllczo6LXdlYmtpdC1zY3JvbGxiYXJ7XHJcbiAgICB3aWR0aDoxNnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjpibGFjaztcclxufVxyXG5cclxuI2RpdlN0dWRpZXM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjojNTM1MzUzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufSovXHJcblxyXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsgICAgXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHsgdG9wOiAtMnB4OyB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCBsYWJlbCBpbnB1dCB7IHRvcDogMnB4OyB9XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gICAgI2RpdlN0dWRpZXMge1xyXG4gICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICBsZWZ0OiAxcHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHJpZ2h0OiAxcHg7XHJcbiAgICAgICAgdG9wOiA0MnB4O1xyXG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbiAgICB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIHtcclxuICAgICAgICBsZWZ0OiAxcHg7XHJcbiAgICAgICAgcGFkZGluZzogNXB4IDJweDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgcmlnaHQ6IDFweDtcclxuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gICAgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCAuZm9ybS1ncm91cCwgLmNoZWNrYm94LCBidXR0b24ge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICBtYXJnaW46IDBweDtcclxuICAgIH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggI3N0YXR1c0xhYmVsIHsgZGlzcGxheTogbm9uZTsgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCAuc2F2ZS1xdWVyeSB7IGRpc3BsYXk6IG5vbmU7IH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gICAgICAgIHRvcDogLTEwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLnNwX3BhbmVsLWNvbnRhaW5lciwgLnNwX3BhbmVsLWxlZnQsIC5zcF9wYW5lbC1yaWdodCB7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qIGhvcml6b250YWwgcGFuZWwqL1xyXG5cclxuLnNwX3BhbmVsLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAvKiBhdm9pZCBicm93c2VyIGxldmVsIHRvdWNoIGFjdGlvbnMgKi9cclxuICAgIC8qeHRvdWNoLWFjdGlvbjogbm9uZTsqL1xyXG59XHJcblxyXG4uc3BfcGFuZWwtbGVmdCB7XHJcbiAgICAvKm1pbi13aWR0aDogMXB4OyovXHJcbiAgICAvKndoaXRlLXNwYWNlOiBub3dyYXA7Ki9cclxuICAgIGJhY2tncm91bmQ6ICMwNzA5MGM7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIC8qY29sb3I6IHdoaXRlOyovXHJcbn1cclxuXHJcbi5zcF9zcGxpdHRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc3BsaXRfdmVydGljYWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIHdpZHRoOiA4cHg7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1yaWdodCB7XHJcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxMDBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuLyogdmVydGljYWwgcGFuZWwgKi9cclxuXHJcbi5zcF9wYW5lbC1jb250YWluZXItdmVydGljYWwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4uc3BfcGFuZWwtdG9wIHtcclxuICAgIGZsZXg6IDAgMCBhdXRvO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgaGVpZ2h0OiA3MCU7XHJcbiAgICBtaW4taGVpZ2h0OiAzMDBweDtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIC8qd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBiYWNrZ3JvdW5kOiAjODM4MzgzO1xyXG4gIGNvbG9yOiB3aGl0ZTsqL1xyXG4gICAgei1pbmRleDogMDtcclxufVxyXG5cclxuLnNwX3NwbGl0dGVyLWhvcml6b250YWwge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NwbGl0X2hvcml6b250YWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDhweDtcclxuICAgIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1ib3R0b20ge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgICAvKiByZXNpemFibGUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLypiYWNrZ3JvdW5kOiAjZWVlOyovXHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4ubmF2YmFyLXJpZ2h0IHsgcGFkZGluZy1yaWdodDogMTBweDsgfVxyXG5cclxuLnNwX3BhbmVsLXJpZ2h0IC50YWJsZSB7IHdoaXRlLXNwYWNlOiBub3dyYXA7IH1cclxuXHJcbiN0clN0dWRpZXNIZWFkZXIgYSB7IGNvbG9yOiBibGFjazsgfVxyXG5cclxuI3RyU2VyaWVzSGVhZGVyIGEgeyBjb2xvcjogYmxhY2s7IH1cclxuXHJcblxyXG4jbGVmdFBhbmVsVG9wIHsgZmxleDogMSAxIGF1dG87IH1cclxuXHJcbiNsZWZ0UGFuZWxCb3R0b20ge1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDIwJTtcclxufVxyXG5cclxuI2Zvcm1VcGxvYWRJbWFnZSBpbnB1dFt0eXBlPWZpbGVdIHsgd2lkdGg6IDYwMHB4OyB9XHJcblxyXG4jdGJsU2VyaWVzIHRkOm50aC1jaGlsZCgxKSB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxyXG5cclxuI3RibFNlcmllcyBpbWcge1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbn1cclxuIl19 */\"","module.exports = \"<div [style.visibility]=\\\"hideMe? 'hidden' : 'visible'\\\" id=\\\"divContainer\\\" class=\\\"sp_panel-container\\\">\\r\\n\\r\\n    <div class=\\\"sp_panel-left\\\">\\r\\n        <app-query-shortcut></app-query-shortcut>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"sp_splitter\\\">\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"sp_panel-right\\\">\\r\\n        <div class=\\\"studyQueryToolbar\\\">\\r\\n            <app-query-toolbar></app-query-toolbar>\\r\\n        </div>\\r\\n\\r\\n        <div id=\\\"div-scroll\\\">\\r\\n            <app-worklist></app-worklist>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"studyOpertionToolbar\\\">\\r\\n            <app-operate-toolbar></app-operate-toolbar>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from \"@angular/core\";\r\nimport { ShellNavigatorService } from \"../../services/shell-navigator.service\";\r\nimport { Subscription } from \"rxjs\";\r\n\r\n@Component({\r\n    selector: \"app-worklist-shell\",\r\n    templateUrl: \"./worklist-shell.component.html\",\r\n    styleUrls: [\"./worklist-shell.component.css\"]\r\n})\r\nexport class WorklistShellComponent implements OnInit {\r\n    subscriptionShellNavigated: Subscription;\r\n    hideMe = false;\r\n\r\n    constructor(private shellNavigatorService: ShellNavigatorService) {\r\n        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(\r\n            viewerShellData => {\r\n                this.hideMe = viewerShellData !== null;\r\n            });\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        $(\".sp_panel-left\").spResizable({\r\n            handleSelector: \".sp_splitter\",\r\n            resizeHeight: false\r\n        });\r\n    }\r\n}\r\n","module.exports = \"#tblStudies a {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n\\r\\n/*#tblStudies {\\r\\n    border: 1px solid black;\\r\\n    table-layout: fixed;\\r\\n}\\r\\n\\r\\nth,\\r\\ntd {\\r\\n    border: 1px solid black;\\r\\n    width: 100px;\\r\\n    overflow: hidden;\\r\\n    min-width:200px;\\r\\n}*/\\r\\n\\r\\n\\r\\nul {\\r\\n    list-style: none;\\r\\n    -webkit-padding-start: 0px;\\r\\n            padding-inline-start: 0px;\\r\\n}\\r\\n\\r\\n\\r\\nli {\\r\\n    float: left;\\r\\n    padding: 2px;\\r\\n}\\r\\n\\r\\n\\r\\nli button {\\r\\n        cursor: pointer;\\r\\n    }\\r\\n\\r\\n\\r\\nthead {\\r\\n    background: #444444;\\r\\n}\\r\\n\\r\\n\\r\\nthead tr {\\r\\n    background-color: #444444;\\r\\n}\\r\\n\\r\\n\\r\\nthead td {\\r\\n    background-color: #444444;\\r\\n}\\r\\n\\r\\n\\r\\nthead div {\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n\\r\\n.worklistHeader {\\r\\n    cursor:pointer;\\r\\n    min-width:50px;\\r\\n}\\r\\n\\r\\n\\r\\n#headContent td tr{\\r\\n    border: 0px;\\r\\n}\\r\\n\\r\\n\\r\\n#tblStudies td {\\r\\n    border: 1px solid #333;\\r\\n    color: #ccc;\\r\\n}\\r\\n\\r\\n\\r\\n#tblStudies th {\\r\\n    border: 1px solid #333;\\r\\n}\\r\\n\\r\\n\\r\\n#tblStudies tr.cust-info td {\\r\\n    background-color: #222;\\r\\n}\\r\\n\\r\\n\\r\\n#trStudiesHeader a {\\r\\n    color: #ddd;\\r\\n}\\r\\n\\r\\n\\r\\n#trSeriesHeader a {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n\\r\\n#trStudiesHeader tr td {\\r\\n    border:hidden;\\r\\n    padding-right:5px;\\r\\n}\\r\\n\\r\\n\\r\\n#trStudiesQuery input[type=text] {\\r\\n    background-color: black;\\r\\n    border: 1px solid #444;\\r\\n    vertical-align: middle;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n\\r\\nselect {\\r\\n    background-color: black;\\r\\n    border: 1px solid #444;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n\\r\\n#trStudiesQuery td:nth-child(n) {\\r\\n    margin: 0px;\\r\\n    padding: 1px;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n\\r\\n#tblStudies tbody tr:nth-child(2n + 1) {\\r\\n    background-color: #181818;\\r\\n}\\r\\n\\r\\n\\r\\n/*#tblStudies tr:nth-child(1) { background-color: black; }\\r\\n\\r\\n#tblStudies tr:nth-child(2) { background-color: black; }*/\\r\\n\\r\\n\\r\\n#tblStudies tbody tr:hover {\\r\\n    background-color: #555;\\r\\n    color: #f90;\\r\\n}\\r\\n\\r\\n\\r\\n/*#tblStudies tr:nth-child(1):hover { background-color: black; }\\r\\n\\r\\n#tblStudies tr:nth-child(2):hover {\\r\\n    background-color: black;\\r\\n    color: white;\\r\\n}*/\\r\\n\\r\\n\\r\\n#trStudiesQuery .dropdown {\\r\\n    background-color: #555555;\\r\\n    color: red;\\r\\n}\\r\\n\\r\\n\\r\\n#trStudiesQuery .dropdown .btn {\\r\\n        background-color: #555555;\\r\\n        min-width: 70px;\\r\\n        padding: 1px 6px;\\r\\n    }\\r\\n\\r\\n\\r\\n.loading-shade {\\r\\n    align-items: center;\\r\\n    background: rgba(0, 0, 0, 0.15);\\r\\n    bottom: 0px;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    left: 0px;\\r\\n    margin: auto;\\r\\n    position: fixed;\\r\\n    right: 0px;\\r\\n    top: 0px;\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n\\r\\n.shortcut-name-button {\\r\\n    background-color: transparent;\\r\\n    border: none;\\r\\n    border-width: 0px;\\r\\n    color: inherit;\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n\\r\\n.shortcut-name-button:disabled {\\r\\n    color: #555555;\\r\\n}\\r\\n\\r\\n\\r\\n.patientIdCol {\\r\\n    cursor: pointer;\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC93b3JrbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7O0FBR0E7Ozs7Ozs7Ozs7O0VBV0U7OztBQUVGO0lBQ0ksZ0JBQWdCO0lBQ2hCLDBCQUF5QjtZQUF6Qix5QkFBeUI7QUFDN0I7OztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEI7OztBQUVJO1FBQ0ksZUFBZTtJQUNuQjs7O0FBRUo7SUFDSSxtQkFBbUI7QUFDdkI7OztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOzs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7OztBQUVBO0lBQ0ksY0FBYztJQUNkLGNBQWM7QUFDbEI7OztBQUVBO0lBQ0ksV0FBVztBQUNmOzs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixXQUFXO0FBQ2Y7OztBQUVBO0lBQ0ksc0JBQXNCO0FBQzFCOzs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7OztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsaUJBQWlCO0FBQ3JCOzs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2QixzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLFdBQVc7QUFDZjs7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLFdBQVc7QUFDZjs7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHNCQUFzQjtBQUMxQjs7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7OztBQUVBOzt5REFFeUQ7OztBQUV6RDtJQUNJLHNCQUFzQjtJQUN0QixXQUFXO0FBQ2Y7OztBQUVBOzs7OztFQUtFOzs7QUFFRjtJQUNJLHlCQUF5QjtJQUN6QixVQUFVO0FBQ2Q7OztBQUVJO1FBQ0kseUJBQXlCO1FBQ3pCLGVBQWU7UUFDZixnQkFBZ0I7SUFDcEI7OztBQUVKO0lBQ0ksbUJBQW1CO0lBQ25CLCtCQUErQjtJQUMvQixXQUFXO0lBQ1gsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixTQUFTO0lBQ1QsWUFBWTtJQUNaLGVBQWU7SUFDZixVQUFVO0lBQ1YsUUFBUTtJQUNSLFVBQVU7QUFDZDs7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsYUFBYTtBQUNqQjs7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOzs7QUFFQTtJQUNJLGVBQWU7SUFDZiwwQkFBMEI7QUFDOUIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3dvcmtsaXN0L3dvcmtsaXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjdGJsU3R1ZGllcyBhIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuXHJcbi8qI3RibFN0dWRpZXMge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xyXG59XHJcblxyXG50aCxcclxudGQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgbWluLXdpZHRoOjIwMHB4O1xyXG59Ki9cclxuXHJcbnVsIHtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICBwYWRkaW5nLWlubGluZS1zdGFydDogMHB4O1xyXG59XHJcblxyXG5saSB7XHJcbiAgICBmbG9hdDogbGVmdDtcclxuICAgIHBhZGRpbmc6IDJweDtcclxufVxyXG5cclxuICAgIGxpIGJ1dHRvbiB7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgfVxyXG5cclxudGhlYWQge1xyXG4gICAgYmFja2dyb3VuZDogIzQ0NDQ0NDtcclxufVxyXG5cclxudGhlYWQgdHIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDQ0NDtcclxufVxyXG5cclxudGhlYWQgdGQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDQ0NDtcclxufVxyXG5cclxudGhlYWQgZGl2IHtcclxuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XHJcbn1cclxuXHJcbi53b3JrbGlzdEhlYWRlciB7XHJcbiAgICBjdXJzb3I6cG9pbnRlcjtcclxuICAgIG1pbi13aWR0aDo1MHB4O1xyXG59XHJcblxyXG4jaGVhZENvbnRlbnQgdGQgdHJ7XHJcbiAgICBib3JkZXI6IDBweDtcclxufVxyXG5cclxuI3RibFN0dWRpZXMgdGQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzMzMztcclxuICAgIGNvbG9yOiAjY2NjO1xyXG59XHJcblxyXG4jdGJsU3R1ZGllcyB0aCB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzO1xyXG59XHJcblxyXG4jdGJsU3R1ZGllcyB0ci5jdXN0LWluZm8gdGQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIyMjtcclxufVxyXG5cclxuI3RyU3R1ZGllc0hlYWRlciBhIHtcclxuICAgIGNvbG9yOiAjZGRkO1xyXG59XHJcblxyXG4jdHJTZXJpZXNIZWFkZXIgYSB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbiN0clN0dWRpZXNIZWFkZXIgdHIgdGQge1xyXG4gICAgYm9yZGVyOmhpZGRlbjtcclxuICAgIHBhZGRpbmctcmlnaHQ6NXB4O1xyXG59XHJcblxyXG4jdHJTdHVkaWVzUXVlcnkgaW5wdXRbdHlwZT10ZXh0XSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0NDQ7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbnNlbGVjdCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0NDQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuI3RyU3R1ZGllc1F1ZXJ5IHRkOm50aC1jaGlsZChuKSB7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbiN0YmxTdHVkaWVzIHRib2R5IHRyOm50aC1jaGlsZCgybiArIDEpIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxODE4MTg7XHJcbn1cclxuXHJcbi8qI3RibFN0dWRpZXMgdHI6bnRoLWNoaWxkKDEpIHsgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7IH1cclxuXHJcbiN0YmxTdHVkaWVzIHRyOm50aC1jaGlsZCgyKSB7IGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyB9Ki9cclxuXHJcbiN0YmxTdHVkaWVzIHRib2R5IHRyOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU7XHJcbiAgICBjb2xvcjogI2Y5MDtcclxufVxyXG5cclxuLyojdGJsU3R1ZGllcyB0cjpudGgtY2hpbGQoMSk6aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsgfVxyXG5cclxuI3RibFN0dWRpZXMgdHI6bnRoLWNoaWxkKDIpOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59Ki9cclxuXHJcbiN0clN0dWRpZXNRdWVyeSAuZHJvcGRvd24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTU1NTtcclxuICAgIGNvbG9yOiByZWQ7XHJcbn1cclxuXHJcbiAgICAjdHJTdHVkaWVzUXVlcnkgLmRyb3Bkb3duIC5idG4ge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU1NTU7XHJcbiAgICAgICAgbWluLXdpZHRoOiA3MHB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDFweCA2cHg7XHJcbiAgICB9XHJcblxyXG4ubG9hZGluZy1zaGFkZSB7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjE1KTtcclxuICAgIGJvdHRvbTogMHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgbGVmdDogMHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgcmlnaHQ6IDBweDtcclxuICAgIHRvcDogMHB4O1xyXG4gICAgei1pbmRleDogMTtcclxufVxyXG5cclxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXdpZHRoOiAwcHg7XHJcbiAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1uYW1lLWJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICBjb2xvcjogIzU1NTU1NTtcclxufVxyXG5cclxuLnBhdGllbnRJZENvbCB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG5cclxuIl19 */\"","module.exports = \"<div>\\r\\n    <table id=\\\"tblStudies\\\" class=\\\"table table-bordered table-condensed\\\">\\r\\n        <thead>\\r\\n            <tr id=\\\"trStudiesHeader\\\">\\r\\n                <th>\\r\\n                </th>\\r\\n                <th *ngFor=\\\"let col of worklistService.worklistColumns \\\" nowrap>\\r\\n                    <div id=\\\"headContent\\\" class=\\\"worklistHeader\\\">\\r\\n            <tr>\\r\\n                <td>\\r\\n                    <div (click)=\\\"onWorklistHeaderClicked(col.columnId)\\\">{{col.columnText}}</div>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <i id=\\\"orderIcon\\\" *ngIf=\\\"col.columnId == orderHeader\\\" [className]=\\\"isDesc ? 'glyphicon glyphicon-collapse-down' : 'glyphicon glyphicon-collapse-up'\\\"></i>\\r\\n                </td>\\r\\n            </tr>\\r\\n</div>\\r\\n            </th>\\r\\n        </tr>\\r\\n<tr id=\\\"trStudiesQuery\\\">\\r\\n    <td>\\r\\n        <input type=\\\"checkbox\\\" (click)=\\\"onAllStudyChecked($event)\\\" />\\r\\n    </td>\\r\\n    <td *ngFor=\\\"let col of worklistService.worklistColumns\\\">\\r\\n        <div *ngIf=\\\"col.controlType == 'TextBox'\\\">\\r\\n            <input type=\\\"text\\\" [(ngModel)]=\\\"col.shortcutType[col.columnId]\\\" />\\r\\n        </div>\\r\\n        <div *ngIf=\\\"col.controlType == 'DropDownList'\\\">\\r\\n            <div *ngIf=\\\"col.columnId == 'studyDate'; else notStudyDate\\\">\\r\\n            <div>\\r\\n                <select *ngIf=\\\"!initStudyDate; else showStudyDateRange\\\" [(ngModel)]=\\\"col.shortcutType[col.columnId]\\\" (change)=\\\"onStudyDateChangeSelect($event.target.selectedIndex)\\\">\\r\\n                    <option *ngFor=\\\"let value of col.valueList | keyvalue\\\" [ngValue]=\\\"value.key\\\" >{{value.value}}</option>\\r\\n                </select>\\r\\n                <ng-template #showStudyDateRange>\\r\\n                    <table (click)=\\\"onStudyDateRangeTableClicked()\\\">\\r\\n                        <tr>\\r\\n                            <td>\\r\\n                                <mat-form-field>\\r\\n                                    <input matInput [matDatepicker]=\\\"picker1\\\" [min]=\\\"fromMinDate\\\" [max]=\\\"fromMaxDate\\\" placeholder=\\\"From\\\" [(ngModel)]=\\\"worklistService.shortcut.studyDateFrom\\\">\\r\\n                                    <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n                                    <mat-datepicker #picker1></mat-datepicker>\\r\\n                                </mat-form-field>\\r\\n                            </td>\\r\\n                            <td id=\\\"tdStudyDateFrom\\\">\\r\\n                                <mat-form-field>\\r\\n                                    <input matInput [matDatepicker]=\\\"picker2\\\" [min]=\\\"fromMinDate\\\" [max]=\\\"fromMaxDate\\\" placeholder=\\\"To\\\" [(ngModel)]=\\\"worklistService.shortcut.studyDateTo\\\">\\r\\n                                    <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\"></mat-datepicker-toggle>\\r\\n                                    <mat-datepicker #picker2></mat-datepicker>\\r\\n                                </mat-form-field>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                    </table>\\r\\n                </ng-template>\\r\\n</div>\\r\\n        </div>\\r\\n        <ng-template #notStudyDate>\\r\\n            <select [(ngModel)]=\\\"col.shortcutType[col.columnId]\\\">\\r\\n                <option value=\\\"\\\">All</option>\\r\\n                <option *ngFor=\\\"let value of col.valueList | keyvalue\\\" [ngValue]=\\\"value.key\\\">{{value.value}}</option>\\r\\n            </select>\\r\\n        </ng-template>\\r\\n        \\r\\n    </div>\\r\\n        <div *ngIf=\\\"col.controlType == 'Calendar'\\\">\\r\\n            <tr>\\r\\n                <td>\\r\\n                    <mat-form-field>\\r\\n                        <input matInput [matDatepicker]=\\\"picker1\\\" [min]=\\\"fromMinDate\\\" [max]=\\\"fromMaxDate\\\" placeholder=\\\"From\\\" (dateChange)=\\\"fromDateChanged('change', $event)\\\" [(ngModel)]=\\\"worklistService.shortcut.patientBirthDateFrom\\\">\\r\\n                        <mat-datepicker-toggle matSuffix [for]=\\\"picker1\\\"></mat-datepicker-toggle>\\r\\n                        <mat-datepicker #picker1></mat-datepicker>\\r\\n                    </mat-form-field>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <mat-form-field>\\r\\n                        <input matInput [matDatepicker]=\\\"picker2\\\" [min]=\\\"toMinDate\\\" [max]=\\\"toMaxDate\\\" placeholder=\\\"To\\\" (dateChange)=\\\"toDateChanged('change', $event)\\\" [(ngModel)]=\\\"worklistService.shortcut.patientBirthDateTo\\\">\\r\\n                        <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\"></mat-datepicker-toggle>\\r\\n                        <mat-datepicker #picker2></mat-datepicker>\\r\\n                    </mat-form-field>\\r\\n                </td>\\r\\n            </tr>\\r\\n            </div>\\r\\n<td>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n        <tr *ngFor=\\\"let study of worklistService.studies\\\" (click)=\\\"onStudyChecked(study)\\\">\\r\\n            <td>\\r\\n                <input type=\\\"checkbox\\\" [(ngModel)]=\\\"study.checked\\\" />\\r\\n            </td>\\r\\n            <td *ngFor=\\\"let col of worklistService.worklistColumns\\\" nowrap>\\r\\n                <div class=\\\"patientIdCol\\\" *ngIf=\\\"col.columnId == 'patientId'; else notPatientId\\\" (click)=\\\"doShowStudy(study)\\\">{{study.patient[col.columnId]}}</div>\\r\\n                <ng-template #notPatientId>\\r\\n                    <div *ngIf=\\\"study.patient[col.columnId]; else onlyStudy\\\">{{study.patient[col.columnId]}}</div>\\r\\n                    <ng-template #onlyStudy>\\r\\n                        <div *ngIf=\\\"col.columnId != 'bodyPartExamined'; else bodyPart\\\">{{study[col.columnId]}}</div>\\r\\n                        <ng-template #bodyPart>\\r\\n                            <span *ngFor=\\\"let bodyPart of study.bodyPartList; let i = index\\\">\\r\\n                                <span *ngIf=\\\"i != 0\\\">\\r\\n                                    ,\\r\\n                                </span>\\r\\n                                {{bodyPart}}\\r\\n                            </span>\\r\\n                        </ng-template>\\r\\n                    </ng-template>\\r\\n                </ng-template>\\r\\n            </td>\\r\\n        </tr>\\r\\n    </tbody>\\r\\n    <tfoot>\\r\\n        <tr id=\\\"trFoot\\\">\\r\\n            <td colspan=\\\"5\\\">\\r\\n                <ul>\\r\\n                    <li>\\r\\n                        <div>Pages:{{currentPage}}/{{worklistService.pageCount}}</div>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <button class=\\\"shortcut-name-button\\\" (click)=\\\"onCurrentPageClicked(1)\\\" [disabled]=\\\"worklistService.pageCount == 1 || currentPage == 1\\\">First</button>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <button class=\\\"shortcut-name-button\\\" (click)=\\\"onPrevPageClicked()\\\" [disabled]=\\\"worklistService.pageCount == 1 || currentPage == 1\\\">Prev</button>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <button class=\\\"shortcut-name-button\\\" (click)=\\\"onNextPageClicked()\\\" [disabled]=\\\"worklistService.pageCount == 1 || currentPage == worklistService.pageCount\\\">Next</button>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <button class=\\\"shortcut-name-button\\\" (click)=\\\"onCurrentPageClicked(worklistService.pageCount)\\\" [disabled]=\\\"worklistService.pageCount == 1 || currentPage == worklistService.pageCount\\\">Last</button>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <select id=\\\"ddlPageIndex\\\" [(ngModel)]=\\\"currentPage\\\">\\r\\n                            <option *ngFor=\\\"let page of worklistService.pages;\\\">{{page+1}}</option>\\r\\n                        </select>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <button class=\\\"shortcut-name-button\\\" (click)=\\\"onCurrentPageClicked(currentPage)\\\" [disabled]=\\\"worklistService.pageCount == 1\\\">Goto</button>\\r\\n                    </li>\\r\\n                </ul>\\r\\n            </td>\\r\\n        </tr>\\r\\n    </tfoot>\\r\\n\\r\\n    </table>\\r\\n    </div>\\r\\n\\r\\n    <mat-progress-spinner [style.visibility]=\\\"worklistService.querying? 'visible' : 'hidden'\\\" class=\\\"loading-shade\\\"\\r\\n                          [color]=\\\"color\\\"\\r\\n                          [mode]=\\\"mode\\\"\\r\\n                          [value]=\\\"value\\\">\\r\\n    </mat-progress-spinner>\\r\\n\"","import { Component, OnInit, SimpleChange } from \"@angular/core\";\r\nimport { Shortcut } from \"../../../models/shortcut\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { Study, WorklistColumn } from \"../../../models/pssi\";\r\nimport { WorklistService } from \"../../../services/worklist.service\";\r\nimport {\r\n    MatDatepickerInputEvent, MatButton\r\n} from \"@angular/material\";\r\nimport { DialogService } from \"../../../services/dialog.service\";\r\nimport { SelectStudydateDialogComponent } from \"../../../components/dialog/select-studydate-dialog/select-studydate-dialog.component\";\r\n// Import DatePicker format\r\nimport { MomentDateAdapter } from \"@angular/material-moment-adapter\";\r\nimport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from \"@angular/material/core\";\r\nimport { DateRange } from \"../../../models/dailog-data/date-range\";\r\n\r\nexport const MY_FORMATS = {\r\n    parse: {\r\n        dateInput: \"LL\",\r\n    },\r\n    display: {\r\n        dateInput: \"LL\",\r\n        monthYearLabel: \"MMM YYYY\",\r\n        dateA11yLabel: \"LL\",\r\n        monthYearA11yLabel: \"MMMM YYYY\",\r\n    },\r\n};\r\n\r\nexport interface PeriodicElement {\r\n    name: string;\r\n    position: number;\r\n    weight: number;\r\n    symbol: string;\r\n}\r\n\r\n\r\n@Component({\r\n    selector: \"app-worklist\",\r\n    templateUrl: \"./worklist.component.html\",\r\n    styleUrls: [\"./worklist.component.css\"],\r\n    providers: [\r\n        // i18n\r\n        { provide: MAT_DATE_LOCALE, useValue: \"zh-CN\" },\r\n        { provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE] },\r\n        { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n    ],\r\n})\r\nexport class WorklistComponent implements OnInit {\r\n    color = \"#primary\";\r\n    mode = \"indeterminate\";\r\n    value = 50;\r\n\r\n    shortcutSelected: Subscription;\r\n\r\n    events: string[] = [];\r\n\r\n    fromMinDate = new Date(1900, 1, 1);\r\n    fromMaxDate = new Date();\r\n\r\n    toMinDate = new Date();\r\n    toMaxDate = new Date();\r\n\r\n    currentPage = 1;\r\n\r\n    isDesc = false;\r\n    orderHeader = \"\"; \r\n\r\n    initStudyDate: DateRange;\r\n    \r\n\r\n\r\n    fromDateChanged(type: string, event: MatDatepickerInputEvent<Date>) {\r\n        this.toMinDate = event.value;\r\n    }\r\n\r\n    toDateChanged(type: string, event: MatDatepickerInputEvent<Date>) {\r\n        this.fromMaxDate = event.value;\r\n    }\r\n\r\n    constructor(public worklistService: WorklistService, public dialogService: DialogService) {\r\n        this.shortcutSelected = this.worklistService.shortcutSelected$.subscribe(\r\n            shortcut => this.onShortcutSelected(shortcut));\r\n\r\n        \r\n    }\r\n\r\n    onShortcutSelected(shortcut: Shortcut) {\r\n        this.worklistService.shortcut = shortcut;\r\n    }\r\n\r\n    worklistColumnsTemp: string[] = [\r\n        \"PatientID\",\r\n        \"PatientName\",\r\n        \"Gender\",\r\n        \"BirthDate\",\r\n        \"AccessionNo\",\r\n        \"Modality\",\r\n        \"StudyDate\",\r\n        \"StudyTime\",\r\n        \"SeriesCount\",\r\n        \"ImageCount\",\r\n        \"StudyID\"\r\n    ];\r\n\r\n    ngOnChanges(changes: { [propKey: string]: SimpleChange }) {\r\n        //alert('aa');\r\n    }\r\n\r\n\r\n    ngOnInit() {\r\n        this.worklistService.onQueryStudies(1);\r\n        this.worklistService.onQueryShortcuts();\r\n        this.worklistService.onQueryWorklistCol();\r\n    }\r\n\r\n    onAllStudyChecked(event) {\r\n\r\n        this.worklistService.studies.forEach(study => study.checked = event.target.checked);\r\n    }\r\n\r\n    doShowStudy(study: Study) {\r\n        study.checked = true;\r\n        this.worklistService.onShowSingleStudy(study);\r\n    }\r\n\r\n    onStudyDateChangeSelect(optionValue) {\r\n        if (optionValue == \"7\") {\r\n            let studyDate = new DateRange;\r\n            this.dialogService.showDialog(SelectStudydateDialogComponent, studyDate).subscribe(\r\n                val => {\r\n                    this.getStudyDate(val);\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    getStudyDate(studyDate: DateRange) {\r\n        this.initStudyDate = studyDate;\r\n        this.worklistService.shortcut.studyDateFrom = studyDate.dateFrom;\r\n        this.worklistService.shortcut.studyDateTo = studyDate.dateTo;\r\n\r\n    }\r\n\r\n    onPrevPageClicked() {\r\n        this.currentPage = this.currentPage - 1;\r\n        this.worklistService.onQueryStudies(this.currentPage);\r\n    }\r\n\r\n    onNextPageClicked() {\r\n        this.currentPage = this.currentPage + 1;\r\n        this.worklistService.onQueryStudies(this.currentPage);\r\n    }\r\n\r\n    onCurrentPageClicked(i) {\r\n        this.currentPage = +i;\r\n        this.worklistService.onQueryStudies(this.currentPage);\r\n    }\r\n\r\n    onWorklistHeaderClicked(clickedHeader) {\r\n        this.orderHeader = clickedHeader;\r\n\r\n        if (!this.isDesc) {\r\n            this.isDesc = true;\r\n            this.worklistService.onQueryStudies(this.currentPage, clickedHeader + \"|Desc\");\r\n\r\n\r\n        }\r\n        else {\r\n            this.isDesc = false;\r\n\r\n            this.worklistService.onQueryStudies(this.currentPage, clickedHeader + \"|\");\r\n\r\n        }\r\n    }\r\n\r\n    onStudyDateRangeTableClicked() {\r\n        this.initStudyDate = null;\r\n    }\r\n}\r\n","﻿export class DateRange {\r\n    dateFrom: Date;\r\n    dateTo: Date;\r\n}\r\n","﻿export class WindowLevelData {\r\n    windowCenter: number;\r\n    windowWidth: number;\r\n}\r\n","﻿import { OperationData } from \"../services/view-context.service\";\r\n\r\nexport class SelectedButtonData {\r\n    name: string;\r\n    tip: string;\r\n    operationData: OperationData;\r\n}\r\n\r\nexport class ButtonStyleToken {\r\n    normal: string;\r\n    over: string;\r\n    down: string;\r\n    disable: string;\r\n}\r\n","﻿export enum GroupHangingProtocol {\r\n    ByPatent = 1,\r\n    ByStudy = 2,\r\n    BySeries = 3,\r\n    FreeHang = 10,\r\n    FreeHang_1X1 = 11,\r\n    FreeHang_1X2 = 12,\r\n    FreeHang_2X1 = 21,\r\n    FreeHang_2X2 = 22,\r\n    FreeHang_3X3 = 33\r\n}\r\n\r\nexport enum ImageHangingProtocol {\r\n    Auto = 1, // the layout will be determined by it modality.\r\n    FreeHang = 10,\r\n    FreeHang_1X1 = 11,\r\n    FreeHang_1X2 = 12,\r\n    FreeHang_2X1 = 21,\r\n    FreeHang_2X2 = 22,\r\n    FreeHang_3X3 = 33,\r\n    FreeHang_4X3 = 43,\r\n    FreeHang_6X5 = 65\r\n}\r\n\r\nexport class GroupHangingData {\r\n    groupHangingProtocol: GroupHangingProtocol;\r\n    name: string;\r\n    tip: string;\r\n}\r\n\r\nexport class ImageHangingData {\r\n    imageHangingProtocol: ImageHangingProtocol;\r\n    name: string;\r\n    tip: string;\r\n}\r\n","﻿export enum LayoutContent {\r\n    Patient,\r\n    Study,\r\n    Series,\r\n    Image\r\n}\r\n\r\nexport class LayoutPosition {\r\n    rowIndex: number;\r\n    colIndex: number;\r\n\r\n    constructor(rowIndex: number, colIndex: number) {\r\n        this.rowIndex = rowIndex;\r\n        this.colIndex = colIndex;\r\n    }\r\n\r\n    getId(): string {\r\n        return `${this.rowIndex}${this.colIndex}`;\r\n    }\r\n\r\n    static fromNumber(positionNumber: number, colCount: number): LayoutPosition {\r\n        const layoutPosition = new LayoutPosition(0, 0);\r\n        layoutPosition.rowIndex = Math.trunc(positionNumber / colCount);\r\n        layoutPosition.colIndex = positionNumber % colCount;\r\n        return layoutPosition;\r\n    }\r\n\r\n    equal(layoutPosition: LayoutPosition): boolean {\r\n        return this.rowIndex === layoutPosition.rowIndex && this.colIndex === layoutPosition.colIndex;\r\n    }\r\n}\r\n\r\nexport class LayoutMatrix {\r\n    rowCount: number;\r\n    colCount: number;\r\n\r\n    constructor(rowCount: number, colCount: number) {\r\n        this.rowCount = rowCount;\r\n        this.colCount = colCount;\r\n    }\r\n\r\n    static fromNumber(matrixNumber: number): LayoutMatrix {\r\n        const layoutMatrix = new LayoutMatrix(1, 1);\r\n        layoutMatrix.rowCount = Math.trunc(matrixNumber / 10);\r\n        layoutMatrix.colCount = matrixNumber % 10;\r\n        return layoutMatrix;\r\n    }\r\n\r\n    equal(layoutMatrix: LayoutMatrix): boolean {\r\n        return this.rowCount === layoutMatrix.rowCount && this.colCount === layoutMatrix.colCount;\r\n    }\r\n}\r\n","﻿\r\nexport enum MessageBoxType {\r\n    Info,\r\n    Question,\r\n    Warning,\r\n    Error,\r\n    Input\r\n}\r\n\r\nexport enum DialogResult {\r\n    Ok,\r\n    Cancel,\r\n    Yes,\r\n    No\r\n}\r\n\r\nexport class MessageBoxContent {\r\n    title: string;\r\n    messageText: string;\r\n    messageType: MessageBoxType;\r\n}\r\n","﻿export class FontData {\r\n    name: string;\r\n    color: string;\r\n    size: number;\r\n\r\n    constructor(name: string, color: string, size: number) {\r\n        this.name = name;\r\n        this.color = color;\r\n        this.size = size;\r\n    }\r\n\r\n    getCanvasFontString(): string {\r\n        return \"{0}px {1}\".format(this.size, this.name);\r\n    }\r\n} ","﻿export class  Overlay {\r\n    gridX: number;\r\n    gridY: number;\r\n    offsetX: number;\r\n    offsetY: number;\r\n    prefix: string;\r\n    suffix: string;\r\n    overlayId: string;\r\n    overlayUid: string;\r\n    overlayName: string;\r\n    modality: string;\r\n    localName: string;\r\n    dicomName: string;\r\n    tableName: string;\r\n    fieldName: string;\r\n    groupNumber: number;\r\n    elementNumber: number;\r\n}\r\n\r\nexport class OverlayDisplayGroup {\r\n    gridX: number;\r\n    gridY: number;\r\n    modality: string;\r\n\r\n    itemListAlignLeft: Overlay[];\r\n    itemListAlignRight: Overlay[];\r\n\r\n    constructor(overlay: Overlay) {\r\n        this.gridX = overlay.gridX;\r\n        this.gridY = overlay.gridY;\r\n        this.modality = overlay.modality;\r\n        this.itemListAlignLeft = [];\r\n        this.itemListAlignRight = [];\r\n    }\r\n\r\n    match(overlay: Overlay):boolean {\r\n        return this.gridX === overlay.gridX && this.gridY === overlay.gridY && this.modality === overlay.modality;\r\n    }\r\n\r\n    add(overlay: Overlay) {\r\n        overlay.offsetX > 0 ? this.itemListAlignLeft.push(overlay) : this.itemListAlignRight.push(overlay);\r\n    }\r\n}\r\n\r\nexport class OverlayDisplayItem {\r\n    id: string;\r\n    posX: number;\r\n    posY: number;\r\n    text: string;\r\n    align: string;\r\n}","﻿//import Shortcut = require(\"./shortcut\");\r\nimport { Shortcut } from \"../models/shortcut\";\r\n//import Shortcut1 = Shortcut.Shortcut;\r\n\r\nexport abstract class Pssi {\r\n    id: number;\r\n    hide: boolean;\r\n\r\n    abstract setHide(hide: boolean): void;\r\n}\r\n\r\nexport class Patient extends Pssi {\r\n\r\n    patientId: string;\r\n    patientName: string;\r\n    firstName: string;\r\n    middleName: string;\r\n    lastName: string;\r\n    patientBirthDate: string;\r\n    patientSex: string;\r\n    patientAge: string;\r\n    breed: string;\r\n    species: string;\r\n\r\n    studyList: Array<Study>;\r\n\r\n    setHide(hide: boolean) {\r\n        this.hide = hide;\r\n        this.studyList.forEach(study => study.setHide(hide));\r\n    }\r\n\r\n    static clone(patient: Patient, cloneChild: boolean): Patient {\r\n        const clonedPatient = new Patient();\r\n\r\n        clonedPatient.id = patient.id;\r\n        clonedPatient.patientId = patient.patientId;\r\n        clonedPatient.patientName = patient.patientName;\r\n        clonedPatient.firstName = patient.firstName;\r\n        clonedPatient.middleName = patient.middleName;\r\n        clonedPatient.lastName = patient.lastName;\r\n        clonedPatient.patientBirthDate = patient.patientBirthDate;\r\n        clonedPatient.patientSex = patient.patientSex;\r\n        clonedPatient.patientAge = patient.patientAge;\r\n        clonedPatient.breed = patient.breed;\r\n        clonedPatient.species = patient.species;\r\n\r\n        clonedPatient.studyList = new Array<Study>();\r\n        if (cloneChild) {\r\n            patient.studyList.forEach(study => {\r\n                const clonedStudy = Study.clone(study, cloneChild);\r\n                clonedStudy.patient = clonedPatient;\r\n                clonedPatient.studyList.push(clonedStudy);\r\n            });\r\n        }\r\n\r\n        return clonedPatient;\r\n    }\r\n}\r\n\r\nexport class Study extends Pssi {\r\n\r\n    checked: boolean;\r\n    detailsLoaded: boolean;\r\n\r\n    studyInstanceUid: string;\r\n    studyId: string;\r\n    studyDate: string;\r\n    studyTime: string;\r\n    accessionNo: string;\r\n    seriesCount: number;\r\n    imageCount: number;\r\n    modality: string;\r\n    studyDescription: string;\r\n    referPhysician: string;\r\n    tokenId: string;\r\n    additionalPatientHistory: string;\r\n    veterinarian: string;\r\n    requestedProcPriority: string;\r\n\r\n    instanceAvailability: string;\r\n    printed: string;\r\n    reserved: string;\r\n    readed: string;\r\n    scanStatus: number;\r\n\r\n    accessGroups: string;\r\n    send: number;\r\n\r\n    patient: Patient;\r\n    seriesList: Array<Series>;\r\n    bodyPartList: Array<string>;\r\n\r\n    setHide(hide: boolean) {\r\n        this.hide = hide;\r\n        this.seriesList.forEach(series => series.setHide(hide));\r\n    }\r\n\r\n    static clone(study: Study, cloneChild: boolean): Study {\r\n        const clonedStudy = new Study();\r\n\r\n        clonedStudy.checked = study.checked;\r\n        clonedStudy.detailsLoaded = study.detailsLoaded;\r\n\r\n        clonedStudy.id = study.id;\r\n        clonedStudy.studyId = study.studyId;\r\n        clonedStudy.studyInstanceUid = study.studyInstanceUid;\r\n        clonedStudy.studyDate = study.studyDate;\r\n        clonedStudy.studyTime = study.studyTime;\r\n        clonedStudy.accessionNo = study.accessionNo;\r\n        clonedStudy.seriesCount = study.seriesCount;\r\n        clonedStudy.imageCount = study.imageCount;\r\n        clonedStudy.modality = study.modality;\r\n        clonedStudy.studyDescription = study.studyDescription;\r\n        clonedStudy.referPhysician = study.referPhysician;\r\n        clonedStudy.tokenId = study.tokenId;\r\n        clonedStudy.additionalPatientHistory = study.additionalPatientHistory;\r\n        clonedStudy.veterinarian = study.veterinarian;\r\n        clonedStudy.requestedProcPriority = study.requestedProcPriority;\r\n\r\n        clonedStudy.seriesList = new Array<Series>();\r\n        if (cloneChild) {\r\n            study.seriesList.forEach(series => {\r\n                const clonedSeries = Series.clone(series, cloneChild);\r\n                clonedSeries.study = clonedStudy;\r\n                clonedStudy.seriesList.push(clonedSeries);\r\n            });\r\n        }\r\n\r\n        return clonedStudy;\r\n    }\r\n}\r\n\r\n\r\nexport class Series extends Pssi {\r\n\r\n    seriesInstanceUid: string;\r\n    modality: string;\r\n    seriesDateString: string;\r\n    seriesTimeString: string;\r\n    bodyPart: string;\r\n    viewPosition: string;\r\n    seriesNumber: number;\r\n    imageCount: number;\r\n    contrastBolus: string;\r\n    localBodyPart: string;\r\n    seriesDescription: string;\r\n    operatorName: string;\r\n    referHospital: string;\r\n    patientPosition: string;\r\n    localViewPosition: string;\r\n\r\n    study: Study;\r\n    imageList: Array<Image>;\r\n\r\n    setHide(hide: boolean) {\r\n        this.hide = hide;\r\n        this.imageList.forEach(image => image.setHide(hide));\r\n    }\r\n\r\n    static clone(series: Series, cloneChild: boolean): Series {\r\n        const clonedSeries = new Series();\r\n\r\n        clonedSeries.id = series.id;\r\n        clonedSeries.seriesInstanceUid = series.seriesInstanceUid;\r\n        clonedSeries.modality = series.modality;\r\n        clonedSeries.seriesDateString = series.seriesDateString;\r\n        clonedSeries.seriesTimeString = series.seriesTimeString;\r\n        clonedSeries.bodyPart = series.bodyPart;\r\n        clonedSeries.viewPosition = series.viewPosition;\r\n        clonedSeries.seriesNumber = series.seriesNumber;\r\n        clonedSeries.imageCount = series.imageCount;\r\n        clonedSeries.contrastBolus = series.contrastBolus;\r\n        clonedSeries.localBodyPart = series.localBodyPart;\r\n        clonedSeries.seriesDescription = series.seriesDescription;\r\n        clonedSeries.operatorName = series.operatorName;\r\n        clonedSeries.referHospital = series.referHospital;\r\n        clonedSeries.patientPosition = series.patientPosition;\r\n        clonedSeries.localViewPosition = series.localViewPosition;\r\n\r\n        clonedSeries.imageList = new Array<Image>();\r\n        if (cloneChild) {\r\n            series.imageList.forEach(image => {\r\n                const clonedImage = Image.clone(image, cloneChild);\r\n                clonedImage.series = clonedSeries;\r\n                clonedSeries.imageList.push(clonedImage);\r\n            });\r\n        }\r\n\r\n        return clonedSeries;\r\n    }\r\n}\r\n\r\nexport class Image extends Pssi {\r\n\r\n    series: Series;\r\n    objectFile: string;\r\n    imageColumns: number;\r\n    imageRows: number;\r\n    keyImage: string;\r\n    imageNo: string;\r\n    bitsAllocated: number;\r\n    acquisitionTime: string;\r\n    imageTime: string;\r\n    acquisitionDate: string;\r\n    imageDate: string;\r\n\r\n\r\n\r\n    cornerStoneImage: any;\r\n    annotations: Array<any>;\r\n    serializeJson: string;\r\n    transformMatrix: any;\r\n    windowCenter: number;\r\n    windowWidth: number;\r\n\r\n    static clone(image: Image, cloneChild: boolean): Image {\r\n        const clonedImage = new Image();\r\n\r\n        clonedImage.id = image.id;\r\n        clonedImage.objectFile = image.objectFile;\r\n        clonedImage.imageColumns = image.imageColumns;\r\n        clonedImage.imageRows = image.imageRows;\r\n        clonedImage.keyImage = image.keyImage;\r\n        clonedImage.imageNo = image.imageNo;\r\n        clonedImage.bitsAllocated = image.bitsAllocated;\r\n        clonedImage.acquisitionTime = image.acquisitionTime;\r\n        clonedImage.acquisitionDate = image.acquisitionDate;\r\n        clonedImage.imageTime = image.imageTime;\r\n        clonedImage.imageDate = image.imageDate;\r\n\r\n        return clonedImage;\r\n    }\r\n\r\n    setHide(hide: boolean) {\r\n        this.hide = hide;\r\n    }\r\n\r\n    width() {\r\n        return this.imageColumns;\r\n    }\r\n\r\n    height() {\r\n        return this.imageRows;\r\n    }\r\n\r\n    getRotateAngle(): number {\r\n        if (!this.transformMatrix)\r\n            return 0;\r\n\r\n        const transImg = this.transformMatrix;\r\n        const n1 = transImg[0][0];\r\n        const n3 = transImg[0][1];\r\n        const n5 = transImg[0][2];\r\n        const n2 = transImg[1][0];\r\n        const n4 = transImg[1][1];\r\n        const n6 = transImg[1][2]; //transform dy\r\n\r\n        const a = n1;\r\n        const b = n3;\r\n        const c = n2;\r\n        const d = n4;\r\n\r\n        const scale = Math.sqrt(a * a + b * b);\r\n\r\n        // arc sin, convert from radians to degrees, round\r\n        const sin = b / scale;\r\n        // next line works for 30deg but not 130deg (returns 50);\r\n        // var angle = Math.round(Math.asin(sin) * (180/Math.PI));\r\n        const angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));\r\n\r\n        return angle;\r\n    }\r\n\r\n    getScaleValue(): number {\r\n        if (!this.transformMatrix)\r\n            return 1;\r\n\r\n        const transImg = this.transformMatrix;\r\n        const n1 = transImg[0][0];\r\n        const n3 = transImg[0][1];\r\n        const n5 = transImg[0][2];\r\n        const n2 = transImg[1][0];\r\n        const n4 = transImg[1][1];\r\n        const n6 = transImg[1][2]; //transform dy\r\n\r\n        const a = n1;\r\n        const b = n3;\r\n        const c = n2;\r\n        const d = n4;\r\n\r\n        const scale = Math.sqrt(a * a + b * b);\r\n        return scale;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class MultiframeImage extends Image {\r\n\r\n}\r\n\r\nexport class WorklistColumn {\r\n    columnId: string;\r\n    columnText: string;\r\n    sortDirection: string;\r\n    controlType: string;\r\n    valueList: Array<string>;\r\n    columnSequece: number;\r\n    visible: boolean;\r\n    shortcutType: Shortcut;\r\n    studyCol: Study;\r\n}\r\n\r\nexport class RecWorklistData {\r\n    public studies: Study[];\r\n    public pageCount: number;\r\n    public worklistColumns: WorklistColumn[];\r\n}","﻿export enum DataSource {\r\n    LocalTestData = 1,\r\n    MiniPacs = 2,\r\n    OtherPacs = 3\r\n}\r\n\r\nexport class Shortcut {\r\n    id: number;\r\n    name: string;\r\n    dataSource: DataSource;\r\n\r\n    patientId: string;\r\n    patientName: string;\r\n    gender: string;\r\n    modality: string;\r\n    studyDate: string;\r\n    studyDateFrom: Date;\r\n    studyDateTo: Date;\r\n    patientBirthDateFrom: Date;\r\n    patientBirthDateTo: Date;\r\n    studyId: string;\r\n    accessionNo: string;\r\n\r\n    constructor() {\r\n        this.id = -1;\r\n        this.name = \"\";\r\n        this.dataSource = DataSource.LocalTestData;\r\n\r\n        this.clearCondition();\r\n    }\r\n\r\n    static createDefaultShortcut(name: string): Shortcut {\r\n        const shortcut = new Shortcut();\r\n        shortcut.id = 0;\r\n        shortcut.name = name;\r\n        shortcut.dataSource = DataSource.MiniPacs;\r\n        shortcut.studyDate = name;\r\n\r\n        return shortcut;\r\n    }\r\n\r\n    clearCondition() {\r\n        this.patientId = \"\";\r\n        this.patientName = \"\";\r\n        this.gender = \"\";\r\n        this.modality = \"\";\r\n        this.studyDate = \"\";\r\n        this.patientBirthDateFrom = null;\r\n        this.patientBirthDateTo = null;\r\n        this.studyDateFrom = null;\r\n        this.studyDateTo = null;\r\n        this.studyId = \"\";\r\n        this.accessionNo = \"\";\r\n    }\r\n\r\n    copyConditionFrom(shortcut: Shortcut) {\r\n        this.patientId = shortcut.patientId;\r\n        this.patientName = shortcut.patientName;\r\n        this.gender = shortcut.gender;\r\n        this.modality = shortcut.modality;\r\n        this.studyDate = shortcut.studyDate;\r\n        this.patientBirthDateFrom = shortcut.patientBirthDateFrom;\r\n        this.patientBirthDateTo = shortcut.patientBirthDateTo;\r\n        this.studyDateFrom = shortcut.studyDateFrom;\r\n        this.studyDateTo = shortcut.studyDateTo;\r\n        this.studyId = shortcut.studyId;\r\n        this.accessionNo = shortcut.accessionNo;\r\n    }\r\n\r\n    clone(theObj) {\r\n        const obj = {};\r\n        for (let key in theObj) {\r\n            obj[key] = theObj[key];\r\n        }\r\n        return obj;\r\n    }\r\n}\r\n","﻿import { ImageHangingProtocol } from \"../models/hanging-protocol\";\r\nimport { ViewerShellData } from \"../models/viewer-shell-data\";\r\nimport { LayoutPosition, LayoutMatrix } from \"../models/layout\";\r\nimport { ViewerImageData } from \"../models/viewer-image-data\";\r\nimport { Image } from \"../models/pssi\";\r\nimport { LogService } from \"../services/log.service\";\r\n\r\nexport class ViewerGroupData {\r\n    static logService: LogService;\r\n    viewerShellData: ViewerShellData;\r\n    imageHangingProtocol: ImageHangingProtocol;\r\n    position: LayoutPosition;\r\n\r\n    imageCount = 0;\r\n    imageMatrix: LayoutMatrix;\r\n    imageDataList = new Array<ViewerImageData>();\r\n\r\n    constructor(viewerShellData: ViewerShellData,\r\n        imageHangingProtocol: ImageHangingProtocol,\r\n        position: LayoutPosition) {\r\n        this.viewerShellData = viewerShellData;\r\n        this.imageHangingProtocol = imageHangingProtocol;\r\n        this.position = position;\r\n\r\n        ViewerGroupData.logService.debug(\"ViewerGroupData \" + this.getId() + \" created!\");\r\n    }\r\n\r\n    getId(): string {\r\n        return this.viewerShellData.getId() + \"_\" + this.position.getId();\r\n    }\r\n\r\n    getIndex(): number {\r\n        return this.position.rowIndex * this.viewerShellData.groupMatrix.colCount + this.position.colIndex;\r\n    }\r\n\r\n    setPosition(position: LayoutPosition) {\r\n        this.position = position;\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Image Operation\r\n    cleanImage() {\r\n        this.imageDataList.length = 0;\r\n        this.imageCount = 0;\r\n    }\r\n\r\n    getImage(rowIndex: number, colIndex: number): ViewerImageData {\r\n        if (this.imageDataList.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        const imageIndex = rowIndex * this.imageMatrix.colCount + colIndex;\r\n        if (imageIndex >= this.imageDataList.length) {\r\n            alert(`getImage() => Invalid image index : ${imageIndex}`);\r\n            return null;\r\n        }\r\n\r\n        return this.imageDataList[imageIndex];\r\n    }\r\n\r\n    addImage(imageIndex: number, image: Image) {\r\n        const imageData = new ViewerImageData(this, LayoutPosition.fromNumber(imageIndex, this.imageMatrix.colCount));\r\n        imageData.setImage(image);\r\n        this.imageDataList.push(imageData);\r\n    }\r\n\r\n    updateImagePositionFromIndex(imageIndex: number) {\r\n        if (imageIndex < 0 || imageIndex >= this.imageDataList.length) {\r\n            alert(`updateImagePositionFromIndex() => Invalid image index : ${imageIndex}`);\r\n            return;\r\n        }\r\n\r\n        this.imageDataList[imageIndex].setPosition(LayoutPosition.fromNumber(imageIndex, this.imageMatrix.colCount));\r\n    }\r\n\r\n    setEmpty() {\r\n        this.imageCount = 1;\r\n        this.imageMatrix = new LayoutMatrix(1, 1);\r\n        this.imageDataList = new Array<ViewerImageData>();\r\n        this.addImage(0, null);\r\n    }\r\n}\r\n","﻿import { Image } from \"../models/pssi\";\r\nimport { LayoutPosition } from \"../models/layout\";\r\nimport { ViewerGroupData } from \"../models/viewer-group-data\";\r\nimport { LogService } from \"../services/log.service\";\r\n\r\nexport class ViewerImageData {\r\n    static logService: LogService;\r\n    groupData: ViewerGroupData;\r\n    position: LayoutPosition;\r\n\r\n    image: Image;\r\n\r\n    constructor(viewerGroupData: ViewerGroupData, position: LayoutPosition) {\r\n        this.groupData = viewerGroupData;\r\n        this.position = position;\r\n\r\n        ViewerImageData.logService.debug(\"ViewerImageData \" + this.getId() + \" created!\");\r\n    }\r\n\r\n    getId(): string {\r\n        return this.groupData.getId() + this.position.getId();\r\n    }\r\n\r\n    setPosition(position: LayoutPosition) {\r\n        this.position = position;\r\n    }\r\n\r\n    setImage(image: Image) {\r\n        this.image = image;\r\n    }\r\n}\r\n","﻿import { Patient, Study, Series, Image } from \"../models/pssi\";\r\nimport { ViewerGroupData } from \"../models/viewer-group-data\";\r\nimport { GroupHangingProtocol, ImageHangingProtocol } from \"../models/hanging-protocol\";\r\nimport { LayoutPosition, LayoutMatrix } from \"../models/layout\";\r\nimport { LogService } from \"../services/log.service\";\r\n\r\nexport class ViewerShellData {\r\n    static logService: LogService;\r\n    hide: boolean;\r\n    patientList = new Array<Patient>();\r\n\r\n    groupCount = 0; // The count of groups that contain image\r\n    groupMatrix = new LayoutMatrix(1, 1);\r\n    groupDataList = new Array<ViewerGroupData>(); // Must contains all group even if its an empty group\r\n\r\n    groupHangingProtocol: GroupHangingProtocol;\r\n    defaultGroupHangingProtocol: GroupHangingProtocol;\r\n    defaultImageHangingProtocol: ImageHangingProtocol;\r\n\r\n    constructor(defaultGroupHangingProtocol: GroupHangingProtocol, defaultImageHangingProtocol: ImageHangingProtocol) {\r\n        this.defaultGroupHangingProtocol = defaultGroupHangingProtocol;\r\n        this.defaultImageHangingProtocol = defaultImageHangingProtocol;\r\n        this.hide = false;\r\n\r\n        ViewerShellData.logService.debug(\"ViewerShellData \" + this.getId() + \" created!\");\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Public functions\r\n    addStudy(studyInWorklist: Study) {\r\n\r\n\r\n        const study = Study.clone(studyInWorklist, true);\r\n        study.hide = false;\r\n        // Set parent for all series and all images, since they are NOT set in JSON string returned from server\r\n        for (let i = 0; i < study.seriesList.length; i++) {\r\n            const series = study.seriesList[i];\r\n            series.study = study;\r\n            series.hide = false;\r\n            for (let j = 0; j < series.imageList.length; j++) {\r\n                series.imageList[j].hide = false;\r\n                series.imageList[j].series = series;\r\n            }\r\n        }\r\n\r\n\r\n        let index = -1;\r\n        for (let i = 0; i < this.patientList.length; i++) {\r\n            if (this.patientList[i].id === studyInWorklist.patient.id) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        let patient = null;\r\n        if (index === -1) {\r\n            // Clone a patient and added to the list\r\n            patient = Patient.clone(studyInWorklist.patient, false);\r\n            this.patientList.push(patient);\r\n        } else {\r\n            patient = this.patientList[index];\r\n        }\r\n\r\n        study.patient = patient;\r\n        patient.hide = false;\r\n        patient.studyList.push(study);\r\n    }\r\n\r\n    getId(): string {\r\n        let id = \"\";\r\n        this.patientList.forEach(patient => id += this.getIdFromPatient(patient));\r\n        return id;\r\n    }\r\n\r\n    getName(): string {\r\n        let name = \"\";\r\n        this.patientList.forEach(patient => name += patient.patientId + \"_\" + patient.patientName + \" | \");\r\n        return name.substr(0, name.length - 3);\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Get count\r\n    getTotalPatientCount(): number {\r\n        return this.patientList.length;\r\n    }\r\n\r\n    getTotalStudyCount(): number {\r\n        let count = 0;\r\n        this.patientList.forEach(patient => count += patient.studyList.length);\r\n        return count;\r\n    }\r\n\r\n    getTotalSeriesCount(): number {\r\n        let count = 0;\r\n        this.patientList.forEach(patient => {\r\n            patient.studyList.forEach(study => count += study.seriesList.length);\r\n        });\r\n        return count;\r\n    }\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Group Operation\r\n    cleanGroup() {\r\n        this.groupDataList.length = 0;\r\n        this.groupCount = 0;\r\n    }\r\n\r\n    getGroup(rowIndex: number, colIndex: number): ViewerGroupData {\r\n        const groupIndex = rowIndex * this.groupMatrix.colCount + colIndex;\r\n        if (groupIndex >= this.groupDataList.length) {\r\n            alert(`Invalid group index : ${groupIndex}`);\r\n            return null;\r\n        }\r\n\r\n        ViewerShellData.logService.debug(\"ViewData: Get group for \" + this.getId() + rowIndex + colIndex);\r\n        return this.groupDataList[groupIndex];\r\n    }\r\n\r\n    addGroup(groupIndex: number) {\r\n        const groupData = new ViewerGroupData(this,\r\n            this.defaultImageHangingProtocol,\r\n            LayoutPosition.fromNumber(groupIndex, this.groupMatrix.colCount));\r\n        this.groupDataList.push(groupData);\r\n    }\r\n\r\n    addEmptyGroup(groupIndex: number) {\r\n        const groupData = new ViewerGroupData(this,\r\n            this.defaultImageHangingProtocol,\r\n            LayoutPosition.fromNumber(groupIndex, this.groupMatrix.colCount));\r\n        groupData.setEmpty();\r\n        this.groupDataList.push(groupData);\r\n    }\r\n\r\n    updateGroupPositionFromIndex(groupIndex: number) {\r\n        if (groupIndex < 0 || groupIndex >= this.groupDataList.length) {\r\n            alert(`updateGroupPositionFromIndex() => Invalid group index : ${groupIndex}`);\r\n            return;\r\n        }\r\n\r\n        this.groupDataList[groupIndex].setPosition(LayoutPosition.fromNumber(groupIndex, this.groupMatrix.colCount));\r\n    }\r\n\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Get image\r\n    getAllImageOfPatient(patient: Patient): Array<Image> {\r\n        let images = new Array<Image>();\r\n        patient.studyList.forEach(study => {\r\n            study.seriesList.forEach(series => images = images.concat(series.imageList));\r\n        });\r\n\r\n        return images;\r\n    }\r\n\r\n    getAllImageOfStudy(study: Study): Array<Image> {\r\n        let images = new Array<Image>();\r\n        study.seriesList.forEach(series => images = images.concat(series.imageList));\r\n        return images;\r\n    }\r\n\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Get object by index\r\n    getPatientByIndex(patientIndex: number): Patient {\r\n        if (patientIndex >= this.patientList.length) {\r\n            return null;\r\n        }\r\n\r\n        return this.patientList[patientIndex];\r\n    }\r\n\r\n    getStudyByIndex(studyIndex: number): Study {\r\n        const studyList = this.getAllStudyList();\r\n        if (studyIndex >= studyList.length) {\r\n            //alert('Error get study by index : ' + studyIndex + ', total study count is ' + studyList.length);\r\n            return null;\r\n        }\r\n\r\n        return studyList[studyIndex];\r\n    }\r\n\r\n    getSeriesByIndex(seriesIndex: number): Series {\r\n        const seriesList = this.getAllSeriesList();\r\n        if (seriesIndex >= seriesList.length) {\r\n            //alert('Error get series by index : ' + seriesIndex + ', total series count is ' + seriesList.length);\r\n            return null;\r\n        }\r\n\r\n        return seriesList[seriesIndex];\r\n    }\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Private functions\r\n    private getIdFromPatient(patient: Patient): string {\r\n        let id = \"\";\r\n        patient.studyList.forEach(value => id += `_${value.id}`);\r\n        return id;\r\n    }\r\n\r\n    private getAllStudyList(): Array<Study> {\r\n        let studies = new Array<Study>();\r\n        this.patientList.forEach(patient => studies = studies.concat(patient.studyList));\r\n        return studies;\r\n    }\r\n\r\n    private getAllSeriesList(): Array<Series> {\r\n        const studyList = this.getAllStudyList();\r\n\r\n        let series = new Array<Series>();\r\n        studyList.forEach(study => series = series.concat(study.seriesList));\r\n        return series;\r\n    }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { LocationStrategy } from \"@angular/common\";\r\nimport { DatabaseService } from \"./database.service\";\r\nimport { Overlay, OverlayDisplayGroup } from '../models/overlay';\r\nimport { LogService } from \"../services/log.service\";\r\nimport { FontData } from '../models/misc-data';\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class ConfigurationService {\r\n\r\n    private baseUrl: string;\r\n    private overLayList: Overlay[] = [];\r\n    private textOverlayFont: FontData;\r\n    \r\n    constructor(private databaseService: DatabaseService, private locationStrategy: LocationStrategy,\r\n        private logService: LogService) {\r\n\r\n        this.baseUrl = window.location.origin + this.locationStrategy.getBaseHref();\r\n        this.logService.info(`Config: Base url is ${this.baseUrl}`);\r\n\r\n        this.databaseService.getOverlays().subscribe(overlayList => {\r\n            this.overLayList = overlayList;\r\n        });\r\n\r\n        this.databaseService.getOverFont().subscribe(fontData => {\r\n            this.textOverlayFont = fontData;\r\n        });\r\n    }\r\n\r\n    getBaseUrl(): string {\r\n        return this.baseUrl;\r\n    }\r\n\r\n    getOverlayConfigList(): Overlay[] {\r\n        return this.overLayList;\r\n    }\r\n\r\n    getOverlayFont(): FontData {\r\n        this.textOverlayFont = new FontData(\"Times New Roman\", \"#FFF\", 15);\r\n        return this.textOverlayFont;\r\n    }\r\n    \r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Observable, of } from \"rxjs\";\r\nimport { catchError, tap } from \"rxjs/operators\";\r\n\r\nimport { Shortcut } from '../models/shortcut';\r\nimport { Patient, Study, Series, Image, RecWorklistData } from '../models/pssi';\r\nimport { Overlay } from '../models/overlay';\r\nimport { FontData } from '../models/misc-data';\r\n\r\nconst httpOptions = {\r\n    headers: new HttpHeaders({ 'Content-Type': \"application/json\" })\r\n};\r\n\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\n\r\n\r\n\r\nexport class DatabaseService {\r\n\r\n    private shortcutUrl = \"shortcut\"; // URL to web api\r\n    private pssiUrl = \"pssi\";\r\n    private overlayUrl = \"overlay\";\r\n    private id_patient = 1;\r\n    private id_study = 1;\r\n    private id_series = 1;\r\n    private id_image = 1;\r\n\r\n    private localTestData: Study[];\r\n\r\n    constructor(private http: HttpClient) {\r\n        this.localTestData = this.createStudiesTest();\r\n    }\r\n\r\n\r\n    getShortcut(id: number): Observable<Shortcut> {\r\n        const url = `${this.shortcutUrl}/details/${id}`;\r\n        return this.http.get<Shortcut>(url);\r\n    }\r\n\r\n    getOverFont(): Observable<FontData> {\r\n        const url = `${this.overlayUrl}/font/`;\r\n        return this.http.get<FontData>(url);\r\n    }\r\n\r\n    getOverlays(): Observable<Overlay[]> {\r\n        const url = `${this.overlayUrl}/`;\r\n        return this.http.get<Overlay[]>(url)\r\n            .pipe(\r\n                tap(Overlay => this.log(\"fetched Overlay\")),\r\n                catchError(this.handleError(\"getOverlays\", []))\r\n            );\r\n    }\r\n\r\n    /** GET shortcut from the server */\r\n    getShortcuts(): Observable<Shortcut[]> {\r\n        const url = `${this.shortcutUrl}/search/`;\r\n        return this.http.get<Shortcut[]>(url)\r\n            .pipe(\r\n                tap(shortcuts => this.log(\"fetched shortcuts\")),\r\n                catchError(this.handleError(\"getShortcuts\", []))\r\n            );\r\n    }\r\n\r\n    getWorklistCol(): Observable<Shortcut[]> {\r\n        const url = `${this.shortcutUrl}/search/`;\r\n        return this.http.get<Shortcut[]>(url)\r\n            .pipe(\r\n                tap(shortcuts => this.log(\"fetched shortcuts\")),\r\n                catchError(this.handleError(\"getShortcuts\", []))\r\n            );\r\n    }\r\n\r\n    /** Save shortcut to the server */\r\n    saveShortcut(shortcut: Shortcut): Observable<Shortcut[]> {\r\n        const url = `${this.shortcutUrl}/create/`;\r\n        return this.http.post<Shortcut[]>(url, shortcut, httpOptions)\r\n            .pipe(\r\n                tap(shortcut => this.log(\"save shortcut\")),\r\n                catchError(this.handleError(\"saveShortcut\", []))\r\n            );\r\n    }\r\n\r\n    /** Delete shortcut to the server */\r\n    deleteShortcut(shortcut: Shortcut): Observable<Shortcut[]> {\r\n        const url = `${this.shortcutUrl}/delete`;\r\n        return this.http.post<Shortcut[]>(url, shortcut, httpOptions)\r\n            .pipe(\r\n                tap(shortcut => this.log(\"delete shortcut\")),\r\n                catchError(this.handleError(\"deleteShortcut\", []))\r\n            );\r\n    }\r\n\r\n    /** GET studies from the server */\r\n    getStudies(shortcut: Shortcut, pageIndex: number, sortItem: String): Observable<RecWorklistData> {\r\n        const url = `${this.pssiUrl}/search/`;\r\n        let data = { shortcut: shortcut, pageIndex: pageIndex, sortItem: sortItem };\r\n        return this.http.post<RecWorklistData>(url, data, httpOptions)\r\n            .pipe(\r\n            tap(recWorklistData => this.log('fetched recWorklistData')),\r\n            catchError(this.handleError<RecWorklistData>('getRecWorklistData'))\r\n            );\r\n    }\r\n\r\n  /** GET study from the server */\r\n  getStudy (id: number): Observable<Study> {\r\n    const url = `${this.pssiUrl}/details/${id}`;\r\n    return this.http.get<Study>(url)\r\n      .pipe(\r\n        tap(_ => this.log(`fetched Study id=${id}`)),\r\n        catchError(this.handleError<Study>(`getStudy id=${id}`))\r\n      );\r\n  }\r\n\r\n    getStudiesTest(): Study[] {\r\n        const aa = this.localTestData.sort(this.compareStudy);\r\n        return aa;\r\n    }\r\n\r\n    compareStudy(study1: Study, study2: Study): number {\r\n        return study1.patient.patientName > study2.patient.patientName ? 1 : -1;\r\n    }\r\n\r\n    private createStudiesTest(): Study[] {\r\n        const studies = new Array<Study>();\r\n        const patient1 = this.createPatient(\"PID001\", \"Tom\", \"M\");\r\n        const patient2 = this.createPatient(\"PID002\", \"Jerry\", \"M\");\r\n        const patient3 = this.createPatient(\"PID003\", \"Mark\", \"M\");\r\n\r\n        let study = this.createStudy(patient1, 1);\r\n        studies.push(study);\r\n\r\n        study = this.createStudy(patient2, 2);\r\n        studies.push(study);\r\n\r\n        study = this.createStudy(patient2, 3);\r\n        studies.push(study);\r\n\r\n        study = this.createStudy(patient3, 1);\r\n        studies.push(study);\r\n\r\n        study = this.createStudy(patient3, 2);\r\n        studies.push(study);\r\n\r\n        study = this.createStudy(patient3, 5);\r\n        studies.push(study);\r\n\r\n        return studies;\r\n    }\r\n\r\n    private createPatient(patientId: string, patientName: string, gender: string): Patient {\r\n\r\n        const patient = new Patient();\r\n\r\n        patient.id = this.id_patient++;\r\n        patient.patientId = patientId;\r\n        patient.patientName = patientName;\r\n        patient.patientSex = gender;\r\n        patient.studyList = new Array<Study>();\r\n\r\n        return patient;\r\n    }\r\n\r\n    private createStudy(patient: Patient, seriesCount: number): Study {\r\n\r\n        const study = new Study();\r\n\r\n        study.id = this.id_study++;\r\n        study.studyInstanceUid = study.id + \".\" + study.id;\r\n        study.seriesCount = seriesCount;\r\n        study.imageCount = seriesCount * seriesCount;\r\n        study.studyId = `${study.id}`;\r\n        study.accessionNo = study.studyId;\r\n        study.studyDate = \"2018-11-11\";\r\n        study.studyTime = \"12:11:12\";\r\n        study.modality = \"DX\";\r\n        study.checked = false;\r\n        study.studyDescription = \"Study Desc\";\r\n\r\n        study.seriesList = new Array<Series>();\r\n        for (let i = 0; i < seriesCount; i++) {\r\n            study.seriesList.push(this.createSeries(study, seriesCount));\r\n        }\r\n\r\n        study.patient = patient;\r\n        patient.studyList.push(study);\r\n        return study;\r\n    }\r\n\r\n    private createSeries(study: Study, imageCount: number): Series {\r\n        const series = new Series();\r\n\r\n        series.id = this.id_series++;\r\n        series.study = study;\r\n        series.modality = \"CR\";\r\n        series.imageCount = imageCount;\r\n\r\n        series.imageList = new Array<Image>();\r\n        for (let i = 0; i < imageCount; i++) {\r\n            series.imageList.push(this.createImage(series));\r\n        }\r\n\r\n        return series;\r\n    }\r\n\r\n    private createImage(series: Series): Image {\r\n        const image = new Image();\r\n\r\n        image.id = this.id_image++;\r\n        image.series = series;\r\n        image.imageColumns = 1;\r\n        image.imageRows = 1;\r\n\r\n        return image;\r\n    }\r\n\r\n    /**\r\n    * Handle Http operation that failed.\r\n    * Let the app continue.\r\n    * @param operation - name of the operation that failed\r\n    * @param result - optional value to return as the observable result\r\n    */\r\n    private handleError<T>(operation = \"operation\", result?: T) {\r\n        return (error: any): Observable<T> => {\r\n\r\n            // TODO: send the error to remote logging infrastructure\r\n            console.error(error); // log to console instead\r\n\r\n            // TODO: better job of transforming error for user consumption\r\n            this.log(`${operation} failed: ${error.message}`);\r\n\r\n            // Let the app keep running by returning an empty result.\r\n            return of(result as T);\r\n        };\r\n    }\r\n\r\n    /** Log a HeroService message with the MessageService */\r\n    private log(message: string) {\r\n        //alert(`HeroService: ${message}`);\r\n    }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { MatDialog, MatDialogConfig } from \"@angular/material\";\r\nimport { MessageBoxComponent } from \"../components/common/message-box/message-box.component\";\r\nimport { Observable } from \"rxjs\";\r\nimport { MessageBoxType, MessageBoxContent } from \"../models/messageBox\";\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class DialogService {\r\n\r\n    constructor(private dialog: MatDialog) {}\r\n\r\n    showMessageBox(messageBoxContent: MessageBoxContent): Observable<any> {\r\n        const dialogConfig = new MatDialogConfig();\r\n\r\n        dialogConfig.disableClose = true;\r\n        dialogConfig.autoFocus = messageBoxContent.messageType === MessageBoxType.Input;\r\n        dialogConfig.data = messageBoxContent;\r\n\r\n        const dialogRef = this.dialog.open(MessageBoxComponent, dialogConfig);\r\n        return dialogRef.afterClosed();\r\n    }\r\n\r\n    showDialog(dialogComponent: any, dialogData: any): Observable<any> {\r\n        const dialogRef = this.dialog.open(dialogComponent,\r\n            {\r\n                autoFocus: true,\r\n                data: dialogData\r\n            });\r\n\r\n        return dialogRef.afterClosed();\r\n    }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable } from \"rxjs\";\r\n\r\nimport { Image } from \"../models/pssi\";\r\nimport { ConfigurationService } from \"../services/configuration.service\";\r\nimport { Overlay, OverlayDisplayGroup, OverlayDisplayItem } from '../models/overlay';\r\nimport { LogService } from \"../services/log.service\";\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class DicomImageService {\r\n\r\n    private logPrefix = \"DicomImageService: \";\r\n    private dicomImageUrl = \"dicomImage\";\r\n    private baseUrl;\r\n    private overlayDisplayGroupList: OverlayDisplayGroup[] = [];\r\n\r\n    constructor(private http: HttpClient, private configurationService: ConfigurationService,\r\n        private logService: LogService) {\r\n\r\n        this.baseUrl = this.configurationService.getBaseUrl();\r\n\r\n        \r\n    }\r\n\r\n    getDicomFile(image: Image): Observable<Blob> {\r\n        const imageUrl = `${this.dicomImageUrl}/dicom/${image.id}`;\r\n        return this.http.get(imageUrl, { responseType: \"blob\" });\r\n    }\r\n\r\n    getThumbnailFile(image: Image): Observable<Blob> {\r\n        const imageUrl = `${this.dicomImageUrl}/thumbnail/${image.id}`;\r\n        return this.http.get(imageUrl, { responseType: \"blob\" });\r\n    }\r\n\r\n\r\n    getCornerStoneImage(image: Image) {\r\n        const imageUri =\r\n            \"wadouri:{0}/wado?requestType=WADO&studyUID={studyUID}&seriesUID={serieUID}&objectUID={1}&frameIndex={2}&contentType=application%2Fdicom\"\r\n                .format(this.baseUrl, image.id, 0);\r\n\r\n        cornerstone.loadImage(imageUri).then(ctImage => {\r\n            image.cornerStoneImage = ctImage;\r\n        });\r\n    }\r\n\r\n    getOverlayDisplayList(image: Image, canvasWidth: number, canvasHeight: number, canvasContext: any): OverlayDisplayItem[] {\r\n        if (this.overlayDisplayGroupList.length === 0) {\r\n            const overlayList = this.configurationService.getOverlayConfigList();\r\n            this.formatOverlayList(overlayList);\r\n        }\r\n\r\n        var overlayDisplayList: OverlayDisplayItem[] = [];\r\n\r\n        const groupList = this.getOverlayDisplayGroup(image.series.modality);\r\n        groupList.forEach(group => {\r\n\r\n            this.addOverlayDisplayList(overlayDisplayList, group.itemListAlignLeft, true, image, canvasWidth, canvasHeight, canvasContext);\r\n            this.addOverlayDisplayList(overlayDisplayList, group.itemListAlignRight, false, image, canvasWidth, canvasHeight, canvasContext);\r\n        });\r\n\r\n        return overlayDisplayList;\r\n    }\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Text overlay funtctions\r\n    private formatOverlayList(overlayList: Overlay[]) {\r\n\r\n        overlayList.forEach(overlay => {\r\n            this.addOverlayToGroup(overlay);\r\n        });\r\n\r\n        this.overlayDisplayGroupList.forEach(group => {\r\n\r\n            group.itemListAlignLeft = group.itemListAlignLeft.sort((n1, n2) => {\r\n                return (n1.offsetX < n2.offsetX) ? -1 : 1;\r\n            });\r\n\r\n            group.itemListAlignRight = group.itemListAlignRight.sort((n1, n2) => {\r\n                return (n1.offsetX < n2.offsetX) ? 1 : -1;\r\n            });\r\n        });\r\n    }\r\n\r\n    private addOverlayToGroup(overlay: Overlay) {\r\n        const filtered = this.overlayDisplayGroupList.filter(value => value.match(overlay));\r\n\r\n        let overlayGroup = null;\r\n        if (filtered.length === 0) {\r\n            overlayGroup = new OverlayDisplayGroup(overlay);\r\n            this.overlayDisplayGroupList.push(overlayGroup);\r\n        } else {\r\n            overlayGroup = filtered[0];\r\n        }\r\n\r\n        overlayGroup.add(overlay);\r\n    }\r\n\r\n    private getOverlayDisplayGroup(modality: string): OverlayDisplayGroup[] {\r\n        return this.overlayDisplayGroupList.filter(group => group.modality === modality);\r\n    }\r\n\r\n    private getTextOverlayValue(image: Image, overlay: Overlay): string {\r\n\r\n        let tagValue: string;\r\n        if (overlay.overlayId === \"9003\") {\r\n            tagValue = \"W: {0}, L: {1}\";\r\n        } else if (overlay.overlayId === \"9004\") {\r\n            tagValue = \"{0}\";\r\n        }else if (overlay.tableName && overlay.fieldName) {\r\n\r\n            var obj: any;\r\n            switch (overlay.tableName) {\r\n            case 'image':\r\n                obj = image;\r\n                break;\r\n            case 'series':\r\n                obj = image.series;\r\n                break;\r\n            case 'study':\r\n                obj = image.series.study;\r\n                break;\r\n            case 'patient':\r\n                obj = image.series.study.patient;\r\n                break;\r\n            default:\r\n                this.logService.error(this.logPrefix + \"Invalid table name \" + overlay.tableName);\r\n                return \"Error!\";\r\n            }\r\n\r\n            tagValue = obj[overlay.fieldName];\r\n        } else {\r\n            const tagString = this.getTagString(overlay.groupNumber, overlay.elementNumber);\r\n            tagValue = image.cornerStoneImage.data.string(tagString);\r\n        }\r\n\r\n        return tagValue === undefined ? \"\" : tagValue;\r\n    }\r\n\r\n    private decimalToHexString(decimal: number, padding: number): string {\r\n        var hex = Number(decimal).toString(16);\r\n        padding = typeof (padding) === \"undefined\" || padding === null ? 2 : padding;\r\n\r\n        while (hex.length < padding) {\r\n            hex = \"0\" + hex;\r\n        }\r\n\r\n        return hex;\r\n    }\r\n\r\n    private getTagString(group: number, element: number): string {\r\n        return 'x' + this.decimalToHexString(group, 4) + this.decimalToHexString(element, 4);\r\n    }\r\n\r\n    private addOverlayDisplayList(overlayDisplayList: OverlayDisplayItem[], overlayList: Overlay[],\r\n        alignLeft: boolean, image: Image, canvasWidth: number, canvasHeight: number, canvasContext: any) {\r\n\r\n        const lineWidth = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n\r\n        overlayList.forEach(overlayConfig => {\r\n            const displayItem = new OverlayDisplayItem();\r\n            displayItem.align = alignLeft ? \"left\" : \"right\";\r\n\r\n            let posX = overlayConfig.gridX / 2 * canvasWidth;\r\n            if (overlayConfig.gridX === 0) {\r\n                posX += 5;\r\n            } else if (overlayConfig.gridX === 2) {\r\n                posX -= 5;\r\n            } else if (overlayConfig.gridX === 1) {\r\n                alignLeft? posX += 5 : posX -= 5;\r\n            }\r\n\r\n            let posY = overlayConfig.gridY / 2 * canvasHeight;\r\n            if (overlayConfig.gridY === 0) {\r\n                posY += 18;\r\n            } else if (overlayConfig.gridY === 2) {\r\n                posY += 15; // ? why\r\n            }\r\n\r\n            const fontHeight = 20;\r\n            if (overlayConfig.offsetY > 0) {\r\n                posY += fontHeight * (overlayConfig.offsetY - 1);\r\n            } else {\r\n                posY += fontHeight * overlayConfig.offsetY;\r\n            }\r\n\r\n            displayItem.id = overlayConfig.overlayId;\r\n            displayItem.text = overlayConfig.prefix + this.getTextOverlayValue(image, overlayConfig) + overlayConfig.suffix;\r\n\r\n            const offSetY = overlayConfig.offsetY + 6;\r\n            \r\n            displayItem.posX = posX;\r\n            displayItem.posX += alignLeft ? lineWidth[offSetY] : -lineWidth[offSetY];\r\n            displayItem.posY = posY;\r\n\r\n            lineWidth[offSetY] += canvasContext.measureText(displayItem.text).width + 10;\r\n\r\n            overlayDisplayList.push(displayItem);\r\n        });\r\n\r\n    }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { ViewerShellData } from \"../models/viewer-shell-data\";\r\nimport { LayoutMatrix } from \"../models/layout\";\r\nimport { GroupHangingProtocol, ImageHangingProtocol, GroupHangingData, ImageHangingData } from\r\n    \"../models/hanging-protocol\";\r\nimport { Image } from \"../models/pssi\";\r\nimport { ViewerGroupData } from \"../models/viewer-group-data\";\r\nimport { ViewerImageData } from \"../models/viewer-image-data\";\r\nimport { LogService } from \"./log.service\";\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class HangingProtocolService {\r\n    defaultGroupHangingProtocol = GroupHangingProtocol.ByStudy;\r\n    defaultImageHangingPrococal = ImageHangingProtocol.Auto;\r\n\r\n    groupLayoutNumberList = [11, 11, 12, 22, 22];\r\n    imageLayoutNumberList = [11, 11, 12, 22, 22, 23, 23, 33];\r\n\r\n    groupHangingDataList: GroupHangingData[] = [\r\n        { groupHangingProtocol: GroupHangingProtocol.ByPatent, name: \"Patient\", tip: \"Group Image by Paitient\" },\r\n        { groupHangingProtocol: GroupHangingProtocol.ByStudy, name: \"Study\", tip: \"Group Image by Study\" },\r\n        { groupHangingProtocol: GroupHangingProtocol.BySeries, name: \"Series\", tip: \"Group Image by Series\" },\r\n        { groupHangingProtocol: GroupHangingProtocol.FreeHang, name: \"FreeHang\", tip: \"Free Hang\" }\r\n    ];\r\n\r\n    groupLayoutDataList: GroupHangingData[] = [\r\n        { groupHangingProtocol: GroupHangingProtocol.FreeHang_1X1, name: \"Layout_1X1\", tip: \"Layout Group by 1X1\" },\r\n        { groupHangingProtocol: GroupHangingProtocol.FreeHang_2X1, name: \"Layout_1X2\", tip: \"Layout Group by 1X2\" },\r\n        { groupHangingProtocol: GroupHangingProtocol.FreeHang_1X2, name: \"Layout_2X1\", tip: \"Layout Group by 2X1\" },\r\n        { groupHangingProtocol: GroupHangingProtocol.FreeHang_2X2, name: \"Layout_2X2\", tip: \"Layout Group by 2X2\" },\r\n        { groupHangingProtocol: GroupHangingProtocol.FreeHang_3X3, name: \"Layout_3X3\", tip: \"Layout Group by 3X3\" }\r\n    ];\r\n\r\n    imageLayoutDataList: ImageHangingData[] = [\r\n        { imageHangingProtocol: ImageHangingProtocol.Auto, name: \"tile\", tip: \"Layout Image by Modality\" },\r\n        { imageHangingProtocol: ImageHangingProtocol.FreeHang_1X1, name: \"SubLayout_1X1\", tip: \"Layout Image by 1X1\" },\r\n        { imageHangingProtocol: ImageHangingProtocol.FreeHang_2X1, name: \"SubLayout_1X2\", tip: \"Layout Image by 1X2\" },\r\n        { imageHangingProtocol: ImageHangingProtocol.FreeHang_1X2, name: \"SubLayout_2X1\", tip: \"Layout Image by 2X1\" },\r\n        { imageHangingProtocol: ImageHangingProtocol.FreeHang_2X2, name: \"SubLayout_2X2\", tip: \"Layout Image by 2X2\" },\r\n        { imageHangingProtocol: ImageHangingProtocol.FreeHang_3X3, name: \"SubLayout_3X3\", tip: \"Layout Image by 3X3\" },\r\n        { imageHangingProtocol: ImageHangingProtocol.FreeHang_4X3, name: \"SubLayout_3X4\", tip: \"Layout Image by 3X4\" },\r\n        { imageHangingProtocol: ImageHangingProtocol.FreeHang_6X5, name: \"SubLayout_5X6\", tip: \"Layout Image by 5X6\" }\r\n    ];\r\n\r\n    constructor(private logService: LogService) {}\r\n\r\n    getDefaultGroupHangingProtocol(): GroupHangingProtocol {\r\n        return this.defaultGroupHangingProtocol;\r\n    }\r\n\r\n    getDefaultImageHangingPrococal(): ImageHangingProtocol {\r\n        return this.defaultImageHangingPrococal;\r\n    }\r\n\r\n    getGroupHangingDataList(): GroupHangingData[] {\r\n        return this.groupHangingDataList;\r\n    }\r\n\r\n    getDefaultGroupHangingData(): GroupHangingData {\r\n        return this.groupHangingDataList[1];\r\n    }\r\n\r\n    getGroupLayoutDataList(): GroupHangingData[] {\r\n        return this.groupLayoutDataList;\r\n    }\r\n\r\n    getDefaultGroupLayoutData(): GroupHangingData {\r\n        return this.groupLayoutDataList[0];\r\n    }\r\n\r\n    getImageLayoutDataList(): ImageHangingData[] {\r\n        return this.imageLayoutDataList;\r\n    }\r\n\r\n    getDefaultImageLayoutData(): ImageHangingData {\r\n        return this.imageLayoutDataList[0];\r\n    }\r\n\r\n    applyGroupHangingProtocol(viewerShellData: ViewerShellData, groupHangingProtocol: GroupHangingProtocol) {\r\n\r\n        this.logService.info(\"HP service: applyGroupHangingProtocol to viewer \" + viewerShellData.getName() + \", protocol is \" + GroupHangingProtocol[groupHangingProtocol]);\r\n        if (groupHangingProtocol >= GroupHangingProtocol.FreeHang) {\r\n            const groupMatrix = LayoutMatrix.fromNumber(groupHangingProtocol);\r\n            if (!groupMatrix.equal(viewerShellData.groupMatrix)) {\r\n                const oldMatrixSize = viewerShellData.groupMatrix.rowCount * viewerShellData.groupMatrix.colCount;\r\n                viewerShellData.groupMatrix = groupMatrix;\r\n\r\n                // For the exsiting group, only change its position\r\n                for (let i = 0; i < viewerShellData.groupDataList.length; i++) {\r\n                    viewerShellData.updateGroupPositionFromIndex(i);\r\n                }\r\n\r\n                // Add empty group if matrix size becomes bigger\r\n                const matrixSize = viewerShellData.groupMatrix.rowCount * viewerShellData.groupMatrix.colCount;\r\n                for (let i = viewerShellData.groupDataList.length; i < matrixSize; i++) {\r\n                    viewerShellData.addEmptyGroup(i);\r\n                }\r\n            }\r\n        } else {\r\n\r\n            let groupCount: number;\r\n\r\n            if (groupHangingProtocol === GroupHangingProtocol.ByPatent) {\r\n                groupCount = viewerShellData.getTotalPatientCount();\r\n            } else if (groupHangingProtocol === GroupHangingProtocol.ByStudy) {\r\n                groupCount = viewerShellData.getTotalStudyCount();\r\n            } else if (groupHangingProtocol === GroupHangingProtocol.BySeries) {\r\n                groupCount = viewerShellData.getTotalSeriesCount();\r\n            } else {\r\n                alert(`applyGroupHangingProtocol() => Invalid Group Hanging Protocol : ${groupHangingProtocol}`);\r\n                return;\r\n            }\r\n\r\n            viewerShellData.groupHangingProtocol = groupHangingProtocol;\r\n\r\n            if (groupCount !== viewerShellData.groupCount) {\r\n                viewerShellData.cleanGroup();\r\n\r\n                viewerShellData.groupCount = groupCount;\r\n                viewerShellData.groupMatrix = this.getGroupLayoutMatrixFromCount(groupCount);\r\n\r\n                const matrixSize = viewerShellData.groupMatrix.rowCount * viewerShellData.groupMatrix.colCount;\r\n                for (let i = 0; i < matrixSize; i++) {\r\n                    viewerShellData.addGroup(i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    applyImageHangingProtocol(groupData: ViewerGroupData, imageHangingProtocol: ImageHangingProtocol) {\r\n\r\n        this.logService.info(\"HP service: applyImageHangingProtocol to Group\" + groupData.getId() + \", protocol is \" + ImageHangingProtocol[imageHangingProtocol]);\r\n\r\n        if (groupData.imageCount === 0) {\r\n            // This is the first time to apply \r\n            groupData.imageHangingProtocol = imageHangingProtocol;\r\n            this.createImageDataListOfGroup(groupData);\r\n            return;\r\n        }\r\n\r\n        groupData.imageHangingProtocol = imageHangingProtocol;\r\n\r\n        if (imageHangingProtocol >= ImageHangingProtocol.FreeHang) {\r\n            const imageMatrix = LayoutMatrix.fromNumber(imageHangingProtocol);\r\n            if (!imageMatrix.equal(groupData.imageMatrix)) {\r\n                groupData.imageMatrix = imageMatrix;\r\n\r\n                // For the image cell that contains image, only change its position\r\n                for (let i = 0; i < groupData.imageDataList.length; i++) {\r\n                    groupData.updateImagePositionFromIndex(i);\r\n                }\r\n\r\n                // Add empty image if matrix size becomes bigger\r\n                const matrixSize = groupData.imageMatrix.rowCount * groupData.imageMatrix.colCount;\r\n                for (let i = groupData.imageDataList.length; i < matrixSize; i++) {\r\n                    groupData.addImage(i, null);\r\n                }\r\n            }\r\n        } else {\r\n\r\n            if (imageHangingProtocol !== ImageHangingProtocol.Auto) {\r\n                alert(`applyImageHangingProtocol() => Invalid Image Hanging Protocol : ${imageHangingProtocol}`);\r\n                return;\r\n            }\r\n\r\n\r\n            groupData.imageMatrix = this.getImageLayoutMatrixFromCount(groupData.imageCount);\r\n\r\n            // For the image cell that contains image, only change its position\r\n            for (let i = 0; i < groupData.imageDataList.length; i++) {\r\n                groupData.updateImagePositionFromIndex(i);\r\n            }\r\n        }\r\n    }\r\n\r\n    createImageDataListOfGroup(groupData: ViewerGroupData) {\r\n\r\n        const groupIndex = groupData.getIndex();\r\n        const groupHangingProtocol = groupData.viewerShellData.groupHangingProtocol;\r\n\r\n        let ret = false;\r\n        if (groupHangingProtocol === GroupHangingProtocol.ByPatent) {\r\n            // GroupIndex is the patient index\r\n            ret = this.createImageDataListByPatient(groupData, groupIndex);\r\n        } else if (groupHangingProtocol === GroupHangingProtocol.ByStudy) {\r\n            ret = this.createImageDataListByStudy(groupData, groupIndex);\r\n        } else if (groupHangingProtocol === GroupHangingProtocol.BySeries) {\r\n            ret = this.createImageDataListBySeries(groupData, groupIndex);\r\n        } else {\r\n            alert(`createImageListOfGroup() => Invalid Group Hanging Protocol : ${groupHangingProtocol}`);\r\n        }\r\n\r\n        if (!ret) {\r\n            groupData.setEmpty();\r\n        }\r\n    }\r\n\r\n    private createImageDataListByPatient(groupData: ViewerGroupData, patientIndex: number): boolean {\r\n\r\n        const patient = groupData.viewerShellData.getPatientByIndex(patientIndex);\r\n        if (patient === null || patient === undefined) {\r\n            // This is an empty group\r\n            return false;\r\n        }\r\n\r\n        const imageList = groupData.viewerShellData.getAllImageOfPatient(patient);\r\n        return this.createImageDataListFromImageList(groupData, imageList);\r\n    }\r\n\r\n    private createImageDataListByStudy(groupData: ViewerGroupData, studyIndex: number): boolean {\r\n\r\n        const study = groupData.viewerShellData.getStudyByIndex(studyIndex);\r\n        if (study === null || study === undefined) {\r\n            // This is an empty group\r\n            return false;\r\n        }\r\n\r\n        const imageList = groupData.viewerShellData.getAllImageOfStudy(study);\r\n        return this.createImageDataListFromImageList(groupData, imageList);\r\n    }\r\n\r\n    private createImageDataListBySeries(groupData: ViewerGroupData, seriesIndex: number): boolean {\r\n\r\n        const series = groupData.viewerShellData.getSeriesByIndex(seriesIndex);\r\n        if (series === null || series === undefined) {\r\n            // This is an empty group\r\n            return false;\r\n        }\r\n\r\n        return this.createImageDataListFromImageList(groupData, series.imageList);\r\n    }\r\n\r\n    private createImageDataListFromImageList(groupData: ViewerGroupData, imageList: Array<Image>): boolean {\r\n\r\n        groupData.imageDataList = new Array<ViewerImageData>();\r\n        groupData.imageCount = imageList.length;\r\n        groupData.imageMatrix = this.getImageLayoutMatrixFromCount(groupData.imageCount);\r\n\r\n        const matrixSize = groupData.imageMatrix.rowCount * groupData.imageMatrix.colCount;\r\n        for (let i = 0; i < matrixSize; i++) {\r\n            const image = i < groupData.imageCount ? imageList[i] : null;\r\n            groupData.addImage(i, image);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private getGroupLayoutMatrixFromCount(count: number): LayoutMatrix {\r\n        return this.getLayoutMatrixFromCount(count, this.groupLayoutNumberList);\r\n    }\r\n\r\n    private getImageLayoutMatrixFromCount(count: number): LayoutMatrix {\r\n        return this.getLayoutMatrixFromCount(count, this.imageLayoutNumberList);\r\n    }\r\n\r\n    private getLayoutMatrixFromCount(count: number, layoutNumberList: number[]): LayoutMatrix {\r\n        let matrixNumber = 33;\r\n        if (count < layoutNumberList.length) {\r\n            matrixNumber = layoutNumberList[count];\r\n        }\r\n\r\n        return LayoutMatrix.fromNumber(matrixNumber);\r\n    }\r\n\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Subject } from \"rxjs\";\r\nimport { ViewerImageData } from \"../models/viewer-image-data\";\r\nimport { Image } from \"../models/pssi\";\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class ImageSelectorService {\r\n\r\n    // Observable string sources\r\n    private imageSelectedSource = new Subject<ViewerImageData>();\r\n\r\n    // Observable number sources\r\n    private imageLayoutChangedSource = new Subject<number>();\r\n\r\n    // Observable string sources\r\n    private thumbnailSelectedSource = new Subject<Image>();\r\n\r\n    // Observable string streams\r\n    imageSelected$ = this.imageSelectedSource.asObservable();\r\n\r\n    // Observable number streams\r\n    imageLayoutChanged$ = this.imageLayoutChangedSource.asObservable();\r\n\r\n    thumbnailSelected$ = this.thumbnailSelectedSource.asObservable();\r\n\r\n    // Service string commands\r\n    selectImage(viewerImageData: ViewerImageData) {\r\n        this.imageSelectedSource.next(viewerImageData);\r\n    }\r\n\r\n    // Service number commands\r\n    changeImageLayout(imageLayoutStyle: number) {\r\n        this.imageLayoutChangedSource.next(imageLayoutStyle);\r\n    }\r\n\r\n    selectThumbnail(image: Image) {\r\n        this.thumbnailSelectedSource.next(image);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogService {\r\n\r\n  constructor() { }\r\n\r\n    error(log: string) {\r\n        this.logInternal(log, 'E');\r\n    }\r\n\r\n    warning(log: string) {\r\n        this.logInternal(log, 'W');\r\n    }\r\n\r\n    info(log: string) {\r\n        this.logInternal(log, 'I');\r\n    }\r\n\r\n    debug(log: string) {\r\n        this.logInternal(log, 'D');\r\n    }\r\n\r\n    seperator() {\r\n        console.log('');\r\n    }\r\n\r\n    private formatNumberToString(num: number, maxLen: number = 2): string {\r\n        if (maxLen == 2) {\r\n            return num < 10 ? '0' + num : '' + num;\r\n        } else {\r\n            return num < 10 ? '00' + num : num < 100 ? '0' + num  : '' + num;\r\n        }\r\n        \r\n    }\r\n\r\n    private logInternal(log: string, level: string) {\r\n        const cur = new Date();\r\n        const timeStamp = cur.getFullYear() + '-' + this.formatNumberToString(cur.getMonth() + 1) + '-' + this.formatNumberToString(cur.getDate())\r\n            + ' ' + this.formatNumberToString(cur.getHours()) + ':' + this.formatNumberToString(cur.getHours())\r\n            + ':' + this.formatNumberToString(cur.getSeconds()) + '.' + this.formatNumberToString(cur.getMilliseconds(), 3);\r\n\r\n        const content = timeStamp + ' ' + level + ' ' + log;\r\n        console.log(content);\r\n    }\r\n\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Subject } from \"rxjs\";\r\nimport { ViewerShellData } from \"../models/viewer-shell-data\";\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class ShellNavigatorService {\r\n\r\n    viewerShellDataList = new Array<ViewerShellData>();\r\n    viewerShellDataHighlighted: ViewerShellData; // The shell current highlighted\r\n\r\n    // Observable string sources\r\n    private shellSelectedSource = new Subject<ViewerShellData>();\r\n\r\n    // Observable string streams\r\n    shellSelected$ = this.shellSelectedSource.asObservable();\r\n\r\n    // Observable string sources\r\n    private shellCreatedSource = new Subject<ViewerShellData>();\r\n\r\n    // Observable string streams\r\n    shellCreated$ = this.shellCreatedSource.asObservable();\r\n\r\n    // Observable string sources\r\n    private shellDeletedSource = new Subject<ViewerShellData>();\r\n\r\n    // Observable string streams\r\n    shellDeleted$ = this.shellDeletedSource.asObservable();\r\n\r\n    constructor() {\r\n    }\r\n\r\n    // Service string commands\r\n    private shellCreated(viewerShellData: ViewerShellData) {\r\n        this.shellCreatedSource.next(viewerShellData);\r\n    }\r\n\r\n    // Service string commands\r\n    private shellSelected(viewerShellData: ViewerShellData) {\r\n        this.shellSelectedSource.next(viewerShellData);\r\n    }\r\n\r\n    shellNavigate(viewerShellData: ViewerShellData) {\r\n        if (!this.isViewerShellOpened(viewerShellData)) {\r\n            this.viewerShellDataList.push(viewerShellData);\r\n            this.shellCreated(viewerShellData);\r\n        } else {\r\n            this.shellSelected(viewerShellData);\r\n        }\r\n\r\n        this.viewerShellDataHighlighted = viewerShellData;\r\n    }\r\n\r\n    shellDelete(viewerShellData: ViewerShellData): ViewerShellData {\r\n        if (this.isViewerShellOpened(viewerShellData)) {\r\n            let index = this.viewerShellDataList.indexOf(viewerShellData);\r\n            this.viewerShellDataList =\r\n                this.viewerShellDataList.filter((value, index, array) => value.getId() !== viewerShellData.getId());\r\n            if (index >= this.viewerShellDataList.length) {\r\n                index--;\r\n            }\r\n\r\n            if (this.viewerShellDataHighlighted === viewerShellData) {\r\n                if (index >= 0) {\r\n                    this.viewerShellDataHighlighted = this.viewerShellDataList[index];\r\n                } else {\r\n                    this.viewerShellDataHighlighted = null;\r\n                }\r\n                this.shellNavigate(this.viewerShellDataHighlighted);\r\n                this.shellDeletedSource.next(viewerShellData);\r\n\r\n            }\r\n            return this.viewerShellDataHighlighted;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private isViewerShellOpened(viewerShellData: ViewerShellData): boolean {\r\n        if (viewerShellData === null)\r\n            return true;\r\n\r\n        return this.viewerShellDataList.some((value, index, array) => value.getId() === viewerShellData.getId());\r\n    }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Subject } from \"rxjs\";\r\nimport { SelectedButtonData } from \"../models/dropdown-button-menu-data\";\r\n\r\nexport enum ViewContextEnum {\r\n    Select = 1,\r\n    Pan = 2,\r\n    WL = 3,\r\n    Zoom = 4,\r\n    Magnifier = 5,\r\n    ROIZoom = 6,\r\n    CreateAnn = 7,\r\n    ROIWL = 8,\r\n    MagnifyX2,\r\n    MagnifyX4,\r\n    MagnifyX8,\r\n    SelectAnn\r\n}\r\n\r\nexport enum OperationEnum {\r\n    Rotate = 1,\r\n    Flip = 2,\r\n    Invert = 3,\r\n    ShowAnnotation = 4,\r\n    ShowOverlay = 5,\r\n    ShowRuler = 6,\r\n    DeleteAnnotation = 7,\r\n    Save = 8,\r\n    SetContext = 9,\r\n    ManualWL = 10,\r\n    FitHeight,\r\n    FitWidth,\r\n    FitWindow,\r\n    FitOriginal,\r\n    Reset,\r\n    ShowGraphicOverlay,\r\n    ToggleKeyImage\r\n}\r\n\r\nexport class OperationData {\r\n    type: OperationEnum;\r\n    data: any;\r\n\r\n    constructor(type: OperationEnum, data: any) {\r\n        this.type = type;\r\n        this.data = data;\r\n    }\r\n}\r\n\r\nexport class ViewContext {\r\n    private _action = ViewContextEnum.Pan;\r\n    private _data: any;\r\n\r\n    constructor(action: ViewContextEnum, data: any = undefined) {\r\n        this._action = action;\r\n        this._data = data;\r\n    }\r\n\r\n    get action(): ViewContextEnum {\r\n        return this._action;\r\n    }\r\n\r\n    get data(): any {\r\n        return this._data;\r\n    }\r\n}\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class ViewContextService {\r\n\r\n    private _curContext: ViewContext;\r\n    private _previousContext: ViewContext;\r\n\r\n    private _showAnnotation = true;\r\n    private _showOverlay = true;\r\n    private _showRuler = true;\r\n    private _showGraphicOverlay = false;\r\n\r\n    private viewContextChangedSource = new Subject<ViewContext>();\r\n    viewContextChanged$ = this.viewContextChangedSource.asObservable();\r\n\r\n    private operationSource = new Subject<OperationData>();\r\n    onOperation$ = this.operationSource.asObservable();\r\n\r\n    constructor() {\r\n        this._curContext = new ViewContext(ViewContextEnum.Select);\r\n    }\r\n\r\n    get curContext(): ViewContext {\r\n        return this._curContext;\r\n    }\r\n\r\n    get previousContext(): ViewContext {\r\n        return this._previousContext;\r\n    }\r\n\r\n    set showAnnotation(bShow: boolean) {\r\n        this._showAnnotation = bShow;\r\n        const data = new OperationData(OperationEnum.ShowAnnotation, { show: bShow });\r\n\r\n        this.operationSource.next(data);\r\n    }\r\n\r\n    get showAnnotation(): boolean {\r\n        return this._showAnnotation;\r\n    }\r\n\r\n    set showOverlay(bShow: boolean) {\r\n        this._showOverlay = bShow;\r\n        const data = new OperationData(OperationEnum.ShowOverlay, { show: bShow });\r\n\r\n        this.operationSource.next(data);\r\n    }\r\n\r\n    get showOverlay(): boolean {\r\n        return this._showOverlay;\r\n    }\r\n\r\n    set showRuler(bShow: boolean) {\r\n        this._showRuler = bShow;\r\n        const data = new OperationData(OperationEnum.ShowRuler, { show: bShow });\r\n\r\n        this.operationSource.next(data);\r\n    }\r\n\r\n    get showRuler(): boolean {\r\n        return this._showRuler;\r\n    }\r\n\r\n    set showGraphicOverlay(bShow: boolean) {\r\n        this._showGraphicOverlay = bShow;\r\n        const data = new OperationData(OperationEnum.ShowGraphicOverlay, { show: bShow });\r\n\r\n        this.operationSource.next(data);\r\n    }\r\n\r\n    get showGraphicOverlay(): boolean {\r\n        return this._showGraphicOverlay;\r\n    }\r\n\r\n    onOperation(data: OperationData) {\r\n        switch (data.type) {\r\n        case OperationEnum.ShowAnnotation:\r\n        {\r\n            this.showAnnotation = !this.showAnnotation;\r\n            break;\r\n        }\r\n        case OperationEnum.ShowOverlay:\r\n        {\r\n            this.showOverlay = !this.showOverlay;\r\n            break;\r\n        }\r\n        case OperationEnum.ShowRuler:\r\n        {\r\n            this.showRuler = !this.showRuler;\r\n            break;\r\n        }\r\n        case OperationEnum.ShowGraphicOverlay:\r\n        {\r\n            this.showGraphicOverlay = !this.showGraphicOverlay;\r\n            break;\r\n        }\r\n\r\n        default:\r\n            this.operationSource.next(data);\r\n        }\r\n\r\n    }\r\n\r\n    setContext(context: ViewContextEnum, data: any = undefined) {\r\n        const curContext = new ViewContext(context, data);\r\n        this._previousContext = this._curContext;\r\n        this._curContext = curContext;\r\n\r\n        if (this._curContext.action !== this._previousContext.action) {\r\n            this.viewContextChangedSource.next(this._curContext);\r\n        } else if (this._curContext.action == ViewContextEnum.CreateAnn) {\r\n            //if want to create the same object even if current object is not finished yet, we still change context to delete it. \r\n            this.viewContextChangedSource.next(this._curContext);\r\n        }\r\n    }\r\n\r\n    isImageToolBarButtonChecked(buttonData: SelectedButtonData): boolean {\r\n        switch (buttonData.operationData.type) {\r\n        case OperationEnum.ShowAnnotation:\r\n            return this._showAnnotation;\r\n        case OperationEnum.ShowOverlay:\r\n            return this._showOverlay;\r\n        case OperationEnum.ShowRuler:\r\n            return this._showRuler;\r\n        case OperationEnum.ShowGraphicOverlay:\r\n            return this._showGraphicOverlay;\r\n        default:\r\n            return buttonData.operationData.data == this._curContext.action;\r\n        }\r\n    }\r\n\r\n    isImageToolBarButtonCheckStyle(buttonData: SelectedButtonData): boolean {\r\n        switch (buttonData.operationData.type) {\r\n        case OperationEnum.ShowAnnotation:\r\n        case OperationEnum.ShowOverlay:\r\n        case OperationEnum.ShowRuler:\r\n        case OperationEnum.ShowGraphicOverlay:\r\n        case OperationEnum.SetContext:\r\n            return true;\r\n        default:\r\n            return false;\r\n        }\r\n    }\r\n\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Subject } from \"rxjs\";\r\nimport { Shortcut } from \"../models/shortcut\";\r\nimport { DatabaseService } from \"./database.service\"\r\nimport { ViewerShellData } from \"../models/viewer-shell-data\";\r\nimport { HangingProtocolService } from \"./hanging-protocol.service\";\r\nimport { ShellNavigatorService } from \"./shell-navigator.service\";\r\nimport { Study, RecWorklistData, WorklistColumn } from \"../models/pssi\";\r\nimport { DataSource } from \"../models/shortcut\";\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class WorklistService {\r\n    studies: Study[];\r\n    shortcuts: Shortcut[];\r\n    worklistColumns: WorklistColumn[];\r\n    recWorklistData: RecWorklistData;\r\n    pageCount: number;\r\n    pages: number[];\r\n    querying = false;\r\n\r\n\r\n    private _shortcut: Shortcut;\r\n    set shortcut(value: Shortcut) {\r\n        this._shortcut.copyConditionFrom(value);\r\n        this.studies = this.onQueryStudies(1);\r\n    }\r\n    get shortcut(): Shortcut {\r\n        return this._shortcut;\r\n    }\r\n\r\n\r\n    private _showHistoryStudies = true;\r\n\r\n    set showHistoryStudies(value: boolean) {\r\n        this._showHistoryStudies = value;\r\n    }\r\n\r\n    get showHistoryStudies(): boolean {\r\n        return this._showHistoryStudies;\r\n    }\r\n\r\n    // Observable Shortcut sources\r\n    private shortcutSelectedSource = new Subject<Shortcut>();\r\n\r\n    // Observable Shortcut streams\r\n    shortcutSelected$ = this.shortcutSelectedSource.asObservable();\r\n\r\n    // Service Shortcut commands\r\n    shortcutSelected(shortcut: Shortcut) {\r\n        this.shortcutSelectedSource.next(shortcut);\r\n    }\r\n\r\n    constructor(private databaseService: DatabaseService,\r\n        private shellNavigatorService: ShellNavigatorService,\r\n        private hangingProtocolService: HangingProtocolService) {\r\n\r\n        this._shortcut = new Shortcut();\r\n        this._shortcut.dataSource = DataSource.MiniPacs;\r\n    }\r\n\r\n    onQueryStudies(pageIndex: number, sortItem: String = \"\"): Study[] {\r\n\r\n        this.querying = true;\r\n        if (this.isUsingLocalTestData()) {\r\n            this.studies = this.databaseService.getStudiesTest();\r\n            this.querying = false;\r\n        } else {\r\n            this.databaseService.getStudies(this._shortcut, pageIndex, sortItem).subscribe(recWorklistData => this.formatStudies(recWorklistData));\r\n        }\r\n\r\n        return this.studies;\r\n    }\r\n\r\n    onQueryShortcuts(): Shortcut[] {\r\n\r\n        this.querying = true;\r\n        if (this.isUsingLocalTestData()) {\r\n            //this.shortcuts = this.databaseService.getShortcuts();\r\n            this.querying = false;\r\n        } else {\r\n            this.databaseService.getShortcuts().subscribe(shortcuts => this.formatShortcuts(shortcuts));\r\n        }\r\n\r\n        return this.shortcuts;\r\n    }\r\n\r\n    onQueryWorklistCol(): Shortcut[] {\r\n\r\n        this.querying = true;\r\n        if (this.isUsingLocalTestData()) {\r\n            //this.shortcuts = this.databaseService.getShortcuts();\r\n            this.querying = false;\r\n        } else {\r\n            this.databaseService.getWorklistCol().subscribe(shortcuts => this.formatShortcuts(shortcuts));\r\n        }\r\n\r\n        return this.shortcuts;\r\n    }\r\n\r\n    onSaveShortcut(name: string) {\r\n        if (this.isUsingLocalTestData()) {\r\n            //this.studies = this.databaseService.getStudiesTest();\r\n            //this.querying = false;\r\n        } else {\r\n            this._shortcut.name = name;\r\n            this.databaseService.saveShortcut(this._shortcut).subscribe(shortcuts => this.refreshShortcuts());\r\n        }\r\n    }\r\n\r\n    onDeleteShortcut(shortcut: Shortcut) {\r\n        if (this.isUsingLocalTestData()) {\r\n            //this.studies = this.databaseService.getStudiesTest();\r\n            //this.querying = false;\r\n        } else {\r\n            //this._shortcut.name = name;\r\n            this.databaseService.deleteShortcut(shortcut).subscribe(shortcuts => this.refreshShortcuts());\r\n        }\r\n    }\r\n\r\n    onShowSingleStudy(study: Study) {\r\n        const viewerShellData = new ViewerShellData(this.hangingProtocolService.getDefaultGroupHangingProtocol(),\r\n            this.hangingProtocolService.getDefaultImageHangingPrococal());\r\n\r\n        if (this.isUsingLocalTestData()) {\r\n            viewerShellData.addStudy(study);\r\n            this.shellNavigatorService.shellNavigate(viewerShellData);\r\n        } else {\r\n            this.databaseService.getStudy(study.id).subscribe(value => {\r\n                viewerShellData.addStudy(value);\r\n                // If the PSSI information changed, need to update worklist ??\r\n                // study = value;\r\n                // study = Study.clone(value, false);\r\n                // study.patient = Patient.clone(value.patient, false);\r\n                this.shellNavigatorService.shellNavigate(viewerShellData);\r\n            });\r\n        }\r\n    }\r\n\r\n    onShowAllCheckedStudy() {\r\n        if (this.isUsingLocalTestData()) {\r\n            const viewerShellData = new ViewerShellData(this.hangingProtocolService.getDefaultGroupHangingProtocol(),\r\n                this.hangingProtocolService.getDefaultImageHangingPrococal());\r\n            this.studies.forEach(study => {\r\n                if (study.checked) {\r\n                    viewerShellData.addStudy(study);\r\n                }\r\n            });\r\n\r\n            this.shellNavigatorService.shellNavigate(viewerShellData);\r\n        } else {\r\n            this.studies.forEach(study => {\r\n                if (study.checked) {\r\n                    this.databaseService.getStudy(study.id)\r\n                        .subscribe(value => this.studyDetailsLoaded(this.studies.indexOf(study), value));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    isUsingLocalTestData(): boolean {\r\n        return this._shortcut.dataSource === DataSource.LocalTestData;\r\n    }\r\n\r\n    setDataSource(dataSource: DataSource) {\r\n        this._shortcut.dataSource = dataSource;\r\n        this.studies = this.onQueryStudies(1);\r\n        this.shortcuts = this.onQueryShortcuts();\r\n    }\r\n\r\n    onCleanCondition() {\r\n        this.shortcut.clearCondition();\r\n    }\r\n\r\n    onQueryAllStudies() {\r\n        this.shortcut.clearCondition();\r\n        this.onQueryStudies(1);\r\n        this.onQueryShortcuts();\r\n    }\r\n\r\n    onQueryTodayStudy() {\r\n        this.shortcut.clearCondition();\r\n        this.shortcut.studyDate = '1';\r\n        this.onQueryStudies(1);\r\n    }\r\n\r\n    onQueryStudyByShortcut(shortcut: Shortcut) {\r\n        this.shortcut = shortcut;\r\n    }\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // Private functions\r\n    private formatStudies(recWorklistData) {\r\n\r\n        var studiesList = recWorklistData.studyList;\r\n\r\n        for (let i = 0; i < studiesList.length; i++) {\r\n            studiesList[i].checked = false;\r\n            studiesList[i].detailsLoaded = false;\r\n            studiesList[i].bodyPartList = new Array<string>();\r\n            for (let j = 0; j < studiesList[i].seriesList.length; j++) {\r\n                studiesList[i].seriesList[j].study = studiesList[i];\r\n                if (!studiesList[i].bodyPartList.includes(studiesList[i].seriesList[j].localBodyPart)) {\r\n                    studiesList[i].bodyPartList.push(studiesList[i].seriesList[j].localBodyPart);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.studies = studiesList;\r\n        this.pageCount = recWorklistData.pageCount;\r\n        this.worklistColumns = recWorklistData.worklistColumns;\r\n        \r\n\r\n        for (let worklistColumn of recWorklistData.worklistColumns) {\r\n            worklistColumn.shortcutType = this.shortcut;\r\n        }\r\n\r\n        for (let study of studiesList) {\r\n            for (let worklistColumn of recWorklistData.worklistColumns) {\r\n                worklistColumn.studyCol = study;\r\n            }\r\n        }\r\n\r\n        this.pages = Array.from(Array(this.pageCount), (x, i) => i);\r\n        this.querying = false;\r\n    }\r\n\r\n    private formatShortcuts(shortcuts) {\r\n        this.shortcuts = shortcuts;\r\n    }\r\n\r\n    private refreshShortcuts() {\r\n        this.onQueryStudies(1);\r\n        this.onQueryShortcuts();\r\n    }\r\n\r\n    private studyDetailsLoaded(index: number, studyNew: Study) {\r\n\r\n        studyNew.detailsLoaded = true;\r\n        studyNew.checked = true;\r\n        this.studies[index] = studyNew;\r\n\r\n        if (this.studies.every(study => !study.checked || (study.checked && study.detailsLoaded))) {\r\n            const viewerShellData = new ViewerShellData(this.hangingProtocolService.getDefaultGroupHangingProtocol(),\r\n                this.hangingProtocolService.getDefaultImageHangingPrococal());\r\n            this.studies.forEach(value => {\r\n                if (value.checked && value.detailsLoaded) {\r\n                    viewerShellData.addStudy(value);\r\n                }\r\n            });\r\n            this.shellNavigatorService.shellNavigate(viewerShellData);\r\n\r\n            this.studies.forEach(value => {\r\n                value.detailsLoaded = false;\r\n                value.checked = false;\r\n            });\r\n        }\r\n    }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":""}