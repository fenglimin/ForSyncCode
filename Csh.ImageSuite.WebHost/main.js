(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/annotation/ann-object.ts":
/*!******************************************!*\
  !*** ./src/app/annotation/ann-object.ts ***!
  \******************************************/
/*! exports provided: Colors, AnnObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Colors", function() { return Colors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnObject", function() { return AnnObject; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/view-context.service */ "./src/app/services/view-context.service.ts");



var Colors = /** @class */ (function () {
    function Colors() {
    }
    Colors.white = "#ffffff";
    Colors.red = "#ff0000";
    Colors.yellow = "#ffff00";
    Colors.green = "#00FF00";
    Colors.blue = "#0000FF";
    return Colors;
}());

;
var AnnObject = /** @class */ (function () {
    function AnnObject(parentObj, imageViewer) {
        this.selectedColor = "#F90";
        this.defaultColor = "#FFF";
        this.minLineWidth = 0.3;
        this.minPointRadius = 2;
        this.minArrowLineLength = 10;
        this.minFontSize = 15;
        this.stepIndex = -1;
        this.parentObj = parentObj;
        this.imageViewer = imageViewer;
        this.image = imageViewer.getImage();
        this.layerId = imageViewer.getAnnotationLayerId();
        this.labelLayerId = imageViewer.getAnnLabelLayerId();
        this.created = false;
        this.selected = false;
        this.dragging = false;
        this.mouseResponsible = true;
        this.lineWidth = this.getLineWidth();
        this.pointRadius = this.getPointRadius();
        this.pixelSpacing = this.image.getPixelSpacing();
    }
    AnnObject.prototype.isCreated = function () {
        return this.created;
    };
    AnnObject.prototype.isSelected = function () {
        return this.selected;
    };
    AnnObject.prototype.setStepIndex = function (stepIndex) {
        this.stepIndex = stepIndex;
    };
    AnnObject.prototype.getDefaultColor = function () {
        return this.defaultColor;
    };
    AnnObject.prototype.getFocusedObj = function () {
        return this.focusedObj;
    };
    AnnObject.prototype.getStepIndex = function () {
        return this.stepIndex;
    };
    AnnObject.prototype.setMouseResponsible = function (mouseResponsible) {
        this.mouseResponsible = mouseResponsible;
    };
    AnnObject.prototype.onChildSelected = function (selectedObj) {
        this.focusedObj = selectedObj;
        if (this.parentObj) {
            // If have parent, let parent manage the select status
            this.parentObj.onChildSelected(this);
        }
        else {
            this.onSelect(true, true);
        }
    };
    AnnObject.prototype.onChildDragStarted = function (draggedObj, pos) {
        this.focusedObj = draggedObj;
        if (this.parentObj) {
            // If have parent, let parent manage the drag status
            this.parentObj.onChildDragStarted(this, pos);
        }
        else {
            this.onDragStarted(pos);
        }
    };
    AnnObject.prototype.onChildDragEnded = function (draggedObj, pos) {
        this.focusedObj = draggedObj;
        if (this.parentObj) {
            // If have parent, let parent manage the drag status
            this.parentObj.onChildDragEnded(this, pos);
        }
        else {
            this.onDragEnded(pos);
        }
    };
    AnnObject.prototype.onChildDragged = function (draggedObj, deltaX, deltaY) {
        this.focusedObj = draggedObj;
        if (this.parentObj) {
            // If have parent, let parent manage the drag status
            this.parentObj.onChildDragged(this, deltaX, deltaY);
        }
        else {
            this.onDrag(deltaX, deltaY);
        }
    };
    AnnObject.prototype.deleteObject = function (obj) {
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].isJcanvasObject(obj)) {
            obj.del();
            obj = undefined;
        }
        else if (obj instanceof AnnObject) {
            var annObj = obj;
            annObj.onDeleteChildren();
            annObj = undefined;
        }
    };
    AnnObject.prototype.onKeyDown = function (keyEvent) {
        if (!this.focusedObj)
            return;
        var focusedBottomObj = this.focusedObj;
        while (focusedBottomObj.focusedObj) {
            focusedBottomObj = focusedBottomObj.focusedObj;
        }
        // Move 5 screen point by default, or move 1 screen point if ctrl key is pressed
        var step = keyEvent.ctrlKey ? 1 : 5;
        var posImageOld = this.focusedObj.getPosition();
        var posScreen = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].imageToScreen(posImageOld, focusedBottomObj.parentObj.getTransformMatrix());
        if (keyEvent.code === "ArrowUp") {
            posScreen.y -= step;
        }
        else if (keyEvent.code === "ArrowDown") {
            posScreen.y += step;
        }
        else if (keyEvent.code === "ArrowLeft") {
            posScreen.x -= step;
        }
        else if (keyEvent.code === "ArrowRight") {
            posScreen.x += step;
        }
        var posImageNew = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(posScreen, focusedBottomObj.parentObj.getTransformMatrix());
        focusedBottomObj.parentObj.onChildDragged(focusedBottomObj, posImageNew.x - posImageOld.x, posImageNew.y - posImageOld.y);
    };
    AnnObject.prototype.getLineWidth = function () {
        var lineWidth = 1 / this.image.getScaleValue();
        if (lineWidth < this.minLineWidth) {
            lineWidth = this.minLineWidth;
        }
        return lineWidth;
    };
    AnnObject.prototype.getPointRadius = function () {
        var pointRadius = 3 / this.image.getScaleValue();
        if (pointRadius < this.minPointRadius) {
            pointRadius = this.minPointRadius;
        }
        return pointRadius;
    };
    AnnObject.prototype.getArrowLineLength = function () {
        var lineLength = 10 / this.image.getScaleValue();
        if (lineLength < this.minArrowLineLength) {
            lineLength = this.minArrowLineLength;
        }
        return lineLength;
    };
    AnnObject.prototype.getFontSize = function () {
        var scale = this.image.getScaleValue();
        return scale > 1 ? this.minFontSize : this.minFontSize / scale;
    };
    AnnObject.prototype.getTransformMatrix = function () {
        return this.image.transformMatrix;
    };
    AnnObject.prototype.getCursor = function () {
        return this.imageViewer.getCursor();
    };
    AnnObject.prototype.setCursor = function (cursor) {
        this.imageViewer.setCursor(cursor);
    };
    AnnObject.prototype.setChildDraggable = function (parentObj, child, draggable) {
        var _this = this;
        child.draggable({
            disabled: !draggable,
            start: function (arg) {
                console.log(parentObj.constructor.name + " on drag start");
                child._lastPos = {};
                var point = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage({ x: arg.x, y: arg.y }, parentObj.getTransformMatrix());
                if (parentObj.onChildDragStarted) {
                    parentObj.onChildDragStarted(child, point);
                }
            },
            stop: function (arg) {
                console.log(parentObj.constructor.name + " on drag stop");
                child._lastPos = {};
                if (_this.imageViewer.getContext().action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].SelectAnn && parentObj.dragging) {
                    parentObj.dragging = false;
                    var point = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage({ x: arg.x, y: arg.y }, parentObj.getTransformMatrix());
                    if (parentObj.onChildDragEnded) {
                        parentObj.onChildDragEnded(child, point);
                    }
                }
            },
            drag: function (arg) {
                if (_this.imageViewer.getContext().action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].SelectAnn && _this.imageViewer.isDragging()) {
                    var point = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage({ x: arg.x, y: arg.y }, parentObj.getTransformMatrix());
                    parentObj.dragging = true;
                    if (typeof (child._lastPos.x) != "undefined") {
                        var deltaX = point.x - child._lastPos.x;
                        var deltaY = point.y - child._lastPos.y;
                        console.log(parentObj.constructor.name + " do dragging, deltaX = " + deltaX + " deltaY = " + deltaY);
                        //child._x += deltaX;
                        //child._y += deltaY;
                        //if (onDrag) {
                        //    onDrag.call(parentObj, child, deltaX, deltaY);
                        //}
                        if (parentObj.onChildDragged) {
                            parentObj.onChildDragged(child, deltaX, deltaY);
                        }
                    }
                    child._lastPos = point;
                }
                return true;
            }
        });
    };
    AnnObject.prototype.setChildMouseEvent = function (parentObj, child) {
        var _this = this;
        child._onmouseover = function (arg) {
            if (parentObj.needResponseToChildMouseEvent()) {
                console.log(parentObj.constructor.name + " on mouse over");
                parentObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseOver, arg, child);
                if (!_this.imageViewer.isDragging()) {
                    parentObj.oldCursor = parentObj.getCursor();
                    parentObj.setCursor(child.mouseStyle);
                }
            }
            return false;
        };
        child._onmouseout = function (arg) {
            if (parentObj.needResponseToChildMouseEvent()) {
                console.log(parentObj.constructor.name + " on mouse out");
                parentObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseOut, arg, child);
                if (!_this.imageViewer.isDragging()) {
                    parentObj.setCursor(undefined);
                }
            }
            return false;
        };
        child._onmousedown = function (arg) {
            if (parentObj.needResponseToChildMouseEvent()) {
                console.log(parentObj.constructor.name + " on mouse down");
                parentObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown, arg, child);
            }
            //arg.event.cancelBubble = true;
            //arg.event.stopPropagation();
            //arg.event.stopImmediatePropagation();
            //arg.event.preventDefault();
            // return false to make sure no other jc object's mouse event will be called
            return true;
        };
    };
    AnnObject.prototype.needResponseToChildMouseEvent = function () {
        return !this.dragging && this.imageViewer.getContext().action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].SelectAnn;
    };
    return AnnObject;
}());



/***/ }),

/***/ "./src/app/annotation/ann-serialize.ts":
/*!*********************************************!*\
  !*** ./src/app/annotation/ann-serialize.ts ***!
  \*********************************************/
/*! exports provided: AnnSerialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnSerialize", function() { return AnnSerialize; });
var AnnSerialize = /** @class */ (function () {
    function AnnSerialize(annData, imageViewer) {
        this.annString = "";
        this.version = 1023;
        this.annData = annData;
        this.imageViewer = imageViewer;
        this.annotationService = imageViewer.getAnnotationService();
    }
    AnnSerialize.prototype.createAnn = function () {
        if (!this.annData)
            return false;
        if (this.annData[this.annData.length - 1] === 0X20) {
            // Remove the last 0X20
            this.readInteger(1);
        }
        this.version = this.readInteger(4);
        var annCount = this.readInteger(4);
        for (var i = 0; i < annCount; i++) {
            var annIsName = this.readString();
            var annDefData = this.annotationService.getAnnDefDataByIsName(annIsName);
            if (!annDefData) {
                return false;
            }
            var annObj = new annDefData.classType(undefined, this.imageViewer);
            annObj.onLoad(this);
        }
        return annCount > 0;
    };
    AnnSerialize.prototype.getAnnString = function (annList) {
        var _this = this;
        this.annData = new Uint8Array(0);
        this.annString = "";
        this.writeInteger(this.version, 4);
        this.writeInteger(annList.length, 4);
        annList.forEach(function (annObj) { return annObj.onSave(_this); });
        return this.annString;
    };
    AnnSerialize.prototype.readInteger = function (bytes) {
        var length = this.annData.length;
        var value = 0;
        for (var i = 0; i < bytes; i++) {
            value += this.annData[length - i - 1] << (i * 8);
        }
        this.annData = this.annData.slice(0, length - bytes);
        return value;
    };
    AnnSerialize.prototype.readString = function () {
        var strLen = this.readInteger(4) / 2;
        var str = "";
        for (var index = 0; index < strLen; index++) {
            var ch = this.readInteger(2);
            str += String.fromCharCode(ch);
        }
        return str;
    };
    AnnSerialize.prototype.readIntegerPoint = function () {
        return { x: this.readInteger(4), y: this.readInteger(4) };
    };
    AnnSerialize.prototype.readDouble = function () {
        var ebits = 11;
        var fbits = 52;
        var bytes = this.readBytes(8);
        // Bytes to bits
        var bits = [];
        for (var i = bytes.length; i; i -= 1) {
            var byte = bytes[i - 1];
            for (var j = 8; j; j -= 1) {
                bits.push(byte % 2 ? 1 : 0);
                byte = byte >> 1;
            }
        }
        bits.reverse();
        var str = bits.join('');
        // Unpack sign, exponent, fraction
        var bias = (1 << (ebits - 1)) - 1;
        var s = parseInt(str.substring(0, 1), 2) ? -1 : 1;
        var e = parseInt(str.substring(1, 1 + ebits), 2);
        var f = parseInt(str.substring(1 + ebits), 2);
        // Produce number
        if (e === (1 << ebits) - 1) {
            return f !== 0 ? NaN : s * Infinity;
        }
        else if (e > 0) {
            return s * Math.pow(2, e - bias) * (1 + f / Math.pow(2, fbits));
        }
        else if (f !== 0) {
            return s * Math.pow(2, -(bias - 1)) * (f / Math.pow(2, fbits));
        }
        else {
            return s * 0;
        }
    };
    AnnSerialize.prototype.readDoublePoint = function () {
        return { x: this.readDouble(), y: this.readDouble() };
    };
    AnnSerialize.prototype.readBytes = function (count) {
        if (count === void 0) { count = -1; }
        if (count === -1) {
            count = this.readInteger(4);
        }
        var bytes = [];
        var length = this.annData.length;
        for (var j = 0; j < count; j++) {
            bytes.push(this.annData[length + j - count]);
        }
        this.annData = this.annData.slice(0, length - count);
        return bytes;
    };
    AnnSerialize.prototype.writeBytes = function (bytes) {
        var length = bytes.length;
        this.writeInteger(length, 4);
        this.addToAnnDataHead(bytes);
        this.annString = this.byteArrayToHexString(bytes) + this.annString;
    };
    AnnSerialize.prototype.writeDouble = function (value) {
        var ebits = 11;
        var fbits = 52;
        var bias = (1 << (ebits - 1)) - 1;
        // Compute sign, exponent, fraction
        var s, e, f;
        if (isNaN(value)) {
            e = (1 << bias) - 1;
            f = 1;
            s = 0;
        }
        else if (value === Infinity || value === -Infinity) {
            e = (1 << bias) - 1;
            f = 0;
            s = (value < 0) ? 1 : 0;
        }
        else if (value === 0) {
            e = 0;
            f = 0;
            s = (1 / value === -Infinity) ? 1 : 0;
        }
        else {
            s = value < 0;
            value = Math.abs(value);
            if (value >= Math.pow(2, 1 - bias)) {
                var ln = Math.min(Math.floor(Math.log(value) / Math.LN2), bias);
                e = ln + bias;
                f = value * Math.pow(2, fbits - ln) - Math.pow(2, fbits);
            }
            else {
                e = 0;
                f = value / Math.pow(2, 1 - bias - fbits);
            }
        }
        // Pack sign, exponent, fraction
        var i, bits = [];
        for (i = fbits; i; i -= 1) {
            bits.push(f % 2 ? 1 : 0);
            f = Math.floor(f / 2);
        }
        for (i = ebits; i; i -= 1) {
            bits.push(e % 2 ? 1 : 0);
            e = Math.floor(e / 2);
        }
        bits.push(s ? 1 : 0);
        bits.reverse();
        var str = bits.join('');
        // Bits to bytes
        var bytes = [];
        while (str.length) {
            bytes.push(parseInt(str.substring(0, 8), 2));
            str = str.substring(8);
        }
        this.addToAnnDataHead(bytes);
        this.annString = this.byteArrayToHexString(bytes) + this.annString;
    };
    AnnSerialize.prototype.writeIntegerPoint = function (point) {
        this.writeInteger(point.x, 4);
        this.writeInteger(point.y, 4);
    };
    AnnSerialize.prototype.writeDoublePoint = function (point) {
        this.writeDouble(point.x);
        this.writeDouble(point.y);
    };
    AnnSerialize.prototype.writeInteger = function (value, bytes) {
        // Old image suite annotation save the number in integer. Need to round it.
        value = Math.round(value);
        var byteArray = [];
        for (var index = 0; index < bytes; index++) {
            var byte = value & 0xff;
            byteArray.unshift(byte);
            value = (value - byte) / 256;
        }
        this.addToAnnDataHead(byteArray);
        this.annString = this.byteArrayToHexString(byteArray) + this.annString;
    };
    AnnSerialize.prototype.writeString = function (str) {
        var length = str.length;
        this.writeInteger(length * 2, 4);
        for (var index = 0; index < length; index++) {
            this.writeInteger(str.charCodeAt(index), 2);
        }
    };
    AnnSerialize.prototype.byteArrayToHexString = function (byteArray) {
        var s = "";
        byteArray.forEach(function (byte) {
            s += ("0" + (byte & 0xFF).toString(16)).slice(-2);
        });
        return s;
    };
    AnnSerialize.prototype.addToAnnDataHead = function (byteArray) {
        var annData = new Uint8Array(this.annData.length + byteArray.length);
        annData.set(byteArray);
        annData.set(this.annData, byteArray.length);
        this.annData = annData;
    };
    AnnSerialize.prototype.loadBaseLine = function () {
        var annName = this.readString(); // CGXAnnLine
        var created = this.readInteger(4);
        var moving = this.readInteger(4);
        var selected = this.readInteger(1);
        var startPoint = this.readIntegerPoint();
        var endPoint = this.readIntegerPoint();
        return { startPoint: startPoint, endPoint: endPoint, selected: selected };
    };
    AnnSerialize.prototype.loadLine = function () {
        var annType = this.readInteger(4); // 33
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var config = this.loadBaseLine();
        return config;
    };
    AnnSerialize.prototype.loadArrow = function (loadArrowMark) {
        if (loadArrowMark === void 0) { loadArrowMark = true; }
        // CGXAnnArrowMark
        if (loadArrowMark) {
            var annType = this.readInteger(4); // 10
            var created = this.readInteger(4);
            var selected = this.readInteger(1);
        }
        // CGXAnnArrow
        var annName1 = this.readString();
        var created1 = this.readInteger(4);
        var selected1 = this.readInteger(1);
        var config = this.loadBaseLine();
        // The two small lines of the arrow will be created dynamically, read but ignore it
        this.loadBaseLine();
        this.loadBaseLine();
        return config;
    };
    AnnSerialize.prototype.loadBaseText = function () {
        var annName = this.readString(); // CGXAnnText
        var created = this.readInteger(4);
        var moving = this.readInteger(4);
        var selected = this.readInteger(1);
        var bottomRightPoint = this.readIntegerPoint();
        var topLeftPoint = this.readIntegerPoint();
        var text = this.readString();
        var isRotateCreated = this.readInteger(4);
        var rotateCreated = this.readInteger(4);
        var fontHeight = this.readInteger(4);
        return { topLeftPoint: topLeftPoint, bottomRightPoint: bottomRightPoint, text: text };
    };
    AnnSerialize.prototype.loadTextIndicator = function () {
        var annName = this.readString(); // CGXAnnLabel
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var arrow = this.loadArrow(false);
        var baseText = this.loadBaseText();
        return arrow;
    };
    AnnSerialize.prototype.loadBaseRectangle = function () {
        var annName = this.readString(); // CGXAnnRectangle
        var created = this.readInteger(4);
        var moving = this.readInteger(4);
        var selected = this.readInteger(1);
        var topLeftPoint = this.readIntegerPoint();
        var bottomRightPoint = this.readIntegerPoint();
        var topRightPoint = this.readIntegerPoint();
        var bottomLeftPoint = this.readIntegerPoint();
        return { topLeftPoint: topLeftPoint, width: bottomRightPoint.x - topLeftPoint.x, height: bottomRightPoint.y - topLeftPoint.y };
    };
    AnnSerialize.prototype.loadRectangle = function () {
        var annType = this.readInteger(4); // 2
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var baseRect = this.loadBaseRectangle();
        var textIndicator = this.loadTextIndicator();
        return { baseRect: baseRect, textIndicator: textIndicator, selected: selected };
    };
    AnnSerialize.prototype.loadPolygon = function () {
        var annType = this.readInteger(4); // 24
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var pointCount = this.readInteger(4);
        var lineCount = this.readInteger(4);
        var pointList = [];
        for (var i = 0; i < pointCount; i++) {
            pointList.push(this.readIntegerPoint());
        }
        for (var i = 0; i < lineCount; i++) {
            this.loadBaseLine();
        }
        var textIndicator = this.loadTextIndicator();
        return { pointList: pointList, textIndicator: textIndicator, selected: selected };
    };
    AnnSerialize.prototype.loadAngle = function () {
        var annType = this.readInteger(4); // 8
        var created = this.readInteger(4);
        var moving = this.readInteger(4);
        var selected = this.readInteger(1);
        var arcAndTextOnly = this.readInteger(1);
        var createState = this.readInteger(4);
        var angle = this.readDouble();
        for (var i = 0; i < 4; i++) {
            this.readIntegerPoint();
        }
        var lineList = [];
        for (var i = 0; i < 2; i++) {
            lineList.push(this.loadBaseLine());
        }
        var textIndicator = this.loadTextIndicator();
        return { lineList: lineList, textIndicator: textIndicator, selected: selected };
    };
    AnnSerialize.prototype.loadCurve = function () {
        var annType = this.readInteger(4); // 30
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var pointList = [];
        for (var i = 0; i < 3; i++) {
            pointList.push(this.readDoublePoint());
        }
        var textIndicator = this.loadTextIndicator();
        return { pointList: pointList, textIndicator: textIndicator, selected: selected };
    };
    AnnSerialize.prototype.loadImage = function () {
        var imageFileName = this.readString();
        var bytes = this.readBytes();
        var annType = this.readInteger(4); // 10
        var created = this.readInteger(4);
        var moving = this.readInteger(4);
        var selected = this.readInteger(1);
        var topLeftPoint = this.readIntegerPoint();
        var bottomRightPoint = this.readIntegerPoint();
        var isRotateCreated = this.readInteger(1);
        var rotateCreated = this.readInteger(4);
        return { imageFileName: imageFileName, topLeftPoint: topLeftPoint, bottomRightPoint: bottomRightPoint, selected: selected };
    };
    AnnSerialize.prototype.loadEllipse = function () {
        var width = this.readInteger(4);
        var height = this.readInteger(4);
        var selected = this.readInteger(1);
        var centerPoint = this.readIntegerPoint();
        var textIndicator = this.loadTextIndicator();
        var isRotateCreated = this.readInteger(1);
        var rotateCreated = this.readDouble();
        return { centerPoint: centerPoint, width: width, height: height, textIndicator: textIndicator, selected: selected };
    };
    AnnSerialize.prototype.loadRuler = function () {
        var annType = this.readInteger(4); // 7
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var line = this.loadBaseLine();
        this.loadBaseLine();
        this.loadBaseLine();
        var textIndicator = this.loadTextIndicator();
        return { startPoint: line.startPoint, endPoint: line.endPoint, textIndicator: textIndicator, selected: selected };
    };
    AnnSerialize.prototype.loadVerticalAxis = function () {
        var annType = this.readInteger(4); // 27
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var initRotateCount = this.readInteger(4);
        var line = this.loadBaseLine();
        return { startPoint: line.startPoint, endPoint: line.endPoint, selected: selected };
    };
    AnnSerialize.prototype.loadMarkSpot = function () {
        var annType = this.readInteger(4); // 36
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var count = this.readInteger(4);
        var pointList = [];
        for (var i = 0; i < count; i++) {
            pointList.push(this.readIntegerPoint());
        }
        return { pointList: pointList, selected: selected };
    };
    AnnSerialize.prototype.loadCardiothoracicRatio = function () {
        var annType = this.readInteger(4); // 12
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var lineList = [];
        for (var i = 0; i < 5; i++) {
            lineList.push(this.loadBaseLine());
        }
        var textIndicator = this.loadTextIndicator();
        return { lineList: lineList, textIndicator: textIndicator, selected: selected };
    };
    AnnSerialize.prototype.loadFreeArea = function () {
        var annType = this.readInteger(4); // 23
        var created = this.readInteger(4);
        var selected = this.readInteger(1);
        var pointCount = this.readInteger(4);
        var lineCount = this.readInteger(4);
        var pointList = [];
        for (var i = 0; i < pointCount; i++) {
            pointList.push(this.readIntegerPoint());
        }
        for (var i = 0; i < lineCount; i++) {
            this.loadBaseLine();
        }
        return { pointList: pointList, selected: selected };
    };
    AnnSerialize.prototype.loadTextMark = function () {
        var annType = this.readInteger(4); // 6
        var created = this.readInteger(4);
        var isActive = this.readInteger(4);
        var editCreated = this.readInteger(4);
        var state = this.readInteger(4);
        var selected = this.readInteger(1);
        var fontSize = this.readInteger(4);
        var basicText = this.loadBaseText();
        var position = { x: basicText.topLeftPoint.x, y: basicText.bottomRightPoint.y };
        return { position: position, text: basicText.text, fontSize: fontSize, selected: selected };
    };
    return AnnSerialize;
}());



/***/ }),

/***/ "./src/app/annotation/ann-tool.ts":
/*!****************************************!*\
  !*** ./src/app/annotation/ann-tool.ts ***!
  \****************************************/
/*! exports provided: AnnTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnTool", function() { return AnnTool; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/annotation */ "./src/app/models/annotation.ts");

var AnnTool = /** @class */ (function () {
    function AnnTool() {
    }
    AnnTool.screenToImage = function (point, transform) {
        var x = point.x;
        var y = point.y;
        var imgPt = [0, 0, 1];
        var a = x;
        var b = y;
        var n1 = transform[0][0];
        var n2 = transform[0][1];
        var n3 = transform[0][2];
        var n4 = transform[1][0];
        var n5 = transform[1][1];
        var n6 = transform[1][2];
        var t = a * n4 - n3 * n4 - b * n1 + n1 * n6;
        var t2 = n2 * n4 - n1 * n5;
        imgPt[1] = t / t2;
        t = b * n2 - n2 * n6 - a * n5 + n3 * n5;
        imgPt[0] = t / t2;
        return {
            x: imgPt[0],
            y: imgPt[1]
        };
    };
    AnnTool.imageToScreen = function (point, transform) {
        var x = point.x;
        var y = point.y;
        var imgPt = [x, y, 1];
        var screenPt = [0, 0, 1];
        screenPt[0] = transform[0][0] * imgPt[0] + transform[0][1] * imgPt[1] + transform[0][2] * imgPt[2];
        screenPt[1] = transform[1][0] * imgPt[0] + transform[1][1] * imgPt[1] + transform[1][2] * imgPt[2];
        return {
            x: screenPt[0],
            y: screenPt[1]
        };
    };
    AnnTool.imageToImage = function (sourcePoint, sourceTransform, destTransform) {
        var screenPoint = AnnTool.imageToScreen(sourcePoint, sourceTransform);
        return AnnTool.screenToImage(screenPoint, destTransform);
    };
    AnnTool.imageListToImageList = function (pointList, sourceTransform, destTransform) {
        var retList = [];
        for (var i = 0; i < pointList.length; i++) {
            retList.push(AnnTool.imageToImage(pointList[i], sourceTransform, destTransform));
        }
        return retList;
    };
    AnnTool.annLabelLayerToAnnLayer = function (point, imageViewer) {
        return AnnTool.imageToImage(point, imageViewer.getAnnLabelLayer().transform(), imageViewer.getImageLayer().transform());
    };
    AnnTool.annLayerToAnnLabelLayer = function (point, imageViewer) {
        return AnnTool.imageToImage(point, imageViewer.getImageLayer().transform(), imageViewer.getAnnLabelLayer().transform());
    };
    AnnTool.isJcanvasObject = function (obj) {
        if (!obj) {
            return false;
        }
        if (obj.optns) {
            return true;
        }
        return false;
    };
    AnnTool.countDistance = function (point1, point2) {
        var value = Math.pow((point1.x - point2.x), 2) + Math.pow((point1.y - point2.y), 2);
        value = Math.sqrt(value);
        return value;
    };
    AnnTool.countPhysicalDistance = function (point1, point2, pixelSpacing) {
        var phyDistX = Math.abs(point1.x - point2.x) * pixelSpacing.cx;
        var phyDistY = Math.abs(point1.y - point2.y) * pixelSpacing.cy;
        var value = Math.pow(phyDistX, 2) + Math.pow(phyDistY, 2);
        value = Math.sqrt(value);
        return value;
    };
    AnnTool.countTriangleArea = function (point1, point2, point3) {
        return (point2.x * point3.y +
            point1.x * point2.y +
            point1.y * point3.x -
            point1.y * point2.x -
            point2.y * point3.x -
            point1.x * point3.y) / 2.0;
    };
    AnnTool.countTrianglePhysicalArea = function (point1, point2, point3, pixelSpacing) {
        return AnnTool.countTriangleArea(point1, point2, point3) * pixelSpacing.cx * pixelSpacing.cy;
    };
    AnnTool.getSineTheta = function (pt1, pt2) {
        var distance = AnnTool.countDistance(pt1, pt2);
        if (Math.abs(distance) < AnnTool.minDelta) {
            return 0.0;
        }
        else {
            var sineTheta = -(Math.abs(pt1.y - pt2.y)) / distance;
            return (pt1.y > pt2.y) ? sineTheta : -sineTheta;
        }
    };
    AnnTool.getCosineTheta = function (pt1, pt2) {
        var distance = AnnTool.countDistance(pt1, pt2);
        if (Math.abs(distance) < AnnTool.minDelta) {
            return 0.0;
        }
        else {
            var cosineTheta = (Math.abs(pt1.x - pt2.x)) / distance;
            return (pt1.x < pt2.x) ? cosineTheta : -cosineTheta;
        }
    };
    AnnTool.multiplyPointM = function (x, y, m) {
        return {
            x: (x * m[0][0] + y * m[0][1] + m[0][2]),
            y: (x * m[1][0] + y * m[1][1] + m[1][2])
        };
    };
    AnnTool.equalPoint = function (p1, p2) {
        return Math.abs(p1.x - p2.x) < 0.0001 && Math.abs(p1.y - p2.y) < 0.0001;
    };
    AnnTool.pointListFromRect = function (rect) {
        var retPointList = [];
        retPointList.push({ x: rect.x, y: rect.y });
        retPointList.push({ x: rect.x + rect.width, y: rect.y });
        retPointList.push({ x: rect.x + rect.width, y: rect.y + rect.height });
        retPointList.push({ x: rect.x, y: rect.y + rect.height });
        return retPointList;
    };
    AnnTool.pointListFromEllipse = function (centerPoint, width, height) {
        var retPointList = [];
        retPointList.push({ x: centerPoint.x, y: centerPoint.y - height });
        retPointList.push({ x: centerPoint.x + width, y: centerPoint.y });
        retPointList.push({ x: centerPoint.x, y: centerPoint.y + height });
        retPointList.push({ x: centerPoint.x - width, y: centerPoint.y });
        return retPointList;
    };
    AnnTool.pointListFrom = function (point, posInRect, width, height) {
        var retPointList = [];
        if (posInRect === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].TopLeft) {
            retPointList.push({ x: point.x, y: point.y });
            retPointList.push({ x: point.x + width, y: point.y });
            retPointList.push({ x: point.x + width, y: point.y + height });
            retPointList.push({ x: point.x, y: point.y + height });
        }
        else if (posInRect === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].TopRight) {
            retPointList.push({ x: point.x - width, y: point.y });
            retPointList.push({ x: point.x, y: point.y });
            retPointList.push({ x: point.x, y: point.y + height });
            retPointList.push({ x: point.x - width, y: point.y + height });
        }
        else if (posInRect === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].BottomRight) {
            retPointList.push({ x: point.x - width, y: point.y - height });
            retPointList.push({ x: point.x, y: point.y - height });
            retPointList.push({ x: point.x, y: point.y });
            retPointList.push({ x: point.x - width, y: point.y });
        }
        else if (posInRect === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].BottomLeft) {
            retPointList.push({ x: point.x, y: point.y - height });
            retPointList.push({ x: point.x + width, y: point.y - height });
            retPointList.push({ x: point.x + width, y: point.y });
            retPointList.push({ x: point.x, y: point.y });
        }
        return retPointList;
    };
    AnnTool.centerPoint = function (point1, point2) {
        return { x: (point1.x + point2.x) / 2.0, y: (point1.y + point2.y) / 2.0 };
    };
    AnnTool.calcLineAngle = function (point1, point2) {
        var dwSin = AnnTool.getSineTheta(point1, point2);
        var dwCos = AnnTool.getCosineTheta(point1, point2);
        var dwTheta;
        if (dwSin >= 0 && dwCos >= 0) {
            dwTheta = Math.asin(Math.abs(dwSin));
        }
        else if (dwSin >= 0 && dwCos < 0) {
            dwTheta = Math.asin(Math.abs(dwSin));
            dwTheta = Math.PI - dwTheta;
        }
        else if (dwSin < 0 && dwCos <= 0) {
            dwTheta = Math.asin(Math.abs(dwSin));
            dwTheta = Math.PI + dwTheta;
        }
        else {
            dwTheta = Math.asin(Math.abs(dwSin));
            dwTheta = Math.PI * 2 - dwTheta;
        }
        if (180.0 / Math.PI * dwTheta > 360) {
            return 180.0 / Math.PI * dwTheta - 360;
        }
        return 180.0 / Math.PI * dwTheta;
    };
    AnnTool.pointInRect = function (point, rect) {
        var startX = Math.min(rect.x, rect.x + rect.width);
        var endX = Math.max(rect.x, rect.x + rect.width);
        var startY = Math.min(rect.y, rect.y + rect.height);
        var endY = Math.max(rect.y, rect.y + rect.height);
        return startX <= point.x && point.x <= endX && startY <= point.y && point.y <= endY;
    };
    AnnTool.pointInLine = function (point, lineStartPoint, lineEndPoint) {
        var lenToStart = AnnTool.countDistance(point, lineStartPoint);
        var lenToEnd = AnnTool.countDistance(point, lineEndPoint);
        var length = AnnTool.countDistance(lineStartPoint, lineEndPoint);
        var lenDelta = lenToStart + lenToEnd - length;
        return { isInLine: lenDelta < 0.01, nearStart: lenToStart < lenToEnd };
    };
    AnnTool.calcFootPoint = function (point1, point2, pointDrag) {
        var dSinB = AnnTool.getSineTheta(point1, point2);
        var dCosB = AnnTool.getCosineTheta(point1, point2);
        var dSinC = AnnTool.getSineTheta(point1, pointDrag);
        var dCosC = AnnTool.getCosineTheta(point1, pointDrag);
        var dCosBsubC = dCosB * dCosC + dSinB * dSinC; // Cos(B-C)
        var dLineAC = AnnTool.countDistance(point1, pointDrag);
        var dLineAM = dLineAC * dCosBsubC;
        return { x: point1.x + dLineAM * dCosB, y: point1.y + dLineAM * dSinB };
    };
    AnnTool.formatRect = function (rect) {
        // Format the rect to make sure that both width and height are positive
        if (rect.width < 0) {
            rect.x += rect.width;
            rect.width = -rect.width;
        }
        if (rect.height < 0) {
            rect.y += rect.height;
            rect.height = -rect.height;
        }
        return rect;
    };
    AnnTool.pointInLineByDistance = function (lineStartPoint, lineEndPoint, distanceToStart) {
        var lineDistance = AnnTool.countDistance(lineStartPoint, lineEndPoint);
        var lineRatio = distanceToStart / lineDistance;
        var x = (lineEndPoint.x - lineStartPoint.x) * lineRatio + lineStartPoint.x;
        var y = (lineEndPoint.y - lineStartPoint.y) * lineRatio + lineStartPoint.y;
        return { x: x, y: y };
    };
    // Calculate the middle point of the curve (The curve is determined by start/end point and its radius, default direction is left or up)
    AnnTool.calcMiddlePointOfArc = function (startPoint, endPoint, radius) {
        var pointDir = { x: 1, y: 1 };
        var centerPoint = AnnTool.centerPoint(startPoint, endPoint);
        var dSinAB = AnnTool.getSineTheta(startPoint, endPoint);
        var dCosAB = AnnTool.getCosineTheta(startPoint, endPoint);
        var dLineAD = AnnTool.countDistance(startPoint, centerPoint);
        var ptO1 = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        var ptO2 = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        //get the two center ponints.
        //check if the arc is almost 180, if true, lineAd is the radius
        if (Math.abs(dLineAD - radius) < AnnTool.minDelta || radius < dLineAD) {
            ptO1.x = ptO2.x = centerPoint.x;
            ptO1.y = ptO2.y = centerPoint.y;
        }
        else {
            var dLineOD = Math.sqrt(Math.abs(radius * radius - dLineAD * dLineAD));
            ptO1.x = centerPoint.x + dLineOD * dSinAB;
            ptO1.y = centerPoint.y - dLineOD * dCosAB;
            ptO2.x = centerPoint.x - dLineOD * dSinAB;
            ptO2.y = centerPoint.y + dLineOD * dCosAB;
        }
        var dSinBA = AnnTool.getSineTheta(endPoint, startPoint), dCosBA = AnnTool.getCosineTheta(endPoint, startPoint), dSinBC = AnnTool.getSineTheta(endPoint, pointDir), dCosBC = AnnTool.getCosineTheta(endPoint, pointDir);
        //determine the center point
        var middlePoint = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        var dSinBC_BA = dSinBC * dCosBA - dCosBC * dSinBA;
        if (dSinBC_BA < 0.0) {
            middlePoint.x = ptO1.x - radius * dSinAB;
            middlePoint.y = ptO1.y + radius * dCosAB;
        }
        else {
            middlePoint.x = ptO2.x + radius * dSinAB;
            middlePoint.y = ptO2.y - radius * dCosAB;
        }
        return middlePoint;
    };
    // Calculate the center point of the curve ( The curve is determined by three points )
    AnnTool.calcCenterBy3Points = function (startPoint, endPoint, middlePoint) {
        var isInvalid = false;
        var needRevert = false;
        // D and E is center point of Line AB and Line BC
        var ptD = AnnTool.centerPoint(startPoint, endPoint);
        var ptE = AnnTool.centerPoint(endPoint, middlePoint);
        // k of Line OD and Line OE
        // O is center point of arc
        //
        var dkOD = -(endPoint.x - startPoint.x) / (endPoint.y - startPoint.y);
        var dkOE = -(middlePoint.x - endPoint.x) / (middlePoint.y - endPoint.y);
        var centerPoint = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        if (Math.abs(middlePoint.y - endPoint.y) < AnnTool.minDelta) {
            centerPoint.x = ptE.x;
            centerPoint.y = (ptE.x - ptD.x) * dkOD + ptD.y;
        }
        else if (Math.abs(endPoint.y - startPoint.y) < AnnTool.minDelta) {
            centerPoint.x = ptD.x;
            centerPoint.y = (ptD.x - ptE.x) * dkOE + ptE.y;
        }
        else if (Math.abs(middlePoint.x - endPoint.x) < AnnTool.minDelta) {
            centerPoint.y = ptE.y;
            centerPoint.x = (ptE.y - ptD.y) / dkOD + ptD.x;
        }
        else if (Math.abs(endPoint.x - startPoint.x) < AnnTool.minDelta) {
            centerPoint.y = ptD.y;
            centerPoint.x = (ptD.y - ptE.y) / dkOE + ptE.x;
        }
        else {
            centerPoint.x = (ptE.y - ptD.y - (ptE.x * dkOE) + (ptD.x * dkOD)) / (dkOD - dkOE);
            centerPoint.y = ptD.y + dkOD * (centerPoint.x - ptD.x);
        }
        // Analysis Start Point and End point
        // Arc() always draw arc in a Clockwise
        //
        var dSinBA = AnnTool.getSineTheta(endPoint, startPoint), dCosBA = AnnTool.getCosineTheta(endPoint, startPoint), dSinBC = AnnTool.getSineTheta(endPoint, middlePoint), dCosBC = AnnTool.getCosineTheta(endPoint, middlePoint);
        var dSinBC_BA = dSinBC * dCosBA - dCosBC * dSinBA;
        // Check Arc angle
        //
        var dSinOA = AnnTool.getSineTheta(centerPoint, startPoint), dCosOA = AnnTool.getCosineTheta(centerPoint, startPoint), dSinOB = AnnTool.getSineTheta(centerPoint, endPoint), dCosOB = AnnTool.getCosineTheta(centerPoint, endPoint);
        var dSinArc = dSinOA * dCosOB - dCosOA * dSinOB;
        if (dSinBC_BA > 0.0) {
            dSinArc = (-1.0) * dSinArc;
        }
        if (dSinArc < 0.0) {
            isInvalid = true;
        }
        //need to revert start and end.
        if (dSinBC_BA > 0.0) {
            needRevert = true;
        }
        return { centerPoint: centerPoint, isInvalid: isInvalid, needRevert: needRevert };
    };
    // Calculate all necessary information of a curve
    AnnTool.calcArcBy3Points = function (startPoint, endPoint, middlePoint, needCheckArc) {
        var arcData = AnnTool.calcCenterBy3Points(startPoint, endPoint, middlePoint);
        if (needCheckArc && arcData.isInvalid)
            return false; //user may drag the point out of range
        var radius = AnnTool.countDistance(arcData.centerPoint, startPoint);
        var dSinAB = AnnTool.getSineTheta(startPoint, endPoint);
        var dCosAB = AnnTool.getCosineTheta(startPoint, endPoint);
        if (arcData.needRevert) {
            middlePoint.x = arcData.centerPoint.x + radius * dSinAB;
            middlePoint.y = arcData.centerPoint.y - radius * dCosAB;
        }
        else {
            middlePoint.x = arcData.centerPoint.x - radius * dSinAB;
            middlePoint.y = arcData.centerPoint.y + radius * dCosAB;
        }
        var arcStart = AnnTool.calcLineAngle(arcData.centerPoint, startPoint);
        var arcEnd = AnnTool.calcLineAngle(arcData.centerPoint, endPoint);
        if (arcEnd < arcStart) {
            arcEnd = arcEnd + 360.0;
        }
        return {
            centerPoint: arcData.centerPoint,
            startPoint: startPoint,
            endPoint: endPoint,
            middlePoint: middlePoint,
            radius: radius,
            startAngle: arcStart,
            endAngle: arcEnd,
            anticlockwise: !arcData.needRevert
        };
    };
    AnnTool.minDelta = 0.0000000001;
    return AnnTool;
}());



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-circle.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-circle.ts ***!
  \***********************************************************/
/*! exports provided: AnnBaseCircle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseCircle", function() { return AnnBaseCircle; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseCircle = /** @class */ (function (_super) {
    __extends(AnnBaseCircle, _super);
    function AnnBaseCircle(parentObj, center, radius, imageViewer, fill) {
        if (fill === void 0) { fill = false; }
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.fill = fill;
        _this.jcObj = jCanvaScript.circle(center.x, center.y, radius, _this.selectedColor, fill).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        _this.jcObj.mouseStyle = "crosshair";
        return _this;
    }
    return AnnBaseCircle;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-curve.ts":
/*!**********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-curve.ts ***!
  \**********************************************************/
/*! exports provided: AnnBaseCurve */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseCurve", function() { return AnnBaseCurve; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseCurve = /** @class */ (function (_super) {
    __extends(AnnBaseCurve, _super);
    function AnnBaseCurve(parentObj, center, radius, startAngle, endAngle, anticlockwise, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.jcObj = jCanvaScript.arc(center.x, center.y, radius, startAngle, endAngle, anticlockwise, _this.selectedColor).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseCurve.prototype.setAngle = function (startAngle, endAngle) {
        this.jcObj._startAngle = startAngle;
        this.jcObj._endAngle = endAngle;
    };
    AnnBaseCurve.prototype.setAnticlockwise = function (anticlockwise) {
        this.jcObj._anticlockwise = anticlockwise;
    };
    AnnBaseCurve.prototype.getAngle = function () {
        var arcAngle = this.jcObj._endAngle - this.jcObj._startAngle;
        if (arcAngle > 180) {
            arcAngle = 360 - arcAngle;
        }
        return arcAngle;
    };
    AnnBaseCurve.prototype.getText = function (angleOnly) {
        if (angleOnly === void 0) { angleOnly = false; }
        var arcAngle = this.getAngle();
        var angleText = arcAngle.toFixed(2) + "\xb0";
        if (angleOnly) {
            return angleText;
        }
        // Display radius, not the length of the arc
        //const arcLength = Math.PI * this.jcObj._radius * arcAngle / 180;
        var text;
        if (this.pixelSpacing) {
            text = (this.jcObj._radius * this.pixelSpacing.cx).toFixed(2) + "mm";
        }
        else {
            text = this.jcObj._radius.toFixed(2) + "pt";
        }
        text += " " + angleText;
        return text;
    };
    return AnnBaseCurve;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-ellipse.ts":
/*!************************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-ellipse.ts ***!
  \************************************************************/
/*! exports provided: AnnBaseEllipse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseEllipse", function() { return AnnBaseEllipse; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseEllipse = /** @class */ (function (_super) {
    __extends(AnnBaseEllipse, _super);
    function AnnBaseEllipse(parentObj, center, width, height, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.jcObj = jCanvaScript.ellipse(center.x, center.y, Math.abs(width), Math.abs(height), _this.selectedColor).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseEllipse.prototype.setWidth = function (width) {
        this.jcObj._width = Math.abs(width);
        this.checkCircle();
    };
    AnnBaseEllipse.prototype.setHeight = function (height) {
        this.jcObj._height = Math.abs(height);
        this.checkCircle();
    };
    AnnBaseEllipse.prototype.checkCircle = function () {
        var isCircle = Math.round(this.getWidth()) === Math.round(this.getHeight());
        this.jcObj.color(isCircle ? "#F00" : this.selectedColor);
    };
    AnnBaseEllipse.prototype.getAreaString = function () {
        var width = this.getWidth();
        var height = this.getHeight();
        var area = Math.abs(width * height) * Math.PI;
        var areaString = "Size = ";
        if (this.pixelSpacing) {
            areaString += (area * this.pixelSpacing.cx * this.pixelSpacing.cy).toFixed(2) + "mm";
        }
        else {
            areaString += area.toFixed(2) + "pt";
        }
        areaString += "\xb2";
        return areaString;
    };
    return AnnBaseEllipse;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-graphic-overlay.ts":
/*!********************************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-graphic-overlay.ts ***!
  \********************************************************************/
/*! exports provided: AnnBaseGraphicOverlay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseGraphicOverlay", function() { return AnnBaseGraphicOverlay; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseGraphicOverlay = /** @class */ (function (_super) {
    __extends(AnnBaseGraphicOverlay, _super);
    function AnnBaseGraphicOverlay(parentObj, graphicOverlayData, imageViewer, layerId) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.hFlipped = false;
        _this.vFlipped = false;
        _this.graphicOverlayData = graphicOverlayData;
        _this.graphicOverlayCanvas = document.createElement("canvas");
        _this.graphicOverlayCanvas.width = _this.image.width();
        _this.graphicOverlayCanvas.height = _this.image.height();
        _this.ctx = _this.graphicOverlayCanvas.getContext("2d");
        _this.draw();
        _this.jcObj = jCanvaScript.image(_this.graphicOverlayCanvas).layer(layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////s
    // Override functions of base class
    AnnBaseGraphicOverlay.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.vFlipped = !this.vFlipped;
        }
        else {
            this.hFlipped = !this.hFlipped;
        }
        this.draw();
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseGraphicOverlay.prototype.onReset = function () {
        this.vFlipped = false;
        this.hFlipped = false;
        this.draw();
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnBaseGraphicOverlay.prototype.draw = function () {
        var _this = this;
        var imageWidth = this.image.width();
        var imageHeight = this.image.height();
        this.ctx.clearRect(0, 0, imageWidth, imageHeight);
        this.ctx.beginPath();
        this.graphicOverlayData.dataList.forEach(function (data) {
            _this.ctx.rect(_this.hFlipped ? imageWidth - data.x : data.x, _this.vFlipped ? imageHeight - data.y : data.y, 1, 1);
        });
        this.ctx.strokeStyle = this.selectedColor;
        this.ctx.stroke();
    };
    return AnnBaseGraphicOverlay;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-image.ts":
/*!**********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-image.ts ***!
  \**********************************************************/
/*! exports provided: AnnBaseImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseImage", function() { return AnnBaseImage; });
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnBaseImage = /** @class */ (function (_super) {
    __extends(AnnBaseImage, _super);
    function AnnBaseImage(parentObj, imageData, startPoint, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        var scale = _this.image.getScaleValue();
        var width = imageData.width / scale;
        var height = imageData.height / scale;
        _this.jcObj = jCanvaScript.image(imageData, startPoint.x, startPoint.y, width, height).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseImage.prototype.onSelect = function (selected, focused) {
        this.selected = selected;
    };
    AnnBaseImage.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.jcObj._y = this.image.height() - this.jcObj._y - this.jcObj._height;
        }
        else {
            this.jcObj._x = this.image.width() - this.jcObj._x - this.jcObj._width;
        }
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseImage.prototype.setImage = function (imageData) {
        this.jcObj._img = imageData;
    };
    return AnnBaseImage;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_0__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-line.ts":
/*!*********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-line.ts ***!
  \*********************************************************/
/*! exports provided: AnnBaseLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseLine", function() { return AnnBaseLine; });
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var AnnBaseLine = /** @class */ (function (_super) {
    __extends(AnnBaseLine, _super);
    function AnnBaseLine(parentObj, startPoint, endPoint, imageViewer, annSerialize) {
        if (annSerialize === void 0) { annSerialize = undefined; }
        var _this = _super.call(this, parentObj, imageViewer) || this;
        if (annSerialize) {
            var config = annSerialize.loadBaseLine();
            startPoint = config.startPoint;
            endPoint = config.endPoint;
        }
        _this.jcObj = jCanvaScript.line([[startPoint.x, startPoint.y], [endPoint.x, endPoint.y]], _this.selectedColor).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseLine.prototype.onSave = function (annSerialize) {
        annSerialize.writeString("CGXAnnLine");
        annSerialize.writeInteger(1, 4);
        annSerialize.writeInteger(0, 4);
        annSerialize.writeInteger(this.selected ? 1 : 0, 1);
        annSerialize.writeIntegerPoint(this.getStartPosition());
        annSerialize.writeIntegerPoint(this.getEndPosition());
    };
    AnnBaseLine.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.jcObj._y0 = this.image.height() - this.jcObj._y0;
            this.jcObj._y1 = this.image.height() - this.jcObj._y1;
        }
        else {
            this.jcObj._x0 = this.image.width() - this.jcObj._x0;
            this.jcObj._x1 = this.image.width() - this.jcObj._x1;
        }
    };
    AnnBaseLine.prototype.onTranslate = function (deltaX, deltaY) {
        this.jcObj._x0 += deltaX;
        this.jcObj._y0 += deltaY;
        this.jcObj._x1 += deltaX;
        this.jcObj._y1 += deltaY;
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseLine.prototype.onMoveStartPoint = function (point) {
        this.jcObj._x0 = point.x;
        this.jcObj._y0 = point.y;
    };
    AnnBaseLine.prototype.onMoveEndPoint = function (point) {
        this.jcObj._x1 = point.x;
        this.jcObj._y1 = point.y;
    };
    AnnBaseLine.prototype.getStartPosition = function () {
        return { x: this.jcObj._x0, y: this.jcObj._y0 };
    };
    AnnBaseLine.prototype.getEndPosition = function () {
        return { x: this.jcObj._x1, y: this.jcObj._y1 };
    };
    AnnBaseLine.prototype.getLengthInPixel = function () {
        return _ann_tool__WEBPACK_IMPORTED_MODULE_0__["AnnTool"].countDistance(this.getStartPosition(), this.getEndPosition());
    };
    return AnnBaseLine;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_1__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-object.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-object.ts ***!
  \***********************************************************/
/*! exports provided: AnnBaseObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseObject", function() { return AnnBaseObject; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-object */ "./src/app/annotation/ann-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var AnnBaseObject = /** @class */ (function (_super) {
    __extends(AnnBaseObject, _super);
    function AnnBaseObject(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        if (parentObj) {
            parentObj.onChildCreated(_this);
        }
        return _this;
    }
    AnnBaseObject.prototype.setJcObj = function () {
        if (this.jcObj) {
            this.jcObj._lineWidth = this.lineWidth;
            this.jcObj.mouseStyle = "move";
            this.jcObj.parentObj = this;
        }
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseObject.prototype.onDrag = function (deltaX, deltaY) {
        this.onTranslate(deltaX, deltaY);
    };
    AnnBaseObject.prototype.onSelect = function (selected, focused) {
        this.selected = selected;
        var color = selected ? this.selectedColor : this.defaultColor;
        if (focused && !this.focusedObj) {
            this.focusedObj = this.jcObj;
        }
        this.jcObj.color(color);
    };
    AnnBaseObject.prototype.onDrawEnded = function () {
        if (this.mouseResponsible) {
            this.setChildDraggable(this, this.jcObj, true);
            this.setChildMouseEvent(this, this.jcObj);
        }
    };
    AnnBaseObject.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            this.onChildSelected(mouseObj);
        }
    };
    AnnBaseObject.prototype.onScale = function () {
        this.jcObj._lineWidth = this.parentObj.getLineWidth();
    };
    AnnBaseObject.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.jcObj._y = this.image.height() - this.jcObj._y;
        }
        else {
            this.jcObj._x = this.image.width() - this.jcObj._x;
        }
    };
    AnnBaseObject.prototype.onTranslate = function (deltaX, deltaY) {
        this.jcObj._x += deltaX;
        this.jcObj._y += deltaY;
    };
    AnnBaseObject.prototype.onMove = function (point) {
        this.jcObj._x = point.x;
        this.jcObj._y = point.y;
    };
    AnnBaseObject.prototype.onRotate = function (angle) {
        // For annotation drawn on the ann layer, nothing need to do for rotating,
        // because the ann layer and the image layer are binded.
    };
    AnnBaseObject.prototype.onDeleteChildren = function () {
        this.deleteObject(this.jcObj);
    };
    AnnBaseObject.prototype.getPosition = function () {
        return { x: this.jcObj._x, y: this.jcObj._y };
    };
    AnnBaseObject.prototype.getRadius = function () {
        return this.jcObj._radius;
    };
    AnnBaseObject.prototype.setRadius = function (radius) {
        this.jcObj._radius = radius;
    };
    AnnBaseObject.prototype.getWidth = function () {
        return this.jcObj._width;
    };
    AnnBaseObject.prototype.setWidth = function (width) {
        this.jcObj._width = width;
    };
    AnnBaseObject.prototype.getHeight = function () {
        return this.jcObj._height;
    };
    AnnBaseObject.prototype.setHeight = function (height) {
        this.jcObj._height = height;
    };
    AnnBaseObject.prototype.setColor = function (color) {
        this.jcObj.color(color);
    };
    AnnBaseObject.prototype.setVisible = function (visible) {
        this.jcObj.visible(visible);
    };
    AnnBaseObject.prototype.setTransparent = function (transparent) {
        this.defaultColor = transparent ? "rgba(0,0,0,0)" : "#FFF";
    };
    AnnBaseObject.prototype.onLevelUp = function (level) {
        if (level === void 0) { level = 1; }
        if (this.jcObj) {
            this.jcObj.up(level);
        }
    };
    AnnBaseObject.prototype.onLevelDown = function (level) {
        if (level === void 0) { level = 1; }
        if (this.jcObj) {
            this.jcObj.down(level);
        }
    };
    AnnBaseObject.prototype.getSurroundPointList = function () {
        return [];
    };
    AnnBaseObject.prototype.getRect = function () {
        return this.jcObj.getRect("poor");
    };
    AnnBaseObject.prototype.onChildCreated = function (annChildObj) {
        alert("Internal error : AnnBaseObject.onChildCreated() should never be called.");
    };
    AnnBaseObject.prototype.onDeleteChild = function (annChildObj) {
        alert("Internal error : AnnBaseObject.onDeleteChild() should never be called.");
    };
    AnnBaseObject.prototype.onLoad = function (annSerialize) {
        alert("Internal error : AnnBaseObject.onLoad() should never be called.");
        return undefined;
    };
    AnnBaseObject.prototype.onSave = function (annSerialize) {
        alert("Internal error : AnnBaseObject.onSave() should never be called.");
    };
    AnnBaseObject.prototype.onDragStarted = function (pos) {
    };
    AnnBaseObject.prototype.onDragEnded = function (pos) {
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseObject.prototype.saveBasicInfo = function (annSerialize, annotationDefinitionData) {
        annSerialize.writeString(annotationDefinitionData.imageSuiteAnnName);
        annSerialize.writeInteger(annotationDefinitionData.imageSuiteAnnType, 4); // AnnType
        annSerialize.writeInteger(1, 4); // created
        annSerialize.writeInteger(this.selected ? 1 : 0, 1); // selected
    };
    return AnnBaseObject;
}(_ann_object__WEBPACK_IMPORTED_MODULE_1__["AnnObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-polygon.ts":
/*!************************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-polygon.ts ***!
  \************************************************************/
/*! exports provided: AnnBasePolygon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBasePolygon", function() { return AnnBasePolygon; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var AnnBasePolygon = /** @class */ (function (_super) {
    __extends(AnnBasePolygon, _super);
    function AnnBasePolygon(parentObj, pointList, imageViewer, freeArea) {
        if (freeArea === void 0) { freeArea = false; }
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.freeArea = freeArea;
        _this.jcObj = jCanvaScript.lines(pointList, _this.selectedColor).layer(_this.layerId);
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBasePolygon.prototype.onSave = function (annSerialize) {
        var points = this.jcObj.points();
        var length = points.length;
        annSerialize.writeInteger(length, 4);
        annSerialize.writeInteger(length, 4);
        for (var i = 0; i < length; i++) {
            annSerialize.writeInteger(points[i][0], 4);
            annSerialize.writeInteger(points[i][1], 4);
        }
        for (var i = 0; i < length; i++) {
            annSerialize.writeString("CGXAnnLine"); // CGXAnnLine
            annSerialize.writeInteger(1, 4);
            annSerialize.writeInteger(0, 4);
            annSerialize.writeInteger(0, 1);
            if (i !== length - 1) {
                annSerialize.writeInteger(points[i][0], 4);
                annSerialize.writeInteger(points[i][1], 4);
                annSerialize.writeInteger(points[i + 1][0], 4);
                annSerialize.writeInteger(points[i + 1][1], 4);
            }
            else {
                annSerialize.writeInteger(points[0][0], 4);
                annSerialize.writeInteger(points[0][1], 4);
                annSerialize.writeInteger(points[length - 1][0], 4);
                annSerialize.writeInteger(points[length - 1][1], 4);
            }
        }
    };
    AnnBasePolygon.prototype.onFlip = function (vertical) {
        var points = this.jcObj.points();
        if (vertical) {
            var height_1 = this.image.height();
            points.forEach(function (point) {
                point[1] = height_1 - point[1];
            });
        }
        else {
            var width_1 = this.image.width();
            points.forEach(function (point) {
                point[0] = width_1 - point[0];
            });
        }
        this.jcObj.points(points);
    };
    AnnBasePolygon.prototype.onTranslate = function (deltaX, deltaY) {
        var points = this.jcObj.points();
        points.forEach(function (point) {
            point[0] += deltaX;
            point[1] += deltaY;
        });
        this.jcObj.points(points);
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBasePolygon.prototype.setClosed = function (closed) {
        this.jcObj._closed = closed;
    };
    AnnBasePolygon.prototype.addPoint = function (point) {
        this.jcObj.addPoint(point.x, point.y);
    };
    AnnBasePolygon.prototype.deletePoint = function (point) {
        this.jcObj.delPoint(point.x, point.y, 1);
    };
    AnnBasePolygon.prototype.updateLastPoint = function (point) {
        this.updatePoint(this.jcObj.points().length - 1, point);
    };
    AnnBasePolygon.prototype.updatePoint = function (index, point) {
        var points = this.jcObj.points();
        if (index >= points.length || index < 0) {
            alert("Internal error, invalid index in AnnBasePolygon.updatePoint()");
            return;
        }
        points[index][0] = point.x;
        points[index][1] = point.y;
        this.jcObj.points(points);
    };
    AnnBasePolygon.prototype.getAreaString = function () {
        var areaString = "Size = ";
        var originalPoint = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        var points = this.jcObj.points();
        var length = points.length;
        var area = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countTriangleArea(originalPoint, new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](points[length - 1][0], points[length - 1][1]), new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](points[0][0], points[0][1]));
        for (var i = 1; i < length; i++) {
            area += _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countTriangleArea(originalPoint, new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](points[i - 1][0], points[i - 1][1]), new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](points[i][0], points[i][1]));
        }
        area = Math.abs(area);
        if (this.pixelSpacing) {
            areaString += (area * this.pixelSpacing.cx * this.pixelSpacing.cy).toFixed(2) + "mm";
        }
        else {
            areaString += area.toFixed(2) + "pt";
        }
        areaString += "\xb2";
        return areaString;
    };
    AnnBasePolygon.prototype.setPointList = function (pointList) {
        this.jcObj.points(pointList);
    };
    return AnnBasePolygon;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_2__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-rectangle.ts":
/*!**************************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-rectangle.ts ***!
  \**************************************************************/
/*! exports provided: AnnBaseRectangle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseRectangle", function() { return AnnBaseRectangle; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var AnnBaseRectangle = /** @class */ (function (_super) {
    __extends(AnnBaseRectangle, _super);
    function AnnBaseRectangle(parentObj, topLeft, width, height, imageViewer, forText) {
        if (forText === void 0) { forText = false; }
        var _this = 
        // AnnBaseRectangle can be used either for AnnRectangle which is in annotation layer, or for AnnText which is in label layer
        _super.call(this, parentObj, imageViewer) || this;
        // Set layer based on its usage
        _this.forText = forText;
        _this.jcObj = jCanvaScript.rect(topLeft.x, topLeft.y, width, height, _this.selectedColor).layer(forText ? _this.labelLayerId : _this.layerId);
        _super.prototype.setJcObj.call(_this);
        _this.setTransparent(forText);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseRectangle.prototype.onSave = function (annSerialize) {
        annSerialize.writeString("CGXAnnRectangle");
        annSerialize.writeInteger(1, 4);
        annSerialize.writeInteger(0, 4);
        annSerialize.writeInteger(0, 1);
        var topLeftPoint = this.getPosition();
        var rect = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Rectangle"](topLeftPoint.x, topLeftPoint.y, this.getWidth(), this.getHeight());
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointListFromRect(rect);
        annSerialize.writeIntegerPoint(pointList[0]); // top left
        annSerialize.writeIntegerPoint(pointList[2]); // bottom right
        annSerialize.writeIntegerPoint(pointList[1]); // top right
        annSerialize.writeIntegerPoint(pointList[3]); // bottom left
    };
    AnnBaseRectangle.prototype.onFlip = function (vertical) {
        if (vertical) {
            this.jcObj._y = this.image.height() - this.jcObj._y;
            this.jcObj._height = -this.jcObj._height;
        }
        else {
            this.jcObj._x = this.image.width() - this.jcObj._x;
            this.jcObj._width = -this.jcObj._width;
        }
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseRectangle.prototype.getSurroundPointList = function () {
        var rect = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Rectangle"](this.jcObj._x, this.jcObj._y, this.jcObj._width, this.jcObj._height);
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointListFromRect(rect);
        return this.forText
            ? _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].imageListToImageList(pointList, this.imageViewer.getAnnLabelLayer().transform(), this.imageViewer.getImageLayer().transform())
            : pointList;
    };
    AnnBaseRectangle.prototype.redraw = function (rect) {
        this.onMove({ x: rect.x, y: rect.y });
        this.setWidth(rect.width);
        this.setHeight(rect.height);
    };
    AnnBaseRectangle.prototype.getAreaString = function () {
        var width = this.getWidth();
        var height = this.getHeight();
        var area = Math.abs(width * height);
        var areaString = "Size = ";
        if (this.pixelSpacing) {
            areaString += (area * this.pixelSpacing.cx * this.pixelSpacing.cy).toFixed(2) + "mm";
        }
        else {
            areaString += area.toFixed(2) + "pt";
        }
        areaString += "\xb2";
        return areaString;
    };
    AnnBaseRectangle.prototype.getTransformMatrix = function () {
        return this.forText ? this.imageViewer.getAnnLabelLayer().transform() : this.image.transformMatrix;
        ;
    };
    return AnnBaseRectangle;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_2__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/base-object/ann-base-text.ts":
/*!*********************************************************!*\
  !*** ./src/app/annotation/base-object/ann-base-text.ts ***!
  \*********************************************************/
/*! exports provided: AnnBaseText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnBaseText", function() { return AnnBaseText; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _models_misc_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/misc-data */ "./src/app/models/misc-data.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_base_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-base-object */ "./src/app/annotation/base-object/ann-base-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AnnBaseText = /** @class */ (function (_super) {
    __extends(AnnBaseText, _super);
    function AnnBaseText(parentObj, text, startPoint, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.fontSizeFixed = false;
        // The coordinate of input point is for annotation layer, since text will always be drawn in label layer, need to convert the coordinate
        startPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_2__["AnnTool"].annLayerToAnnLabelLayer(startPoint, imageViewer);
        _this.createdFontSize = _this.parentObj.getFontSize();
        var font = new _models_misc_data__WEBPACK_IMPORTED_MODULE_1__["FontData"]("Times New Roman", "#FFF", _this.createdFontSize);
        _this.jcObj = jCanvaScript.text(text, startPoint.x, startPoint.y).color(_this.selectedColor).font(font.getCanvasFontString()).layer(_this.labelLayerId).align("left");
        //this.jcObj._shadowX = 1;
        //this.jcObj._shadowY = 1;
        //this.jcObj._shadowColor = "#000";
        _super.prototype.setJcObj.call(_this);
        return _this;
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnBaseText.prototype.onSave = function (annSerialize) {
        annSerialize.writeString("CGXAnnLabel");
        annSerialize.writeInteger(1, 4);
        annSerialize.writeInteger(0, 4);
        annSerialize.writeInteger(0, 1);
        var topLeftPoint = this.getPosition();
        var rect = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Rectangle"](topLeftPoint.x, topLeftPoint.y, this.getWidth(), this.getHeight());
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_2__["AnnTool"].pointListFromRect(rect);
        annSerialize.writeIntegerPoint(pointList[0]); // top left
        annSerialize.writeIntegerPoint(pointList[2]); // bottom right
        annSerialize.writeIntegerPoint(pointList[1]); // top right
        annSerialize.writeIntegerPoint(pointList[3]); // bottom left
    };
    AnnBaseText.prototype.onScale = function () {
        // When scale value changed, the font size need to be changed as well to make sure it look unchanged in the screen
        var fontSize = this.fontSizeFixed ? this.createdFontSize : this.parentObj.getFontSize();
        this.setFontSize(fontSize);
        //const font = this.fontSizeFixed ? new FontData("Times New Roman", "#FFF", this.createdFontSize) :
        //    new FontData("Times New Roman", "#FFF", this.parentObj.getFontSize());
        //this.jcObj.font(font.getCanvasFontString());
    };
    AnnBaseText.prototype.onMove = function (point) {
        // The coordinate of input point is for annotation layer, since text will always be drawn in label layer, need to convert the coordinate
        point = _ann_tool__WEBPACK_IMPORTED_MODULE_2__["AnnTool"].annLayerToAnnLabelLayer(point, this.imageViewer);
        _super.prototype.onMove.call(this, point);
    };
    AnnBaseText.prototype.getRect = function () {
        // Not sure why JCanvas returns the wrong rect, adjust it
        var rect = this.jcObj.getRect("poor");
        var newHeight = this.fontSizeFixed ? this.createdFontSize : this.parentObj.getFontSize();
        //rect.y -= newHeight - rect.height - 2;
        rect.y = this.getPosition().y - newHeight * 0.85;
        rect.height = newHeight + 4;
        rect.x -= 2;
        rect.width += 4;
        // the coordinate is for annotation label layer
        return rect;
    };
    AnnBaseText.prototype.getTransformMatrix = function () {
        // Text is always in label layer
        return this.imageViewer.getAnnLabelLayer().transform();
    };
    AnnBaseText.prototype.onDragStarted = function (pos) {
    };
    AnnBaseText.prototype.onDragEnded = function (pos) {
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnBaseText.prototype.getText = function () {
        return this.jcObj._string;
    };
    AnnBaseText.prototype.setText = function (text) {
        this.jcObj.string(text);
    };
    AnnBaseText.prototype.setFontSizeFixed = function (fontSizeFixed) {
        this.fontSizeFixed = fontSizeFixed;
    };
    AnnBaseText.prototype.setFontSize = function (fontSize) {
        this.createdFontSize = fontSize;
        var font = new _models_misc_data__WEBPACK_IMPORTED_MODULE_1__["FontData"]("Times New Roman", "#FFF", fontSize);
        this.jcObj.font(font.getCanvasFontString());
    };
    AnnBaseText.prototype.getCreateFontSize = function () {
        return this.createdFontSize;
    };
    return AnnBaseText;
}(_ann_base_object__WEBPACK_IMPORTED_MODULE_3__["AnnBaseObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-angle.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-angle.ts ***!
  \*******************************************************/
/*! exports provided: AnnAngle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnAngle", function() { return AnnAngle; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _base_object_ann_base_curve__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base-object/ann-base-curve */ "./src/app/annotation/base-object/ann-base-curve.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var AnnAngle = /** @class */ (function (_super) {
    __extends(AnnAngle, _super);
    function AnnAngle(parent, imageViewer) {
        var _this = _super.call(this, parent, imageViewer) || this;
        _this.line1Drawn = false;
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnAngle.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annStartPoint) {
                this.annStartPoint = this.createPoint(imagePoint);
            }
            else if (!this.line1Drawn) {
                this.line1Drawn = true;
            }
            else {
                this.focusedObj = this.annStartPoint;
                this.redrawAngle();
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (!this.annStartPoint) {
                return;
            }
            if (this.annBaseLine1) {
                if (this.line1Drawn) {
                    if (this.annBaseLine2) {
                        this.annBaseLine2.onMoveEndPoint(imagePoint);
                        this.annEndPoint2.onMove(imagePoint);
                    }
                    else {
                        this.annEndPoint2 = this.createPoint(imagePoint);
                        this.annBaseLine2 = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_6__["AnnBaseLine"](this, this.annStartPoint.getPosition(), imagePoint, this.imageViewer);
                    }
                }
                else {
                    this.annBaseLine1.onMoveEndPoint(imagePoint);
                    this.annEndPoint1.onMove(imagePoint);
                }
            }
            else {
                this.annEndPoint1 = this.createPoint(imagePoint);
                this.annBaseLine1 = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_6__["AnnBaseLine"](this, this.annStartPoint.getPosition(), imagePoint, this.imageViewer);
            }
        }
    };
    AnnAngle.prototype.onCreate = function (lineList, arrowStartPoint, arrowEndPoint) {
        if (arrowStartPoint === void 0) { arrowStartPoint = undefined; }
        if (arrowEndPoint === void 0) { arrowEndPoint = undefined; }
        if (lineList.length !== 2) {
            alert("Error config of AnnAngle!");
            return;
        }
        this.annBaseLine1 = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_6__["AnnBaseLine"](this, lineList[0].startPoint, lineList[0].endPoint, this.imageViewer);
        this.annBaseLine2 = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_6__["AnnBaseLine"](this, lineList[1].startPoint, lineList[1].endPoint, this.imageViewer);
        this.annStartPoint = this.createPoint(lineList[0].startPoint);
        this.annEndPoint1 = this.createPoint(lineList[0].endPoint);
        this.annEndPoint2 = this.createPoint(lineList[1].endPoint);
        this.redrawAngle(arrowStartPoint);
    };
    AnnAngle.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadAngle();
    };
    AnnAngle.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.lineList, config.textIndicator.startPoint, config.textIndicator.endPoint);
        this.focusedObj = this.annStartPoint;
    };
    AnnAngle.prototype.onSave = function (annSerialize) {
        this.saveBasicInfo(annSerialize, true);
        annSerialize.writeInteger(0, 1); // arcAndTextOnly        
        annSerialize.writeInteger(3, 4); // createState
        var angle = this.annBaseCurve.getAngle();
        annSerialize.writeDouble(angle); // angle
        var startPoint = this.annStartPoint.getPosition();
        var radius = this.annBaseCurve.getRadius();
        var arcStartPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointInLineByDistance(startPoint, this.annBaseLine1.getEndPosition(), radius);
        annSerialize.writeIntegerPoint(arcStartPoint);
        var arcEndPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointInLineByDistance(startPoint, this.annBaseLine2.getEndPosition(), radius);
        annSerialize.writeIntegerPoint(arcEndPoint);
        // TopLeft point of curve's rect
        annSerialize.writeIntegerPoint({ x: startPoint.x - radius, y: startPoint.y - radius });
        annSerialize.writeIntegerPoint({ x: startPoint.x + radius, y: startPoint.y + radius });
        this.annBaseLine1.onSave(annSerialize);
        this.annBaseLine2.onSave(annSerialize);
        this.annTextIndicator.onSave(annSerialize);
    };
    AnnAngle.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj === this.annStartPoint) {
            this.annStartPoint.onDrag(deltaX, deltaY);
            var startPoint = this.annStartPoint.getPosition();
            this.annBaseLine1.onMoveStartPoint(startPoint);
            this.annBaseLine2.onMoveStartPoint(startPoint);
            this.redrawAngle();
        }
        else if (this.focusedObj === this.annEndPoint1) {
            this.annEndPoint1.onDrag(deltaX, deltaY);
            this.annBaseLine1.onMoveEndPoint(this.annEndPoint1.getPosition());
            this.redrawAngle();
        }
        else if (this.focusedObj === this.annEndPoint2) {
            this.annEndPoint2.onDrag(deltaX, deltaY);
            this.annBaseLine2.onMoveEndPoint(this.annEndPoint2.getPosition());
            this.redrawAngle();
        }
        else if (this.focusedObj === this.annTextIndicator) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnAngle.prototype.onFlip = function (vertical) {
        _super.prototype.onFlip.call(this, vertical);
        this.redrawAngle();
    };
    // The arrow of the text indicator will always point to the start point
    AnnAngle.prototype.getSurroundPointList = function () {
        return [this.annStartPoint.getPosition()];
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnAngle.prototype.redrawAngle = function (arrowStartPoint) {
        if (arrowStartPoint === void 0) { arrowStartPoint = undefined; }
        var radius = this.getAngelRadius();
        var arcStartPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointInLineByDistance(this.annStartPoint.getPosition(), this.annBaseLine1.getEndPosition(), radius);
        var arcEndPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointInLineByDistance(this.annStartPoint.getPosition(), this.annBaseLine2.getEndPosition(), radius);
        var arcMiddlePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].calcMiddlePointOfArc(arcStartPoint, arcEndPoint, radius);
        var lineCenter = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(arcStartPoint, arcEndPoint);
        // another middle point
        var newMiddlePoint = { x: lineCenter.x * 2 - arcMiddlePoint.x, y: lineCenter.y * 2 - arcMiddlePoint.y };
        var startPoint = this.annStartPoint.getPosition();
        // The far point is the wanted
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(startPoint, newMiddlePoint) > _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(startPoint, arcMiddlePoint)) {
            arcMiddlePoint = newMiddlePoint;
        }
        var arcData = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].calcArcBy3Points(arcStartPoint, arcEndPoint, arcMiddlePoint, true);
        if (this.annBaseCurve) {
            this.annBaseCurve.onMove(arcData.centerPoint);
            this.annBaseCurve.setRadius(arcData.radius);
            this.annBaseCurve.setAngle(arcData.startAngle, arcData.endAngle);
            this.annBaseCurve.setAnticlockwise(arcData.anticlockwise);
            this.annTextIndicator.setText(this.annBaseCurve.getText(true));
        }
        else {
            this.annBaseCurve = new _base_object_ann_base_curve__WEBPACK_IMPORTED_MODULE_4__["AnnBaseCurve"](this, arcData.centerPoint, arcData.radius, arcData.startAngle, arcData.endAngle, arcData.anticlockwise, this.imageViewer);
            this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
            this.annTextIndicator.onCreate(this.annBaseCurve.getText(true), startPoint, arrowStartPoint);
        }
    };
    AnnAngle.prototype.getAngelRadius = function () {
        var scale = this.image.getScaleValue();
        var len1 = this.annBaseLine1.getLengthInPixel() * scale;
        var len2 = this.annBaseLine2.getLengthInPixel() * scale;
        var radius = Math.min(len1, len2, 30);
        return radius / scale;
    };
    AnnAngle.prototype.createPoint = function (point) {
        var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
        annPoint.onCreate(point);
        annPoint.onLevelUp("top");
        return annPoint;
    };
    return AnnAngle;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-arrow.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-arrow.ts ***!
  \*******************************************************/
/*! exports provided: AnnArrow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnArrow", function() { return AnnArrow; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_line__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-line */ "./src/app/annotation/extend-object/ann-line.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnArrow = /** @class */ (function (_super) {
    __extends(AnnArrow, _super);
    function AnnArrow(parent, imageViewer) {
        return _super.call(this, parent, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnArrow.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annLine) {
                this.annLine = new _ann_line__WEBPACK_IMPORTED_MODULE_4__["AnnLine"](this, this.imageViewer);
                this.annLine.onMouseEvent(mouseEventType, point, null);
            }
            else {
                this.annLine.onMouseEvent(mouseEventType, point, null);
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annLine) {
                this.annLine.onMouseEvent(mouseEventType, point, null);
                this.redrawArrow(this.annLine.getStartPosition(), imagePoint);
            }
        }
    };
    AnnArrow.prototype.onCreate = function (arrowStartPoint, arrowEndPoint) {
        this.onDeleteChildren();
        this.annLine = new _ann_line__WEBPACK_IMPORTED_MODULE_4__["AnnLine"](this, this.imageViewer);
        this.annLine.onCreate(arrowStartPoint, arrowEndPoint);
        this.redrawArrow(arrowStartPoint, arrowEndPoint);
    };
    AnnArrow.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadArrow();
    };
    AnnArrow.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.startPoint, config.endPoint);
        this.focusedObj = this.annLine;
    };
    AnnArrow.prototype.onSave = function (annSerialize, saveArrowMark) {
        if (saveArrowMark === void 0) { saveArrowMark = true; }
        if (saveArrowMark) {
            this.saveBasicInfo(annSerialize);
        }
        annSerialize.writeString("CGXAnnArrow");
        annSerialize.writeInteger(1, 4);
        annSerialize.writeInteger(0, 1);
        this.annLine.getBaseLine().onSave(annSerialize);
        this.annArrowLineA.onSave(annSerialize);
        this.annArrowLineB.onSave(annSerialize);
    };
    AnnArrow.prototype.onDrag = function (deltaX, deltaY) {
        this.annLine.onDrag(deltaX, deltaY);
        this.redrawArrow(this.annLine.getStartPosition(), this.annLine.getEndPosition());
    };
    AnnArrow.prototype.onScale = function () {
        _super.prototype.onScale.call(this);
        this.redrawArrow(this.annLine.getStartPosition(), this.annLine.getEndPosition());
    };
    AnnArrow.prototype.onSwitchFocus = function () {
        this.annLine.onSwitchFocus();
    };
    AnnArrow.prototype.onMoveStartPoint = function (point) {
        this.annLine.onMoveStartPoint(point);
        var endPoint = this.annLine.getEndPosition();
        this.redrawArrow(point, endPoint);
    };
    AnnArrow.prototype.onMoveEndPoint = function (point) {
        this.annLine.onMoveEndPoint(point);
        var startPoint = this.annLine.getStartPosition();
        this.redrawArrow(startPoint, point);
    };
    AnnArrow.prototype.getStartPosition = function () {
        return this.annLine.getStartPosition();
    };
    AnnArrow.prototype.getEndPosition = function () {
        return this.annLine.getEndPosition();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnArrow.prototype.redrawArrow = function (startPoint, endPoint) {
        var arrowLength = this.getArrowLineLength();
        var sineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(endPoint, startPoint);
        var cosineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(endPoint, startPoint);
        var lineAEndPoint = {
            x: endPoint.x + arrowLength * cosineTheta - arrowLength / 2.0 * sineTheta,
            y: endPoint.y + arrowLength * sineTheta + arrowLength / 2.0 * cosineTheta
        };
        var lineBEndPoint = {
            x: endPoint.x + arrowLength * cosineTheta + arrowLength / 2.0 * sineTheta,
            y: endPoint.y + arrowLength * sineTheta - arrowLength / 2.0 * cosineTheta
        };
        if (this.annArrowLineA && this.annArrowLineB) {
            this.annArrowLineA.onMoveStartPoint(endPoint);
            this.annArrowLineA.onMoveEndPoint(lineAEndPoint);
            this.annArrowLineB.onMoveStartPoint(endPoint);
            this.annArrowLineB.onMoveEndPoint(lineBEndPoint);
        }
        else {
            this.annArrowLineA = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, endPoint, lineAEndPoint, this.imageViewer);
            this.annArrowLineA.setMouseResponsible(false);
            this.annArrowLineB = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, endPoint, lineBEndPoint, this.imageViewer);
            this.annArrowLineB.setMouseResponsible(false);
        }
    };
    return AnnArrow;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-cardiothoracic-ratio.ts":
/*!**********************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-cardiothoracic-ratio.ts ***!
  \**********************************************************************/
/*! exports provided: AnnCardiothoracicRatio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnCardiothoracicRatio", function() { return AnnCardiothoracicRatio; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
/* harmony import */ var _ann_line__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ann-line */ "./src/app/annotation/extend-object/ann-line.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var AnnCardiothoracicRatio = /** @class */ (function (_super) {
    __extends(AnnCardiothoracicRatio, _super);
    function AnnCardiothoracicRatio(parent, imageViewer) {
        var _this = _super.call(this, parent, imageViewer) || this;
        _this.annPointList = [];
        _this.annLineList = [];
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnCardiothoracicRatio.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        var stepIndex = this.imageViewer.getCurrentStepIndex();
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            switch (stepIndex) {
                // Draw the start point of line Ab
                case 0: {
                    this.onStep1(point, imagePoint);
                    break;
                }
                // Draw line AB and point B
                case 1: {
                    this.onStep2(imagePoint);
                    break;
                }
                // Draw the start point of line Cd
                case 2: {
                    this.onStep3(point, imagePoint);
                    break;
                }
                // Draw base line Cc and Dd, draw point D, delete temp line Cd
                case 3: {
                    this.onStep4(imagePoint);
                    break;
                }
                // Draw the start point of line EF
                case 4: {
                    this.onStep5(point, imagePoint);
                    break;
                }
                // Draw base line Ee and Ff, draw point F, delete temp line Ef
                case 5: {
                    this.onStep6(imagePoint);
                    break;
                }
                default: {
                    alert("Invalid step index " + stepIndex);
                    return;
                }
            }
            // Step the guide
            this.imageViewer.stepGuide();
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            switch (stepIndex) {
                // Move the end point of line AB
                case 1: {
                    this.annLineAb.onMouseEvent(mouseEventType, point, null);
                    break;
                }
                // Move the end point of line CD
                case 3: {
                    this.annLineCd.onMouseEvent(mouseEventType, point, null);
                    break;
                }
                // Move the end point of line EF
                case 5: {
                    this.annLineEf.onMouseEvent(mouseEventType, point, null);
                    break;
                }
            }
        }
    };
    AnnCardiothoracicRatio.prototype.onCreate = function (lineList, arrowStartPoint, arrowEndPoint) {
        if (arrowStartPoint === void 0) { arrowStartPoint = undefined; }
        if (arrowEndPoint === void 0) { arrowEndPoint = undefined; }
        if (lineList.length !== 5) {
            alert("Error config of AnnCardiothoracicRatio!");
            return;
        }
        var pointA = lineList[0].startPoint;
        var pointB = lineList[0].endPoint;
        this.createPoint(pointA, 0);
        this.createPoint(pointB, 1);
        this.annBaseLineAb = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointA, pointB, this.imageViewer);
        this.annLineList.push(new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointA, pointA, this.imageViewer)); //BaseLineAa 
        this.annLineList.push(new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointB, pointB, this.imageViewer)); //BaseLineBb
        for (var i = 1; i < 5; i++) {
            this.annLineList.push(new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, lineList[i].startPoint, lineList[i].endPoint, this.imageViewer));
            this.createPoint(lineList[i].startPoint, i + 1);
            this.handleFootPoint(lineList[i].startPoint);
        }
        this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
        this.annTextIndicator.onCreate(this.getText(), arrowEndPoint, arrowStartPoint);
    };
    AnnCardiothoracicRatio.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadCardiothoracicRatio();
    };
    AnnCardiothoracicRatio.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.lineList, config.textIndicator.startPoint, config.textIndicator.endPoint);
        this.focusedObj = this.annPointList[0];
    };
    AnnCardiothoracicRatio.prototype.onSave = function (annSerialize) {
        this.saveBasicInfo(annSerialize);
        this.annBaseLineAb.onSave(annSerialize);
        for (var i = 2; i < this.annLineList.length; i++) {
            this.annLineList[i].onSave(annSerialize);
        }
        this.annTextIndicator.onSave(annSerialize);
    };
    AnnCardiothoracicRatio.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj.getStepIndex() !== -1) {
            this.focusedObj.onTranslate(deltaX, deltaY);
            this.redraw();
        }
        else if (this.focusedObj === this.annTextIndicator) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnCardiothoracicRatio.prototype.onSwitchFocus = function () {
        var _this = this;
        var index = this.annPointList.findIndex(function (annObj) { return annObj === _this.focusedObj; });
        if (index === -1) {
            // Current focused object is text indicator
            this.onChildSelected(this.annPointList[0]);
        }
        else if (index === this.annPointList.length - 1) {
            this.onChildSelected(this.annTextIndicator);
        }
        else {
            this.onChildSelected(this.annPointList[index + 1]);
        }
    };
    // The arrow of the text indicator will always point to the  point A
    AnnCardiothoracicRatio.prototype.getSurroundPointList = function () {
        return [this.annPointList[0].getPosition()];
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnCardiothoracicRatio.prototype.onStep1 = function (screenPoint, imagePoint) {
        this.annLineAb = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
        this.annLineAb.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown, screenPoint, null);
        var annPointA = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointA.onCreate(imagePoint);
        annPointA.setStepIndex(0);
        this.annPointList.push(annPointA);
        var annBaseLineAa = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, imagePoint, imagePoint, this.imageViewer);
        this.annLineList.push(annBaseLineAa);
    };
    AnnCardiothoracicRatio.prototype.onStep2 = function (imagePoint) {
        var pointA = this.annLineAb.getStartPosition();
        this.onDeleteChild(this.annLineAb);
        this.annBaseLineAb = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointA, imagePoint, this.imageViewer);
        var annPointB = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointB.onCreate(imagePoint);
        annPointB.setStepIndex(1);
        this.annPointList.push(annPointB);
        var annBaseLineBb = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, imagePoint, imagePoint, this.imageViewer);
        this.annLineList.push(annBaseLineBb);
    };
    AnnCardiothoracicRatio.prototype.onStep3 = function (screenPoint, imagePoint) {
        this.annLineCd = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
        this.annLineCd.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown, screenPoint, null);
        var annPointC = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointC.onCreate(imagePoint);
        annPointC.setStepIndex(2);
        this.annPointList.push(annPointC);
    };
    AnnCardiothoracicRatio.prototype.onStep4 = function (imagePoint) {
        var pointC = this.annLineCd.getStartPosition();
        var pointD = this.annLineCd.getEndPosition();
        this.onDeleteChild(this.annLineCd);
        var footPointC = this.handleFootPoint(pointC);
        var annBaseLineCc = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointC, footPointC, this.imageViewer);
        this.annLineList.push(annBaseLineCc);
        var footPointD = this.handleFootPoint(pointD);
        var annBaseLineDd = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointD, footPointD, this.imageViewer);
        this.annLineList.push(annBaseLineDd);
        var annPointD = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointD.onCreate(pointD);
        annPointD.setStepIndex(3);
        this.annPointList.push(annPointD);
    };
    AnnCardiothoracicRatio.prototype.onStep5 = function (screenPoint, imagePoint) {
        this.annLineEf = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
        this.annLineEf.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown, screenPoint, null);
        var annPointE = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointE.onCreate(imagePoint);
        annPointE.setStepIndex(4);
        this.annPointList.push(annPointE);
    };
    AnnCardiothoracicRatio.prototype.onStep6 = function (imagePoint) {
        var pointE = this.annLineEf.getStartPosition();
        var pointF = this.annLineEf.getEndPosition();
        this.onDeleteChild(this.annLineEf);
        var footPointE = this.handleFootPoint(pointE);
        var annBaseLineEe = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointE, footPointE, this.imageViewer);
        this.annLineList.push(annBaseLineEe);
        var footPointF = this.handleFootPoint(pointF);
        var annBaseLineFf = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_3__["AnnBaseLine"](this, pointF, footPointF, this.imageViewer);
        this.annLineList.push(annBaseLineFf);
        var annPointF = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPointF.onCreate(pointF);
        annPointF.setStepIndex(5);
        this.annPointList.push(annPointF);
        this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
        this.annTextIndicator.onCreate(this.getText(), this.annBaseLineAb.getStartPosition());
        this.focusedObj = this.annPointList[0];
        if (!this.parentObj) {
            this.onDrawEnded();
        }
    };
    AnnCardiothoracicRatio.prototype.getText = function () {
        var heartWidth = this.annLineList[2].getLengthInPixel() + this.annLineList[3].getLengthInPixel();
        var chestWidth = this.annLineList[4].getLengthInPixel() + this.annLineList[5].getLengthInPixel();
        var ratio = (heartWidth * 100 / chestWidth).toFixed(2);
        // Sail: What if the pixel spacing of x and y is different???
        return this.pixelSpacing ? "H: {0}mm / C: {1}mm / R: {2}%".format((heartWidth * this.pixelSpacing.cx).toFixed(2), (chestWidth * this.pixelSpacing.cx).toFixed(2), ratio) :
            "H: {0}pt / C: {1}pt / R: {2}%".format(heartWidth.toFixed(2), chestWidth.toFixed(2), ratio);
    };
    AnnCardiothoracicRatio.prototype.handleFootPoint = function (point) {
        var pointA = this.annBaseLineAb.getStartPosition();
        var pointB = this.annBaseLineAb.getEndPosition();
        var footPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].calcFootPoint(pointA, pointB, point);
        var chestPointResult = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointInLine(footPoint, pointA, pointB);
        if (!chestPointResult.isInLine) {
            this.onNewFootPoint(footPoint, chestPointResult.nearStart ? 0 : 1);
        }
        return footPoint;
    };
    AnnCardiothoracicRatio.prototype.onNewFootPoint = function (footPoint, index) {
        // index must be 0 or 1. 0 means start point(A), 1 means end point(B).
        if (index !== 0 && index !== 1) {
            alert("Internal error in onNewFootPoint");
            return;
        }
        var startPoint = this.annPointList[index].getPosition();
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(footPoint, startPoint) > this.annLineList[index].getLengthInPixel()) {
            this.annLineList[index].onMoveEndPoint(footPoint);
        }
    };
    AnnCardiothoracicRatio.prototype.redraw = function () {
        var pointList = [];
        for (var i = 0; i < this.annPointList.length; i++) {
            pointList.push(this.annPointList[i].getPosition());
        }
        this.annBaseLineAb.onMoveStartPoint(pointList[0]);
        this.annBaseLineAb.onMoveEndPoint(pointList[1]);
        for (var i = 0; i < 2; i++) {
            this.annLineList[i].onMoveStartPoint(pointList[i]);
            this.annLineList[i].onMoveEndPoint(pointList[i]);
        }
        for (var i = 2; i < this.annPointList.length; i++) {
            var footPoint = this.handleFootPoint(pointList[i]);
            this.annLineList[i].onMoveStartPoint(pointList[i]);
            this.annLineList[i].onMoveEndPoint(footPoint);
        }
        this.annTextIndicator.setText(this.getText());
    };
    AnnCardiothoracicRatio.prototype.createPoint = function (point, stepIndex) {
        var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        annPoint.onCreate(point);
        annPoint.setStepIndex(stepIndex);
        this.annPointList.push(annPoint);
    };
    return AnnCardiothoracicRatio;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-cervical-curve.ts":
/*!****************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-cervical-curve.ts ***!
  \****************************************************************/
/*! exports provided: AnnCervicalCurve */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnCervicalCurve", function() { return AnnCervicalCurve; });
/* harmony import */ var _ann_curve__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-curve */ "./src/app/annotation/extend-object/ann-curve.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnCervicalCurve = /** @class */ (function (_super) {
    __extends(AnnCervicalCurve, _super);
    function AnnCervicalCurve(parent, imageViewer) {
        var _this = _super.call(this, parent, imageViewer) || this;
        _this.radiusInImage = _this.pixelSpacing ? 170 / _this.pixelSpacing.cx : 170;
        return _this;
    }
    return AnnCervicalCurve;
}(_ann_curve__WEBPACK_IMPORTED_MODULE_0__["AnnCurve"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-curve.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-curve.ts ***!
  \*******************************************************/
/*! exports provided: AnnCurve */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnCurve", function() { return AnnCurve; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _base_object_ann_base_curve__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base-object/ann-base-curve */ "./src/app/annotation/base-object/ann-base-curve.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var AnnCurve = /** @class */ (function (_super) {
    __extends(AnnCurve, _super);
    function AnnCurve(parent, imageViewer) {
        return _super.call(this, parent, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnCurve.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            var stepIndex = this.imageViewer.getCurrentStepIndex();
            var ret = void 0;
            switch (stepIndex) {
                // Step 0: Draw the start point
                case 0: {
                    ret = this.onStep1(imagePoint);
                    break;
                }
                // Draw curve
                case 1: {
                    ret = this.onStep2(imagePoint);
                    break;
                }
                // Adjust curve direction
                case 2: {
                    ret = this.onStep3(imagePoint);
                    break;
                }
                default: {
                    alert("Invalid step index " + stepIndex);
                    return;
                }
            }
            // Step the guide
            if (ret) {
                this.imageViewer.stepGuide();
            }
        }
    };
    AnnCurve.prototype.onCreate = function (pointList, arrowStartPoint, arrowEndPoint) {
        if (arrowStartPoint === void 0) { arrowStartPoint = undefined; }
        if (arrowEndPoint === void 0) { arrowEndPoint = undefined; }
        if (pointList.length !== 3) {
            alert("Error config of AnnCurve!");
            return;
        }
        this.onStep1(pointList[0]);
        this.redraw(pointList[0], pointList[1], pointList[2]);
    };
    AnnCurve.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadCurve();
    };
    AnnCurve.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.pointList, config.textIndicator.startPoint, config.textIndicator.endPoint);
        this.focusedObj = this.annStartPoint;
    };
    AnnCurve.prototype.onSave = function (annSerialize) {
        this.saveBasicInfo(annSerialize);
        annSerialize.writeDoublePoint(this.annStartPoint.getPosition());
        annSerialize.writeDoublePoint(this.annEndPoint.getPosition());
        annSerialize.writeDoublePoint(this.annMiddlePoint.getPosition());
        this.annTextIndicator.onSave(annSerialize);
    };
    AnnCurve.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj === this.annStartPoint) {
            this.onDragStartPoint(deltaX, deltaY);
        }
        else if (this.focusedObj === this.annEndPoint) {
            this.onDragEndPoint(deltaX, deltaY);
        }
        else if (this.focusedObj === this.annMiddlePoint) {
            this.onDragMiddlePoint(deltaX, deltaY);
        }
        else if (this.focusedObj === this.annTextIndicator) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnCurve.prototype.onFlip = function (vertical) {
        this.annStartPoint.onFlip(vertical);
        this.annEndPoint.onFlip(vertical);
        this.annMiddlePoint.onFlip(vertical);
        this.annTextIndicator.onFlip(vertical);
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        this.redraw(startPoint, endPoint, middlePoint);
    };
    // The arrow of the text indicator will always point to the middle point
    AnnCurve.prototype.getSurroundPointList = function () {
        return [this.annMiddlePoint.getPosition()];
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnCurve.prototype.onStep1 = function (imagePoint) {
        this.annStartPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
        this.annStartPoint.onCreate(imagePoint);
        this.annStartPoint.enableShowAlways(true);
        this.annStartPoint.setStepIndex(0);
        return true;
    };
    AnnCurve.prototype.onStep2 = function (imagePoint) {
        var startPoint = this.annStartPoint.getPosition();
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].equalPoint(imagePoint, startPoint))
            return false;
        var length = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(startPoint, imagePoint);
        if (length > this.radiusInImage * 2)
            return false;
        var middlePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].calcMiddlePointOfArc(startPoint, imagePoint, this.radiusInImage);
        this.redraw(startPoint, imagePoint, middlePoint);
        return true;
    };
    AnnCurve.prototype.onStep3 = function (imagePoint) {
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        var lineCenter = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(startPoint, endPoint);
        // another middle point
        var newMiddlePoint = { x: lineCenter.x * 2 - middlePoint.x, y: lineCenter.y * 2 - middlePoint.y };
        // The nearest is the wanted
        if (_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(imagePoint, newMiddlePoint) < _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(imagePoint, middlePoint)) {
            this.redraw(startPoint, endPoint, newMiddlePoint);
        }
        this.focusedObj = this.annMiddlePoint;
        if (!this.parentObj) {
            this.onDrawEnded();
        }
        return true;
    };
    AnnCurve.prototype.onDragStartPoint = function (deltaX, deltaY) {
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        startPoint.x += deltaX;
        startPoint.y += deltaY;
        this.redraw(startPoint, endPoint, middlePoint);
    };
    AnnCurve.prototype.onDragEndPoint = function (deltaX, deltaY) {
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        endPoint.x += deltaX;
        endPoint.y += deltaY;
        this.redraw(startPoint, endPoint, middlePoint);
    };
    AnnCurve.prototype.onDragMiddlePoint = function (deltaX, deltaY) {
        var startPoint = this.annStartPoint.getPosition();
        var endPoint = this.annEndPoint.getPosition();
        var middlePoint = this.annMiddlePoint.getPosition();
        middlePoint.x += deltaX;
        middlePoint.y += deltaY;
        this.redraw(startPoint, endPoint, middlePoint);
    };
    // Redraw the curve
    AnnCurve.prototype.redraw = function (startPoint, endPoint, middlePoint) {
        var arcData = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].calcArcBy3Points(startPoint, endPoint, middlePoint, true);
        if (!arcData)
            return;
        if (this.annBaseCurve) {
            this.annStartPoint.onMove(arcData.startPoint);
            this.annEndPoint.onMove(arcData.endPoint);
            this.annMiddlePoint.onMove(arcData.middlePoint);
            this.annBaseCurve.onMove(arcData.centerPoint);
            this.annBaseCurve.setRadius(arcData.radius);
            this.annBaseCurve.setAngle(arcData.startAngle, arcData.endAngle);
            this.annBaseCurve.setAnticlockwise(arcData.anticlockwise);
            this.annTextIndicator.setText(this.annBaseCurve.getText());
        }
        else {
            this.annEndPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
            this.annEndPoint.onCreate(endPoint);
            this.annEndPoint.enableShowAlways(true);
            this.annEndPoint.setStepIndex(1);
            this.annMiddlePoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
            this.annMiddlePoint.onCreate(middlePoint);
            this.annMiddlePoint.enableShowAlways(true);
            this.annMiddlePoint.setStepIndex(2);
            this.annBaseCurve = new _base_object_ann_base_curve__WEBPACK_IMPORTED_MODULE_4__["AnnBaseCurve"](this, arcData.centerPoint, arcData.radius, arcData.startAngle, arcData.endAngle, arcData.anticlockwise, this.imageViewer);
            this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
            this.annTextIndicator.onCreate(this.annBaseCurve.getText(), middlePoint);
            this.annBaseCurve.onLevelDown();
        }
    };
    return AnnCurve;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-ellipse.ts":
/*!*********************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-ellipse.ts ***!
  \*********************************************************/
/*! exports provided: AnnEllipse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnEllipse", function() { return AnnEllipse; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _base_object_ann_base_ellipse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base-object/ann-base-ellipse */ "./src/app/annotation/base-object/ann-base-ellipse.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var AnnEllipse = /** @class */ (function (_super) {
    __extends(AnnEllipse, _super);
    function AnnEllipse(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.annPointList = new Array();
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnEllipse.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annCenterPoint) {
                this.annCenterPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_2__["AnnPoint"](this, this.imageViewer);
                this.annCenterPoint.onCreate(imagePoint);
            }
            else {
                this.focusedObj = this.annBaseEllipse;
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annCenterPoint) {
                var centerPoint = this.annCenterPoint.getPosition();
                var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointListFromEllipse(centerPoint, imagePoint.x - centerPoint.x, imagePoint.y - centerPoint.y);
                if (this.annBaseEllipse) {
                    this.redraw(pointList);
                }
                else {
                    pointList.push(undefined); // Arrow start
                    pointList.push(pointList[0]); // Arrow end
                    this.createFromPointList(pointList);
                }
            }
        }
    };
    AnnEllipse.prototype.onCreate = function (centerPoint, width, height, showIndicator, arrowStartPoint, arrowEndPoint) {
        if (arrowStartPoint === void 0) { arrowStartPoint = undefined; }
        if (arrowEndPoint === void 0) { arrowEndPoint = undefined; }
        this.annCenterPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_2__["AnnPoint"](this, this.imageViewer);
        this.annCenterPoint.onCreate(centerPoint);
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointListFromEllipse(centerPoint, width, height);
        pointList.push(arrowStartPoint);
        pointList.push(arrowEndPoint);
        this.createFromPointList(pointList);
    };
    AnnEllipse.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadEllipse();
    };
    AnnEllipse.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.centerPoint, config.width, config.height, true, config.textIndicator.startPoint, config.textIndicator.endPoint);
        this.focusedObj = this.annBaseEllipse;
    };
    AnnEllipse.prototype.onSave = function (annSerialize) {
        annSerialize.writeString(this.annDefData.imageSuiteAnnName);
        annSerialize.writeInteger(this.annBaseEllipse.getWidth(), 4);
        annSerialize.writeInteger(this.annBaseEllipse.getHeight(), 4);
        annSerialize.writeInteger(this.selected ? 1 : 0, 1);
        annSerialize.writeIntegerPoint(this.annCenterPoint.getPosition());
        this.annTextIndicator.onSave(annSerialize);
        annSerialize.writeInteger(1, 1);
        annSerialize.writeDouble(0);
    };
    AnnEllipse.prototype.onDrag = function (deltaX, deltaY) {
        var _this = this;
        if (this.focusedObj === this.annCenterPoint || this.focusedObj === this.annBaseEllipse) {
            this.onTranslate(deltaX, deltaY);
        }
        else if (this.annPointList.some(function (annObj) { return annObj === _this.focusedObj; })) {
            this.onDragPoint(this.focusedObj, deltaX, deltaY);
        }
        else if (this.annTextIndicator === this.focusedObj) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
    };
    AnnEllipse.prototype.getSurroundPointList = function () {
        var pointList = [];
        for (var i = 0; i < 4; i++) {
            pointList.push(this.annPointList[i].getPosition());
        }
        return pointList;
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnEllipse.prototype.redraw = function (pointList) {
        if (pointList.length !== 4 || this.annPointList.length !== 4) {
            alert("Internal error in AnnEllipse.redraw()");
            return;
        }
        this.annBaseEllipse.setWidth(pointList[1].x - pointList[0].x);
        this.annBaseEllipse.setHeight(pointList[1].y - pointList[0].y);
        for (var i = 0; i < 4; i++) {
            this.annPointList[i].onMove(pointList[i]);
        }
        this.annTextIndicator.redrawArrow();
        this.annTextIndicator.setText(this.annBaseEllipse.getAreaString());
    };
    AnnEllipse.prototype.createFromPointList = function (pointList) {
        if (pointList.length !== 6 || !this.annCenterPoint) {
            alert("Internal error in AnnEllipse.createFromPointList()");
            return;
        }
        for (var i = 0; i < 4; i++) {
            var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_2__["AnnPoint"](this, this.imageViewer);
            annPoint.onCreate(pointList[i]);
            this.annPointList.push(annPoint);
        }
        var centerPoint = this.annCenterPoint.getPosition();
        this.annBaseEllipse = new _base_object_ann_base_ellipse__WEBPACK_IMPORTED_MODULE_3__["AnnBaseEllipse"](this, centerPoint, pointList[1].x - centerPoint.x, pointList[2].y - centerPoint.y, this.imageViewer);
        this.annBaseEllipse.onLevelDown();
        this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
        this.annTextIndicator.onCreate(this.annBaseEllipse.getAreaString(), pointList[5], pointList[4]);
    };
    AnnEllipse.prototype.onDragPoint = function (draggedObj, deltaX, deltaY) {
        var pointList = this.getSurroundPointList();
        if (draggedObj === this.annPointList[0]) {
            // Top point
            pointList[0].y += deltaY;
            pointList[2].y -= deltaY;
        }
        else if (draggedObj === this.annPointList[1]) {
            // Right point
            pointList[1].x += deltaX;
            pointList[3].x -= deltaX;
        }
        else if (draggedObj === this.annPointList[2]) {
            // Bottom point
            pointList[0].y -= deltaY;
            pointList[2].y += deltaY;
        }
        else if (draggedObj === this.annPointList[3]) {
            // Left point
            pointList[1].x -= deltaX;
            pointList[3].x += deltaX;
        }
        this.redraw(pointList);
    };
    return AnnEllipse;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_4__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-extend-object.ts":
/*!***************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-extend-object.ts ***!
  \***************************************************************/
/*! exports provided: AnnExtendObject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnExtendObject", function() { return AnnExtendObject; });
/* harmony import */ var _ann_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ann-object */ "./src/app/annotation/ann-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnExtendObject = /** @class */ (function (_super) {
    __extends(AnnExtendObject, _super);
    function AnnExtendObject(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.annObjList = [];
        _this.loadedFromTag = false; // The annotation is created when loading image
        _this.annDefData = imageViewer.getAnnotationService().getAnnDefDataByClassName(_this.constructor.name);
        if (parentObj) {
            parentObj.onChildCreated(_this);
        }
        return _this;
    }
    AnnExtendObject.prototype.getTypeName = function () {
        return this.annDefData.className;
    };
    AnnExtendObject.prototype.isGuideNeeded = function () {
        return this.annDefData.needGuide;
    };
    AnnExtendObject.prototype.isLoadedFromTag = function () {
        return this.loadedFromTag;
    };
    AnnExtendObject.prototype.selectChildByStepIndex = function (stepIndex) {
        if (!this.isGuideNeeded())
            return;
        var annChildList = this.annObjList.filter(function (annObj) { return annObj.getStepIndex() === stepIndex; });
        if (annChildList.length > 0) {
            this.focusedObj = annChildList[0];
            this.onSelect(true, true);
        }
    };
    AnnExtendObject.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        alert("Error in AnnExtendObject.onMouseEvent, this function must be overrode.");
    };
    AnnExtendObject.prototype.onSwitchFocus = function () {
        var _this = this;
        if (!this.focusedObj) {
            alert("No focus object set!");
            return;
        }
        var index = this.annObjList.findIndex(function (annObj) { return annObj === _this.focusedObj; });
        var nextIndex = index === this.annObjList.length - 1 ? 0 : index + 1;
        this.onChildSelected(this.annObjList[nextIndex]);
    };
    AnnExtendObject.prototype.onDeleteChild = function (annChildObj) {
        annChildObj.onDeleteChildren();
        var index = this.annObjList.findIndex(function (annObj) { return annObj === annChildObj; });
        if (index !== -1) {
            this.annObjList.splice(index, 1);
        }
        else {
            alert("Internal error!  AnnExtendObject.onDeleteChild() - Can NOT find child to be delete");
        }
    };
    AnnExtendObject.prototype.onChildCreated = function (annChildObj) {
        // A child annotation is created, add it to the children list
        this.addChildObj(annChildObj);
    };
    AnnExtendObject.prototype.onDrawEnded = function () {
        if (this.mouseResponsible) {
            this.annObjList.forEach(function (annObj) { return annObj.onDrawEnded(); });
        }
        this.created = true;
        if (!this.parentObj) {
            // Parent not set, this mean it is not a child of a parentObj annotation. 
            this.imageViewer.onAnnotationCreated(this);
        }
    };
    AnnExtendObject.prototype.onDrag = function (deltaX, deltaY) {
        this.onTranslate(deltaX, deltaY);
    };
    AnnExtendObject.prototype.onSelect = function (selected, focused) {
        var _this = this;
        this.selected = selected;
        this.annObjList.forEach(function (annObj) { return annObj.onSelect(selected, focused && annObj === _this.focusedObj); });
        if (!this.parentObj && this.selected) {
            this.imageViewer.selectAnnotation(this);
        }
    };
    AnnExtendObject.prototype.onRotate = function (angle) {
        this.annObjList.forEach(function (annObj) {
            // The text indicator is drawn in the separated layer, need to rotate it.
            if (annObj.constructor.name === "AnnTextIndicator" || annObj.constructor.name === "AnnText") {
                annObj.onRotate(angle);
            }
        });
    };
    AnnExtendObject.prototype.onScale = function () {
        this.annObjList.forEach(function (annObj) { return annObj.onScale(); });
    };
    AnnExtendObject.prototype.onFlip = function (vertical) {
        this.annObjList.forEach(function (annObj) { return annObj.onFlip(vertical); });
    };
    AnnExtendObject.prototype.onTranslate = function (deltaX, deltaY) {
        this.annObjList.forEach(function (annObj) { return annObj.onTranslate(deltaX, deltaY); });
    };
    AnnExtendObject.prototype.onMove = function (point) {
        this.annObjList.forEach(function (annObj) { return annObj.onMove(point); });
    };
    AnnExtendObject.prototype.onDeleteChildren = function () {
        this.annObjList.forEach(function (annObj) { return annObj.onDeleteChildren(); });
    };
    AnnExtendObject.prototype.onLevelUp = function (level) {
        if (level === void 0) { level = 1; }
        this.annObjList.forEach(function (annObj) { return annObj.onLevelUp(level); });
    };
    AnnExtendObject.prototype.onLevelDown = function (level) {
        if (level === void 0) { level = 1; }
        this.annObjList.forEach(function (annObj) { return annObj.onLevelDown(level); });
    };
    AnnExtendObject.prototype.getPosition = function () {
        return { x: 0, y: 0 };
    };
    AnnExtendObject.prototype.getSurroundPointList = function () {
        alert("Internal error : AnnExtendObject.getSurroundPointList() should never be called.");
        return [];
    };
    AnnExtendObject.prototype.getRect = function () {
        alert("Internal error : AnnExtendObject.getRect() should never be called.");
        return undefined;
    };
    AnnExtendObject.prototype.setStepIndex = function (stepIndex) {
        _super.prototype.setStepIndex.call(this, stepIndex);
        this.annObjList.forEach(function (annObj) { return annObj.setStepIndex(stepIndex); });
    };
    AnnExtendObject.prototype.setVisible = function (visible) {
        this.annObjList.forEach(function (annObj) { return annObj.setVisible(visible); });
    };
    AnnExtendObject.prototype.onLoad = function (annSerialize) {
        this.loadedFromTag = true;
        var config = this.onLoadConfig(annSerialize);
        this.onCreateFromConfig(config);
        this.onSelect(config.selected, config.selected);
        if (!this.parentObj) {
            this.onDrawEnded();
        }
    };
    AnnExtendObject.prototype.onSave = function (annSerialize) {
        alert("Internal error : AnnExtendObject.onSave() should never be called.");
    };
    AnnExtendObject.prototype.onCreateFromConfig = function (config) {
        alert("Internal error : AnnExtendObject.onCreateFromConfig() should never be called.");
        return undefined;
    };
    AnnExtendObject.prototype.onLoadConfig = function (annSerialize) {
        alert("Internal error : AnnExtendObject.onLoadConfig() should never be called.");
        return undefined;
    };
    AnnExtendObject.prototype.onDragStarted = function (pos) {
    };
    AnnExtendObject.prototype.onDragEnded = function (pos) {
    };
    AnnExtendObject.prototype.addChildObj = function (annObj) {
        this.annObjList.push(annObj);
    };
    AnnExtendObject.prototype.saveBasicInfo = function (annSerialize, saveMoving) {
        if (saveMoving === void 0) { saveMoving = false; }
        annSerialize.writeString(this.annDefData.imageSuiteAnnName);
        annSerialize.writeInteger(this.annDefData.imageSuiteAnnType, 4); // AnnType
        annSerialize.writeInteger(1, 4); // created
        if (saveMoving) {
            annSerialize.writeInteger(0, 4); // moving
        }
        annSerialize.writeInteger(this.selected ? 1 : 0, 1); // selected
    };
    return AnnExtendObject;
}(_ann_object__WEBPACK_IMPORTED_MODULE_0__["AnnObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-free-area.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-free-area.ts ***!
  \***********************************************************/
/*! exports provided: AnnFreeArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnFreeArea", function() { return AnnFreeArea; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _base_object_ann_base_polygon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base-object/ann-base-polygon */ "./src/app/annotation/base-object/ann-base-polygon.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AnnFreeArea = /** @class */ (function (_super) {
    __extends(AnnFreeArea, _super);
    function AnnFreeArea(parent, imageViewer) {
        return _super.call(this, parent, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnFreeArea.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annBasePolygon) {
                this.annBasePolygon = new _base_object_ann_base_polygon__WEBPACK_IMPORTED_MODULE_3__["AnnBasePolygon"](this, [[imagePoint.x, imagePoint.y]], this.imageViewer, true);
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DblClick) {
            this.annBasePolygon.setClosed(true);
            this.focusedObj = this.annBasePolygon;
            if (!this.parentObj) {
                this.onDrawEnded();
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annBasePolygon) {
                this.annBasePolygon.addPoint(imagePoint);
            }
        }
    };
    AnnFreeArea.prototype.onCreate = function (pointList) {
        this.annBasePolygon = new _base_object_ann_base_polygon__WEBPACK_IMPORTED_MODULE_3__["AnnBasePolygon"](this, [], this.imageViewer, true);
        var dataList = [];
        var length = pointList.length;
        for (var i = 0; i < length; i++) {
            dataList.push([pointList[i].x, pointList[i].y]);
        }
        this.annBasePolygon.setPointList(dataList);
        this.annBasePolygon.setClosed(true);
    };
    AnnFreeArea.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadFreeArea();
    };
    AnnFreeArea.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.pointList);
        this.focusedObj = this.annBasePolygon;
    };
    AnnFreeArea.prototype.onSave = function (annSerialize) {
        this.annBasePolygon.saveBasicInfo(annSerialize, this.annDefData);
        this.annBasePolygon.onSave(annSerialize);
    };
    AnnFreeArea.prototype.onDrag = function (deltaX, deltaY) {
        var _this = this;
        if (this.focusedObj === this.annBasePolygon) {
            this.onTranslate(deltaX, deltaY);
        }
        else {
            this.focusedObj.onTranslate(deltaX, deltaY);
            var index = this.annObjList.findIndex(function (annObj) { return annObj === _this.focusedObj; });
            this.annBasePolygon.updatePoint(index - 1, this.focusedObj.getPosition());
        }
    };
    return AnnFreeArea;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-image.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-image.ts ***!
  \*******************************************************/
/*! exports provided: AnnImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnImage", function() { return AnnImage; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _extend_object_ann_rectangle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../extend-object/ann-rectangle */ "./src/app/annotation/extend-object/ann-rectangle.ts");
/* harmony import */ var _base_object_ann_base_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../base-object/ann-base-image */ "./src/app/annotation/base-object/ann-base-image.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnImage = /** @class */ (function (_super) {
    __extends(AnnImage, _super);
    function AnnImage(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnImage.prototype.onMouseEvent = function (mouseEventType, point) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            this.focusedObj = this.annBaseImage;
            if (!this.parentObj) {
                this.onDrawEnded();
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annBaseImage) {
                this.onMove(imagePoint);
            }
        }
    };
    AnnImage.prototype.onCreate = function (imageFileName, topLeftPoint, bottomRightPoint) {
        var _this = this;
        if (bottomRightPoint === void 0) { bottomRightPoint = undefined; }
        this.imageFileName = imageFileName;
        var imageData = new Image();
        imageData.onload = function (ev) {
            _this.annBaseImage = new _base_object_ann_base_image__WEBPACK_IMPORTED_MODULE_3__["AnnBaseImage"](_this, imageData, topLeftPoint, _this.imageViewer);
            var width, height;
            if (bottomRightPoint) {
                width = bottomRightPoint.x - topLeftPoint.x;
                height = bottomRightPoint.y - topLeftPoint.y;
            }
            else {
                width = _this.annBaseImage.getWidth();
                height = _this.annBaseImage.getHeight();
            }
            _this.annRectangle = new _extend_object_ann_rectangle__WEBPACK_IMPORTED_MODULE_2__["AnnRectangle"](_this, _this.imageViewer);
            _this.annRectangle.onCreate(topLeftPoint, width, height, false);
            _this.annBaseImage.onLevelDown("bottom");
            if (bottomRightPoint) {
                _this.onRectangleChanged();
            }
            if (_this.loadedFromTag) {
                _this.focusedObj = _this.annBaseImage;
                _this.onSelect(_this.selected, _this.selected);
                if (!_this.parentObj) {
                    _this.onDrawEnded();
                }
                _this.imageViewer.refresh();
            }
        };
        imageData.src = this.imageViewer.getBaseUrl() + "assets/img/Stamp/" + imageFileName + ".PNG";
    };
    AnnImage.prototype.onLoad = function (config) {
        this.loadedFromTag = true;
        this.onCreateFromConfig(config);
    };
    AnnImage.prototype.onSave = function (annSerialize) {
        annSerialize.writeString(this.annDefData.imageSuiteAnnName);
        annSerialize.writeString(this.imageFileName);
        annSerialize.writeBytes([]);
        annSerialize.writeInteger(this.annDefData.imageSuiteAnnType, 4);
        annSerialize.writeInteger(1, 4); // created
        annSerialize.writeInteger(0, 4); // moving
        annSerialize.writeInteger(this.selected ? 1 : 0, 1); // selected
        var rect = this.annRectangle.getRect();
        annSerialize.writeIntegerPoint({ x: rect.x, y: rect.y });
        annSerialize.writeIntegerPoint({ x: rect.x + rect.width, y: rect.y + rect.height });
        annSerialize.writeInteger(1, 1);
        annSerialize.writeInteger(0, 4);
    };
    AnnImage.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadImage();
    };
    AnnImage.prototype.onCreateFromConfig = function (config) {
        this.selected = config.selected;
        this.onCreate(config.imageFileName, config.topLeftPoint, config.bottomRightPoint);
    };
    AnnImage.prototype.onSelect = function (selected, focused) {
        _super.prototype.onSelect.call(this, selected, focused);
        if (this.annRectangle) {
            this.annRectangle.setVisible(selected);
        }
    };
    AnnImage.prototype.onDrag = function (deltaX, deltaY) {
        if (this.annRectangle === this.focusedObj) {
            this.annRectangle.onDrag(deltaX, deltaY);
            this.onRectangleChanged();
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnImage.prototype.onMove = function (point) {
        this.annBaseImage.onMove(point);
        var width = this.annBaseImage.getWidth();
        var height = this.annBaseImage.getHeight();
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].pointListFrom(point, _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].TopLeft, width, height);
        this.annRectangle.redraw(pointList);
    };
    AnnImage.prototype.onSwitchFocus = function () {
        this.annRectangle.onSwitchFocus();
    };
    AnnImage.prototype.getRect = function () {
        return this.annBaseImage.getRect();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnImage.prototype.onRectangleChanged = function () {
        var rect = this.annRectangle.getRect();
        rect = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].formatRect(rect);
        this.annBaseImage.onMove(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](rect.x, rect.y));
        this.annBaseImage.setWidth(rect.width);
        this.annBaseImage.setHeight(rect.height);
    };
    return AnnImage;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_1__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-line.ts":
/*!******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-line.ts ***!
  \******************************************************/
/*! exports provided: AnnLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnLine", function() { return AnnLine; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnLine = /** @class */ (function (_super) {
    __extends(AnnLine, _super);
    function AnnLine(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnLine.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annStartPoint) {
                this.annStartPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
                this.annStartPoint.onCreate(imagePoint);
            }
            else {
                this.focusedObj = this.annBaseLine;
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annStartPoint) {
                if (this.annBaseLine) {
                    this.annBaseLine.onMoveEndPoint(imagePoint);
                    this.annEndPoint.onMove(imagePoint);
                }
                else {
                    this.annEndPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
                    this.annEndPoint.onCreate(imagePoint);
                    this.annBaseLine = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, this.annStartPoint.getPosition(), imagePoint, this.imageViewer);
                    // Make sure the start point is on the top the line So that we can easily select it for moving
                    this.annStartPoint.onLevelUp();
                }
            }
        }
    };
    AnnLine.prototype.onCreate = function (startPoint, endPoint) {
        this.onDeleteChildren();
        this.annBaseLine = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, startPoint, endPoint, this.imageViewer);
        this.annStartPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        this.annStartPoint.onCreate(startPoint);
        this.annEndPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        this.annEndPoint.onCreate(endPoint);
        this.focusedObj = this.annBaseLine;
    };
    AnnLine.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadLine();
    };
    AnnLine.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.startPoint, config.endPoint);
        this.focusedObj = this.annBaseLine;
    };
    AnnLine.prototype.onSave = function (annSerialize) {
        this.saveBasicInfo(annSerialize);
        this.annBaseLine.onSave(annSerialize);
    };
    AnnLine.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj === this.annStartPoint) {
            this.onDragStartPoint(deltaX, deltaY);
        }
        else if (this.focusedObj === this.annEndPoint) {
            this.onDragEndPoint(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnLine.prototype.onMoveStartPoint = function (point) {
        this.annBaseLine.onMoveStartPoint(point);
        this.annStartPoint.onMove(point);
    };
    AnnLine.prototype.onMoveEndPoint = function (point) {
        this.annBaseLine.onMoveEndPoint(point);
        this.annEndPoint.onMove(point);
    };
    AnnLine.prototype.getStartPosition = function () {
        return this.annBaseLine.getStartPosition();
    };
    AnnLine.prototype.getEndPosition = function () {
        return this.annBaseLine.getEndPosition();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnLine.prototype.getBaseLine = function () {
        return this.annBaseLine;
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnLine.prototype.onDragStartPoint = function (deltaX, deltaY) {
        this.annStartPoint.onTranslate(deltaX, deltaY);
        var point = this.annStartPoint.getPosition();
        this.annBaseLine.onMoveStartPoint(point);
    };
    AnnLine.prototype.onDragEndPoint = function (deltaX, deltaY) {
        this.annEndPoint.onTranslate(deltaX, deltaY);
        var point = this.annEndPoint.getPosition();
        this.annBaseLine.onMoveEndPoint(point);
    };
    return AnnLine;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-lumbar-curve.ts":
/*!**************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-lumbar-curve.ts ***!
  \**************************************************************/
/*! exports provided: AnnLumbarCurve */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnLumbarCurve", function() { return AnnLumbarCurve; });
/* harmony import */ var _ann_curve__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-curve */ "./src/app/annotation/extend-object/ann-curve.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AnnLumbarCurve = /** @class */ (function (_super) {
    __extends(AnnLumbarCurve, _super);
    function AnnLumbarCurve(parent, imageViewer) {
        var _this = _super.call(this, parent, imageViewer) || this;
        _this.radiusInImage = _this.pixelSpacing ? 220 / _this.pixelSpacing.cx : 220;
        return _this;
    }
    return AnnLumbarCurve;
}(_ann_curve__WEBPACK_IMPORTED_MODULE_0__["AnnCurve"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-mark-spot.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-mark-spot.ts ***!
  \***********************************************************/
/*! exports provided: AnnMarkSpot */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnMarkSpot", function() { return AnnMarkSpot; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AnnMarkSpot = /** @class */ (function (_super) {
    __extends(AnnMarkSpot, _super);
    function AnnMarkSpot(parent, imageViewer) {
        return _super.call(this, parent, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnMarkSpot.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            this.createNewPoint(imagePoint);
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DblClick) {
            // ********** Mouse down was called two times before calling dbclick, need to delete the additional point
            var length_1 = this.annObjList.length;
            if (length_1 > 1) {
                this.onDeleteChild(this.annObjList[length_1 - 1]);
            }
            // Step the guide
            this.imageViewer.stepGuide();
            this.focusedObj = this.annObjList[0];
            if (!this.parentObj) {
                this.onDrawEnded();
            }
        }
    };
    AnnMarkSpot.prototype.onCreate = function (pointList) {
        this.onDeleteChildren();
        for (var i = 0; i < pointList.length; i++) {
            this.createNewPoint(pointList[i]);
        }
    };
    AnnMarkSpot.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadMarkSpot();
    };
    AnnMarkSpot.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.pointList);
        this.focusedObj = this.annObjList[0];
    };
    AnnMarkSpot.prototype.onSave = function (annSerialize) {
        this.saveBasicInfo(annSerialize);
        var count = this.annObjList.length;
        annSerialize.writeInteger(count, 4);
        for (var i = 0; i < count; i++) {
            annSerialize.writeIntegerPoint(this.annObjList[i].getPosition());
        }
    };
    AnnMarkSpot.prototype.onDrag = function (deltaX, deltaY) {
        this.focusedObj.onTranslate(deltaX, deltaY);
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnMarkSpot.prototype.createNewPoint = function (imagePoint) {
        var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
        annPoint.onCreate(imagePoint);
        annPoint.enableShowAlways(true);
        annPoint.setStepIndex(0);
    };
    return AnnMarkSpot;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-point.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-point.ts ***!
  \*******************************************************/
/*! exports provided: AnnPoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnPoint", function() { return AnnPoint; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_circle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-circle */ "./src/app/annotation/base-object/ann-base-circle.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AnnPoint = /** @class */ (function (_super) {
    __extends(AnnPoint, _super);
    function AnnPoint(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.showAlways = false;
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnPoint.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.getTransformMatrix());
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            this.onCreate(imagePoint);
        }
    };
    AnnPoint.prototype.onCreate = function (position) {
        this.annCenterCircle = new _base_object_ann_base_circle__WEBPACK_IMPORTED_MODULE_2__["AnnBaseCircle"](this, position, this.pointRadius, this.imageViewer, true);
        this.annCenterCircle.setMouseResponsible(false);
        this.annOuterCircle = new _base_object_ann_base_circle__WEBPACK_IMPORTED_MODULE_2__["AnnBaseCircle"](this, position, this.pointRadius * 2, this.imageViewer, false);
        this.annOuterCircle.setTransparent(true);
        this.annOuterCircle.setColor(this.annOuterCircle.getDefaultColor());
        this.annOuterCircle.onLevelUp("top");
        this.focusedObj = this.annCenterCircle;
    };
    AnnPoint.prototype.onScale = function () {
        var pointRadius = this.getPointRadius();
        this.setRadius(pointRadius);
        this.annOuterCircle.onScale();
    };
    AnnPoint.prototype.onSelect = function (selected, focused) {
        this.selected = selected;
        var color = selected ? this.selectedColor : this.defaultColor;
        if (focused && !this.focusedObj) {
            this.focusedObj = this.annCenterCircle;
        }
        this.annCenterCircle.setVisible(selected || this.showAlways);
        this.annCenterCircle.setColor(color);
        this.annOuterCircle.setColor(focused ? color : this.annOuterCircle.getDefaultColor());
    };
    AnnPoint.prototype.setRadius = function (radius) {
        this.annCenterCircle.setRadius(radius);
        this.annOuterCircle.setRadius(radius * 2);
    };
    AnnPoint.prototype.getPosition = function () {
        return this.annCenterCircle.getPosition();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnPoint.prototype.enableShowAlways = function (showAlways) {
        this.showAlways = showAlways;
    };
    return AnnPoint;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-polygon.ts":
/*!*********************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-polygon.ts ***!
  \*********************************************************/
/*! exports provided: AnnPolygon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnPolygon", function() { return AnnPolygon; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _base_object_ann_base_polygon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base-object/ann-base-polygon */ "./src/app/annotation/base-object/ann-base-polygon.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var AnnPolygon = /** @class */ (function (_super) {
    __extends(AnnPolygon, _super);
    function AnnPolygon(parent, imageViewer) {
        var _this = _super.call(this, parent, imageViewer) || this;
        _this.moveToCreate = true;
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnPolygon.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (this.annObjList.length === 0) {
                this.annBasePolygon = new _base_object_ann_base_polygon__WEBPACK_IMPORTED_MODULE_4__["AnnBasePolygon"](this, [[imagePoint.x, imagePoint.y]], this.imageViewer);
                this.createNewPoint(imagePoint);
            }
            this.moveToCreate = true;
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].DblClick) {
            // ********** Mouse down was called two times before calling dbclick, need to delete the additional point
            var length_1 = this.annObjList.length;
            if (length_1 > 1) {
                this.onDeleteChild(this.annObjList[length_1 - 1]);
            }
            this.createNewPoint(imagePoint);
            this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
            this.annTextIndicator.onCreate(this.annBasePolygon.getAreaString(), imagePoint);
            this.annBasePolygon.setClosed(true);
            this.focusedObj = this.annBasePolygon;
            if (!this.parentObj) {
                this.onDrawEnded();
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annObjList.length !== 0) {
                if (this.moveToCreate) {
                    this.moveToCreate = false;
                    this.createNewPoint(imagePoint);
                    this.annBasePolygon.addPoint(imagePoint);
                }
                else {
                    this.annBasePolygon.updateLastPoint(imagePoint);
                    this.annPoint.onMove(imagePoint);
                }
            }
        }
    };
    AnnPolygon.prototype.onCreate = function (pointList, showIndicator, arrowStartPoint, arrowEndPoint) {
        if (arrowStartPoint === void 0) { arrowStartPoint = undefined; }
        if (arrowEndPoint === void 0) { arrowEndPoint = undefined; }
        this.annBasePolygon = new _base_object_ann_base_polygon__WEBPACK_IMPORTED_MODULE_4__["AnnBasePolygon"](this, [], this.imageViewer);
        var dataList = [];
        var length = pointList.length;
        for (var i = 0; i < length; i++) {
            dataList.push([pointList[i].x, pointList[i].y]);
            this.createNewPoint(pointList[i]);
        }
        this.annBasePolygon.setPointList(dataList);
        this.annBasePolygon.setClosed(true);
        if (showIndicator) {
            this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
            this.annTextIndicator.onCreate(this.annBasePolygon.getAreaString(), arrowEndPoint, arrowStartPoint);
        }
    };
    AnnPolygon.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadPolygon();
    };
    AnnPolygon.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.pointList, true, config.textIndicator.startPoint, config.textIndicator.endPoint);
        this.focusedObj = this.annBasePolygon;
    };
    AnnPolygon.prototype.onSave = function (annSerialize) {
        this.annBasePolygon.saveBasicInfo(annSerialize, this.annDefData);
        this.annBasePolygon.onSave(annSerialize);
        this.annTextIndicator.onSave(annSerialize);
    };
    AnnPolygon.prototype.onDrag = function (deltaX, deltaY) {
        var _this = this;
        if (this.focusedObj === this.annBasePolygon) {
            this.onTranslate(deltaX, deltaY);
        }
        else if (this.annTextIndicator === this.focusedObj) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
        else {
            this.focusedObj.onTranslate(deltaX, deltaY);
            var index = this.annObjList.findIndex(function (annObj) { return annObj === _this.focusedObj; });
            this.annBasePolygon.updatePoint(index - 1, this.focusedObj.getPosition());
            if (this.annTextIndicator) {
                this.annTextIndicator.redrawArrow();
                this.annTextIndicator.setText(this.annBasePolygon.getAreaString());
            }
        }
    };
    AnnPolygon.prototype.getSurroundPointList = function () {
        var pointList = [];
        for (var i = 1; i < this.annObjList.length - 1; i++) {
            pointList.push(this.annObjList[i].getPosition());
        }
        return pointList;
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnPolygon.prototype.createNewPoint = function (imagePoint) {
        this.annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
        this.annPoint.onCreate(imagePoint);
    };
    return AnnPolygon;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-rectangle.ts":
/*!***********************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-rectangle.ts ***!
  \***********************************************************/
/*! exports provided: AnnRectangle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnRectangle", function() { return AnnRectangle; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../base-object/ann-base-rectangle */ "./src/app/annotation/base-object/ann-base-rectangle.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var AnnRectangle = /** @class */ (function (_super) {
    __extends(AnnRectangle, _super);
    function AnnRectangle(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        /*
             P0                                         P1
                --------------------------------------
                |                                    |
                |                                    |
                |                                    |
                --------------------------------------
             P3                                         P2
    
        */
        _this.annPointList = new Array();
        return _this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnRectangle.prototype.onMouseEvent = function (mouseEventType, point) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (this.annPointList.length === 0) {
                var annTopLeftPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
                annTopLeftPoint.onCreate(imagePoint);
                this.annPointList.push(annTopLeftPoint);
            }
            else {
                this.focusedObj = this.annBaseRectangle;
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annPointList.length !== 0) {
                var pointList = [];
                var topLeftPoint = this.annPointList[0].getPosition();
                pointList.push(topLeftPoint);
                pointList.push({ x: imagePoint.x, y: topLeftPoint.y });
                pointList.push(imagePoint);
                pointList.push({ x: topLeftPoint.x, y: imagePoint.y });
                if (this.annBaseRectangle) {
                    this.redraw(pointList);
                }
                else {
                    for (var i = 1; i < 4; i++) {
                        var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
                        annPoint.onCreate(pointList[i]);
                        this.annPointList.push(annPoint);
                    }
                    this.annBaseRectangle = new _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_4__["AnnBaseRectangle"](this, topLeftPoint, imagePoint.x - topLeftPoint.x, imagePoint.y - topLeftPoint.y, this.imageViewer);
                    this.annBaseRectangle.onLevelDown("bottom");
                    this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
                    this.annTextIndicator.onCreate(this.annBaseRectangle.getAreaString(), topLeftPoint);
                }
            }
        }
    };
    AnnRectangle.prototype.onCreate = function (topLeftPoint, width, height, showIndicator, arrowStartPoint, arrowEndPoint) {
        if (arrowStartPoint === void 0) { arrowStartPoint = undefined; }
        if (arrowEndPoint === void 0) { arrowEndPoint = undefined; }
        var pointList = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointListFrom(topLeftPoint, _models_annotation__WEBPACK_IMPORTED_MODULE_0__["PositionInRectangle"].TopLeft, width, height);
        if (arrowStartPoint) {
            pointList.push(arrowStartPoint);
        }
        if (arrowEndPoint) {
            pointList.push(arrowEndPoint);
        }
        this.createFromPointList(pointList, showIndicator);
        this.focusedObj = this.annBaseRectangle;
    };
    AnnRectangle.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadRectangle();
    };
    AnnRectangle.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.baseRect.topLeftPoint, config.baseRect.width, config.baseRect.height, true, config.textIndicator.startPoint, config.textIndicator.endPoint);
        this.focusedObj = this.annBaseRectangle;
    };
    AnnRectangle.prototype.onSave = function (annSerialize) {
        this.saveBasicInfo(annSerialize);
        this.annBaseRectangle.onSave(annSerialize);
        this.annTextIndicator.onSave(annSerialize);
    };
    AnnRectangle.prototype.onDrag = function (deltaX, deltaY) {
        var _this = this;
        if (this.annBaseRectangle === this.focusedObj) {
            this.onTranslate(deltaX, deltaY);
        }
        else if (this.annPointList.some(function (annObj) { return annObj === _this.focusedObj; })) {
            this.focusedObj.onTranslate(deltaX, deltaY);
            this.onPointDragged(this.focusedObj, deltaX, deltaY);
        }
        else if (this.annTextIndicator === this.focusedObj) {
            this.onTextDragged(deltaX, deltaY);
        }
    };
    AnnRectangle.prototype.getSurroundPointList = function () {
        var pointList = [];
        for (var i = 0; i < 4; i++) {
            pointList.push(this.annPointList[i].getPosition());
        }
        return pointList;
    };
    AnnRectangle.prototype.getRect = function () {
        return this.annBaseRectangle.getRect();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnRectangle.prototype.redraw = function (pointList) {
        for (var i = 0; i < 4; i++) {
            this.annPointList[i].onMove(pointList[i]);
        }
        this.annBaseRectangle.redraw(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Rectangle"](pointList[0].x, pointList[0].y, pointList[2].x - pointList[0].x, pointList[2].y - pointList[0].y));
        if (this.annTextIndicator) {
            this.annTextIndicator.redrawArrow();
            this.annTextIndicator.setText(this.annBaseRectangle.getAreaString());
        }
    };
    AnnRectangle.prototype.showBorder = function (show) {
        this.annBaseRectangle.setVisible(show);
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnRectangle.prototype.onPointDragged = function (draggedObj, deltaX, deltaY) {
        var pointList = this.getSurroundPointList();
        if (draggedObj === this.annPointList[0]) {
            pointList[1].y = pointList[0].y;
            pointList[3].x = pointList[0].x;
        }
        else if (draggedObj === this.annPointList[1]) {
            pointList[0].y = pointList[1].y;
            pointList[2].x = pointList[1].x;
        }
        else if (draggedObj === this.annPointList[2]) {
            pointList[3].y = pointList[2].y;
            pointList[1].x = pointList[2].x;
        }
        else if (draggedObj === this.annPointList[3]) {
            pointList[2].y = pointList[3].y;
            pointList[0].x = pointList[3].x;
        }
        this.redraw(pointList);
    };
    AnnRectangle.prototype.onTextDragged = function (deltaX, deltaY) {
        this.annTextIndicator.onDrag(deltaX, deltaY);
    };
    AnnRectangle.prototype.createFromPointList = function (pointList, showIndicator) {
        for (var i = 0; i < 4; i++) {
            var annPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
            annPoint.onCreate(pointList[i]);
            this.annPointList.push(annPoint);
        }
        this.annBaseRectangle = new _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_4__["AnnBaseRectangle"](this, pointList[0], pointList[2].x - pointList[0].x, pointList[2].y - pointList[0].y, this.imageViewer);
        this.annBaseRectangle.onLevelDown("bottom");
        if (showIndicator) {
            this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
            var arrowStartPoint = pointList.length >= 5 ? pointList[4] : undefined;
            var arrowEndPoint = pointList.length === 6 ? pointList[5] : pointList[0];
            this.annTextIndicator.onCreate(this.annBaseRectangle.getAreaString(), arrowEndPoint, arrowStartPoint);
        }
    };
    return AnnRectangle;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_2__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-ruler.ts":
/*!*******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-ruler.ts ***!
  \*******************************************************/
/*! exports provided: AnnRuler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnRuler", function() { return AnnRuler; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
/* harmony import */ var _ann_line__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ann-line */ "./src/app/annotation/extend-object/ann-line.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var AnnRuler = /** @class */ (function (_super) {
    __extends(AnnRuler, _super);
    function AnnRuler(parentObj, imageViewer) {
        var _this = _super.call(this, parentObj, imageViewer) || this;
        _this.rulerNode = 15;
        return _this;
    }
    AnnRuler.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (!this.annLine) {
                this.annLine = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
                this.annLine.onMouseEvent(mouseEventType, point, null);
            }
            else {
                this.redraw(this.annLine.getStartPosition(), imagePoint);
                this.focusedObj = this.annLine;
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            if (this.annLine) {
                this.annLine.onMouseEvent(mouseEventType, point, null);
                this.redraw(this.annLine.getStartPosition(), imagePoint);
            }
        }
    };
    AnnRuler.prototype.onCreate = function (startPoint, endPoint, textPoint) {
        this.onDeleteChildren();
        this.annLine = new _ann_line__WEBPACK_IMPORTED_MODULE_6__["AnnLine"](this, this.imageViewer);
        this.annLine.onCreate(startPoint, endPoint);
        this.redraw(startPoint, endPoint, textPoint);
    };
    AnnRuler.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadRuler();
    };
    AnnRuler.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.startPoint, config.endPoint, config.textIndicator.startPoint);
        this.focusedObj = this.annLine;
    };
    AnnRuler.prototype.onSave = function (annSerialize) {
        this.saveBasicInfo(annSerialize);
        this.annLine.getBaseLine().onSave(annSerialize);
        this.lineNodeA.onSave(annSerialize);
        this.lineNodeB.onSave(annSerialize);
        this.annTextIndicator.onSave(annSerialize);
    };
    AnnRuler.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj === this.annLine) {
            this.annLine.onDrag(deltaX, deltaY);
            this.redraw(this.annLine.getStartPosition(), this.annLine.getEndPosition());
            this.annMiddlePoint.onMove(_ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(this.annLine.getStartPosition(), this.annLine.getEndPosition()));
            var text = this.getLength(this.annLine.getStartPosition(), this.annLine.getEndPosition());
            this.annTextIndicator.setText(text);
        }
        else if (this.focusedObj === this.annTextIndicator) {
            this.annTextIndicator.onDrag(deltaX, deltaY);
        }
        else {
            this.onTranslate(deltaX, deltaY);
        }
    };
    AnnRuler.prototype.getSurroundPointList = function () {
        _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(this.annLine.getStartPosition(), this.annLine.getEndPosition());
        return [this.annMiddlePoint.getPosition()];
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnRuler.prototype.redraw = function (startPoint, endPoint, textPoint) {
        if (textPoint === void 0) { textPoint = undefined; }
        var sineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(endPoint, startPoint);
        var cosineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(endPoint, startPoint);
        var ptStartA;
        var ptStartB;
        var ptEndA;
        var ptEndB;
        ptStartA = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        ptStartB = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        ptEndA = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        ptEndB = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Point"](0, 0);
        ptStartA.x = startPoint.x - this.rulerNode * sineTheta + 0.5;
        ptStartB.x = startPoint.x + this.rulerNode * sineTheta + 0.5;
        ptStartA.y = startPoint.y + this.rulerNode * cosineTheta + 0.5;
        ptStartB.y = startPoint.y - this.rulerNode * cosineTheta + 0.5;
        sineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getSineTheta(startPoint, endPoint);
        cosineTheta = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].getCosineTheta(startPoint, endPoint);
        ptEndA.x = endPoint.x - this.rulerNode * sineTheta + 0.5;
        ptEndB.x = endPoint.x + this.rulerNode * sineTheta + 0.5;
        ptEndA.y = endPoint.y + this.rulerNode * cosineTheta + 0.5;
        ptEndB.y = endPoint.y - this.rulerNode * cosineTheta + 0.5;
        if (!this.lineNodeA) {
            this.lineNodeA = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, ptStartA, ptStartB, this.imageViewer);
            this.lineNodeA.onLevelDown("bottom");
        }
        else {
            this.lineNodeA.onMoveStartPoint(ptStartA);
            this.lineNodeA.onMoveEndPoint(ptStartB);
        }
        if (!this.lineNodeB) {
            this.lineNodeB = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, ptEndA, ptEndB, this.imageViewer);
            this.lineNodeB.onLevelDown("bottom");
        }
        else {
            this.lineNodeB.onMoveStartPoint(ptEndA);
            this.lineNodeB.onMoveEndPoint(ptEndB);
        }
        var centerPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(startPoint, endPoint);
        if (!this.annMiddlePoint) {
            this.annMiddlePoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
            this.annMiddlePoint.onCreate(centerPoint);
        }
        else {
            this.annMiddlePoint.onMove(centerPoint);
        }
        var text = this.getLength(startPoint, endPoint);
        if (!this.annTextIndicator) {
            this.annTextIndicator = new _ann_text_indicator__WEBPACK_IMPORTED_MODULE_5__["AnnTextIndicator"](this, this.imageViewer);
            this.annTextIndicator.onCreate(text, this.annMiddlePoint.getPosition(), textPoint);
        }
        else {
            this.annTextIndicator.setText(text);
        }
    };
    AnnRuler.prototype.getLength = function (startPoint, endPoint) {
        var strDist;
        if (this.pixelSpacing) {
            var dDistance = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countPhysicalDistance(startPoint, endPoint, this.pixelSpacing);
            strDist = dDistance.toFixed(2) + "mm";
        }
        else {
            var dDistance = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].countDistance(startPoint, endPoint);
            strDist = dDistance.toFixed(2) + "pt";
        }
        return strDist;
    };
    return AnnRuler;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-text-indicator.ts":
/*!****************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-text-indicator.ts ***!
  \****************************************************************/
/*! exports provided: AnnTextIndicator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnTextIndicator", function() { return AnnTextIndicator; });
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ann-text */ "./src/app/annotation/extend-object/ann-text.ts");
/* harmony import */ var _ann_arrow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-arrow */ "./src/app/annotation/extend-object/ann-arrow.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var AnnTextIndicator = /** @class */ (function (_super) {
    __extends(AnnTextIndicator, _super);
    function AnnTextIndicator(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    // The point is the coordinate of image layer, for text, need to convert to text layer coordinate
    AnnTextIndicator.prototype.onCreate = function (text, targetPoint, arrowStartPoint) {
        if (arrowStartPoint === void 0) { arrowStartPoint = undefined; }
        this.onDeleteChildren();
        if (!arrowStartPoint) {
            var delta = 30 / this.image.getScaleValue();
            arrowStartPoint = { x: targetPoint.x + delta, y: targetPoint.y - delta };
        }
        this.annArrow = new _ann_arrow__WEBPACK_IMPORTED_MODULE_3__["AnnArrow"](this, this.imageViewer);
        this.annArrow.onCreate(arrowStartPoint, targetPoint);
        this.annArrow.onLevelDown("bottom");
        this.annArrow.setMouseResponsible(false);
        this.annText = new _ann_text__WEBPACK_IMPORTED_MODULE_2__["AnnText"](this, this.imageViewer);
        this.annText.onCreate(arrowStartPoint, text);
        this.focusedObj = this.annText;
        if (!this.parentObj) {
            this.onDrawEnded();
        }
    };
    AnnTextIndicator.prototype.onSave = function (annSerialize) {
        annSerialize.writeString("CGXAnnLabel");
        annSerialize.writeInteger(1, 4);
        annSerialize.writeInteger(0, 1);
        this.annArrow.onSave(annSerialize, false);
        this.annText.onSave(annSerialize);
    };
    AnnTextIndicator.prototype.onDrag = function (deltaX, deltaY) {
        this.annText.onDrag(deltaX, deltaY);
        this.redrawArrow();
    };
    AnnTextIndicator.prototype.onTranslate = function (deltaX, deltaY) {
        this.annArrow.onTranslate(deltaX, deltaY);
        this.redrawText();
    };
    AnnTextIndicator.prototype.onFlip = function (vertical) {
        this.annArrow.onFlip(vertical);
        this.redrawText();
    };
    AnnTextIndicator.prototype.onRotate = function (angle) {
        this.redrawText();
    };
    AnnTextIndicator.prototype.onSwitchFocus = function () {
        this.focusedObj = this.annText;
        this.onChildSelected(this.annText);
    };
    AnnTextIndicator.prototype.redrawArrow = function () {
        // Draw the arrow, keep text position unchanged.
        var parentPosList = this.parentObj.getSurroundPointList();
        if (parentPosList.length === 0) {
            alert(this.parentObj.constructor.name +
                " did NOT implement function getSurroundPointList. For annotations contain text indicator, must implement it.");
            return;
        }
        var posList = this.getShortestDistancePoint(parentPosList, this.getTextPointList());
        this.annArrow.onMoveStartPoint(posList[1]);
        this.annArrow.onMoveEndPoint(posList[0]);
    };
    AnnTextIndicator.prototype.redrawText = function () {
        // Draw the text, keep the arrow position unchanged
        var arrowStartPoint = this.annArrow.getStartPosition();
        //const parentPosList = this.parentObj.getSurroundPointList();
        //const textRect = this.annText.getRect();
        //const posList = [PositionInRectangle.TopLeft, PositionInRectangle.TopRight, PositionInRectangle.BottomRight, PositionInRectangle.BottomLeft];
        //let i = 0;
        //for (; i < 4; i ++) {
        //    const textPointList = AnnTool.pointListFrom(arrowStartPoint, posList[i], textRect.width, textRect.height);
        //    const arrowPointList = this.getShortestDistancePoint(parentPosList, textPointList);
        //    if (AnnTool.equalPoint(arrowStartPoint, arrowPointList[1])) {
        //        break;
        //    }
        //}
        //if (i === 4) {
        //    alert("error!");
        //    return;
        //}
        //const textStartPoint = arrowStartPoint;
        //if (posList[i] === PositionInRectangle.TopLeft) {
        //    textStartPoint.y += textRect.height;
        //} else if (posList[i] === PositionInRectangle.TopRight) {
        //    textStartPoint.x -= textRect.width;
        //    textStartPoint.y += textRect.height;
        //} else if (posList[i] === PositionInRectangle.BottomRight) {
        //    textStartPoint.x -= textRect.width;
        //}
        this.annText.onMove(arrowStartPoint);
    };
    AnnTextIndicator.prototype.setText = function (text) {
        this.annText.setText(text);
        this.redrawArrow();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnTextIndicator.prototype.getShortestDistancePoint = function (destPointList, textPointList) {
        var lenDest = destPointList.length;
        var lenText = textPointList.length;
        var retPointList = [];
        retPointList.push(destPointList[0]);
        retPointList.push(textPointList[0]);
        var minLen = Number.MAX_VALUE;
        for (var i = 0; i < lenDest; i++) {
            for (var j = 0; j < lenText; j++) {
                var distance = _ann_tool__WEBPACK_IMPORTED_MODULE_0__["AnnTool"].countDistance(destPointList[i], textPointList[j]);
                if (distance < minLen) {
                    minLen = distance;
                    retPointList[0] = destPointList[i];
                    retPointList[1] = textPointList[j];
                }
            }
        }
        return retPointList;
    };
    AnnTextIndicator.prototype.getTextPointList = function () {
        return this.annText.getSurroundPointList();
    };
    return AnnTextIndicator;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_1__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-text.ts":
/*!******************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-text.ts ***!
  \******************************************************/
/*! exports provided: AnnText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnText", function() { return AnnText; });
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../base-object/ann-base-rectangle */ "./src/app/annotation/base-object/ann-base-rectangle.ts");
/* harmony import */ var _base_object_ann_base_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-text */ "./src/app/annotation/base-object/ann-base-text.ts");
/* harmony import */ var _extend_object_ann_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../extend-object/ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnText = /** @class */ (function (_super) {
    __extends(AnnText, _super);
    function AnnText(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnText.prototype.onCreate = function (position, text, forTextIndicator) {
        if (forTextIndicator === void 0) { forTextIndicator = true; }
        this.forTextIndicator = forTextIndicator;
        this.annBaseText = new _base_object_ann_base_text__WEBPACK_IMPORTED_MODULE_2__["AnnBaseText"](this, " " + text + " ", position, this.imageViewer);
        this.annBaseText.setFontSizeFixed(!forTextIndicator);
        var rect = this.annBaseText.getRect();
        this.annRectangle = new _base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_1__["AnnBaseRectangle"](this, { x: rect.x, y: rect.y }, rect.width, rect.height, this.imageViewer, true);
        if (!forTextIndicator) {
            var posPoint = { x: rect.x, y: rect.y + rect.height };
            var posAnn = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].annLabelLayerToAnnLayer(posPoint, this.imageViewer);
            this.annPosPoint = new _extend_object_ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
            this.annPosPoint.onCreate(posAnn);
            this.annPosPoint.setVisible(false);
            this.annPosPoint.enableShowAlways(false);
            var adjustPoint = { x: rect.x + rect.width, y: rect.y + rect.height };
            var adjustAnn = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].annLabelLayerToAnnLayer(adjustPoint, this.imageViewer);
            this.annAdjustPoint = new _extend_object_ann_point__WEBPACK_IMPORTED_MODULE_3__["AnnPoint"](this, this.imageViewer);
            this.annAdjustPoint.onCreate(adjustAnn);
        }
        this.annBaseText.onLevelDown("bottom");
        this.focusedObj = this.annRectangle;
    };
    AnnText.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadTextMark();
    };
    AnnText.prototype.onCreateFromConfig = function (config) {
        this.onCreate(config.position, config.text, false);
        this.annBaseText.setFontSize(config.fontSize * 2);
        this.redrawByText();
        this.focusedObj = this.annRectangle;
    };
    AnnText.prototype.onSave = function (annSerialize) {
        var fontSize = this.annBaseText.getCreateFontSize();
        if (!this.forTextIndicator) {
            annSerialize.writeString(this.annDefData.imageSuiteAnnName);
            annSerialize.writeInteger(this.annDefData.imageSuiteAnnType, 4); // AnnType
            annSerialize.writeInteger(1, 4); // created
            annSerialize.writeInteger(0, 4); // is active
            annSerialize.writeInteger(0, 4); // edit created
            annSerialize.writeInteger(1, 4); // state
            annSerialize.writeInteger(this.selected ? 1 : 0, 1); // selected
            annSerialize.writeInteger(fontSize / 2, 4); // font size 
        }
        annSerialize.writeString("CGXAnnText");
        annSerialize.writeInteger(1, 4);
        annSerialize.writeInteger(0, 4);
        annSerialize.writeInteger(0, 1);
        var pointList = this.annRectangle.getSurroundPointList();
        annSerialize.writeIntegerPoint(pointList[2]);
        annSerialize.writeIntegerPoint(pointList[0]);
        annSerialize.writeString(this.annBaseText.getText().trim());
        annSerialize.writeInteger(1, 4);
        annSerialize.writeInteger(0, 4);
        annSerialize.writeInteger(fontSize, 4);
    };
    AnnText.prototype.onScale = function () {
        if (this.forTextIndicator) {
            _super.prototype.onScale.call(this);
            this.redrawByText();
        }
        else {
            this.annRectangle.onScale();
            this.annPosPoint.onScale();
            this.annAdjustPoint.onScale();
        }
    };
    AnnText.prototype.onFlip = function (vertical) {
        if (this.forTextIndicator) {
            _super.prototype.onFlip.call(this, vertical);
        }
        else {
            this.annPosPoint.onFlip(vertical);
            this.redrawByPosPoint();
        }
    };
    AnnText.prototype.onRotate = function (angle) {
        if (this.forTextIndicator) {
            _super.prototype.onRotate.call(this, angle);
        }
        else {
            this.annPosPoint.onRotate(angle);
            this.redrawByPosPoint();
        }
    };
    AnnText.prototype.onDrag = function (deltaX, deltaY) {
        if (this.focusedObj === this.annRectangle || this.focusedObj === this.annBaseText) {
            this.annBaseText.onDrag(deltaX, deltaY);
            this.redrawByText();
        }
        else if (this.focusedObj === this.annAdjustPoint) {
            this.annAdjustPoint.setVisible(false);
            this.annAdjustPoint.onDrag(deltaX, deltaY);
            this.redrawByAdjustPoint();
        }
    };
    AnnText.prototype.onDragEnded = function (pos) {
        if (this.focusedObj === this.annAdjustPoint) {
            this.annAdjustPoint.setVisible(true);
            this.focusedObj = this.annRectangle;
            this.redrawByText();
            this.imageViewer.refresh();
        }
    };
    AnnText.prototype.onMove = function (point) {
        this.annBaseText.onMove(point);
        this.redrawByText();
    };
    AnnText.prototype.getPosition = function () {
        return this.annRectangle.getPosition();
    };
    AnnText.prototype.getSurroundPointList = function () {
        return this.annRectangle.getSurroundPointList();
    };
    AnnText.prototype.setText = function (text) {
        this.annBaseText.setText(text);
        this.redrawByText();
    };
    AnnText.prototype.getRect = function () {
        return this.annBaseText.getRect();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnText.prototype.redrawByPosPoint = function () {
        this.annBaseText.onMove(this.annPosPoint.getPosition());
        var rect = this.annBaseText.getRect();
        this.annRectangle.redraw(rect);
        this.annBaseText.onLevelUp();
        var adjustPoint = { x: rect.x + rect.width, y: rect.y + rect.height };
        var adjustAnn = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].annLabelLayerToAnnLayer(adjustPoint, this.imageViewer);
        this.annAdjustPoint.onMove(adjustAnn);
    };
    AnnText.prototype.redrawByText = function () {
        var rect = this.annBaseText.getRect();
        this.annRectangle.redraw(rect);
        if (!this.forTextIndicator) {
            var posPoint = { x: rect.x, y: rect.y + rect.height };
            var posAnn = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].annLabelLayerToAnnLayer(posPoint, this.imageViewer);
            this.annPosPoint.onMove(posAnn);
            var adjustPoint = { x: rect.x + rect.width, y: rect.y + rect.height };
            var adjustAnn = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].annLabelLayerToAnnLayer(adjustPoint, this.imageViewer);
            this.annAdjustPoint.onMove(adjustAnn);
        }
    };
    AnnText.prototype.redrawByAdjustPoint = function () {
        var adjustPoint = this.annAdjustPoint.getPosition();
        var newBottomRight = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].annLayerToAnnLabelLayer(adjustPoint, this.imageViewer);
        var pos = this.annRectangle.getPosition();
        var oldHeight = this.annRectangle.getHeight();
        var fontSize = this.annBaseText.getCreateFontSize();
        var newFontSize = fontSize * (newBottomRight.y - pos.y) / oldHeight;
        if (newFontSize < 0) {
            return;
        }
        this.annBaseText.setFontSize(newFontSize);
        var rect = this.annBaseText.getRect();
        this.annRectangle.redraw(rect);
        var posPoint = { x: rect.x, y: rect.y + rect.height };
        var posAnn = _ann_tool__WEBPACK_IMPORTED_MODULE_4__["AnnTool"].annLabelLayerToAnnLayer(posPoint, this.imageViewer);
        this.annPosPoint.onMove(posAnn);
    };
    return AnnText;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_0__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/extend-object/ann-vertical-axis.ts":
/*!***************************************************************!*\
  !*** ./src/app/annotation/extend-object/ann-vertical-axis.ts ***!
  \***************************************************************/
/*! exports provided: AnnVerticalAxis */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnVerticalAxis", function() { return AnnVerticalAxis; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base-object/ann-base-line */ "./src/app/annotation/base-object/ann-base-line.ts");
/* harmony import */ var _ann_extend_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ann-extend-object */ "./src/app/annotation/extend-object/ann-extend-object.ts");
/* harmony import */ var _ann_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var AnnVerticalAxis = /** @class */ (function (_super) {
    __extends(AnnVerticalAxis, _super);
    function AnnVerticalAxis(parentObj, imageViewer) {
        return _super.call(this, parentObj, imageViewer) || this;
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Override functions of base class
    AnnVerticalAxis.prototype.onMouseEvent = function (mouseEventType, point, mouseObj) {
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].screenToImage(point, this.image.transformMatrix);
        if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseDown) {
            if (this.created) {
                this.onSelect(true, false);
                return;
            }
            if (this.annBaseLine) {
                this.createCenterPoint();
                if (!this.parentObj) {
                    this.onDrawEnded();
                }
            }
        }
        else if (mouseEventType === _models_annotation__WEBPACK_IMPORTED_MODULE_0__["MouseEventType"].MouseMove) {
            this.redraw(imagePoint);
        }
    };
    AnnVerticalAxis.prototype.onCreate = function (centerPoint) {
        this.onDeleteChildren();
        this.redraw(centerPoint);
        this.createCenterPoint();
    };
    AnnVerticalAxis.prototype.onLoadConfig = function (annSerialize) {
        return annSerialize.loadVerticalAxis();
    };
    AnnVerticalAxis.prototype.onCreateFromConfig = function (config) {
        var centerPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(config.startPoint, config.endPoint);
        this.onCreate(centerPoint);
        this.focusedObj = this.annBaseLine;
    };
    AnnVerticalAxis.prototype.onSave = function (annSerialize) {
        this.saveBasicInfo(annSerialize);
        annSerialize.writeInteger(0, 4); //initRotateCount
        this.annBaseLine.onSave(annSerialize);
    };
    AnnVerticalAxis.prototype.onDrag = function (deltaX, deltaY) {
        this.onTranslate(deltaX, 0);
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnVerticalAxis.prototype.redraw = function (centerPoint) {
        var startPoint = { x: centerPoint.x, y: 0 };
        var endPoint = { x: centerPoint.x, y: this.image.height() };
        if (this.annBaseLine) {
            this.annBaseLine.onMoveStartPoint(startPoint);
            this.annBaseLine.onMoveEndPoint(endPoint);
        }
        else {
            this.annBaseLine = new _base_object_ann_base_line__WEBPACK_IMPORTED_MODULE_2__["AnnBaseLine"](this, startPoint, endPoint, this.imageViewer);
        }
    };
    AnnVerticalAxis.prototype.createCenterPoint = function () {
        var centerPoint = _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].centerPoint(this.annBaseLine.getStartPosition(), this.annBaseLine.getEndPosition());
        this.annCenterPoint = new _ann_point__WEBPACK_IMPORTED_MODULE_4__["AnnPoint"](this, this.imageViewer);
        this.annCenterPoint.onCreate(centerPoint);
    };
    return AnnVerticalAxis;
}(_ann_extend_object__WEBPACK_IMPORTED_MODULE_3__["AnnExtendObject"]));



/***/ }),

/***/ "./src/app/annotation/layer-object/ann-graphic-overlay.ts":
/*!****************************************************************!*\
  !*** ./src/app/annotation/layer-object/ann-graphic-overlay.ts ***!
  \****************************************************************/
/*! exports provided: AnnGraphicOverlay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGraphicOverlay", function() { return AnnGraphicOverlay; });
/* harmony import */ var _base_object_ann_base_graphic_overlay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base-object/ann-base-graphic-overlay */ "./src/app/annotation/base-object/ann-base-graphic-overlay.ts");

var AnnGraphicOverlay = /** @class */ (function () {
    function AnnGraphicOverlay(graphicOverlayDataList, imageViewer) {
        var _this = this;
        this.graphicOverlayDataList = graphicOverlayDataList;
        this.imageViewer = imageViewer;
        this.annGraphicOverlayList = new Array();
        this.mgLayerDrawn = false;
        this.graphicOverlayDataList.forEach(function (graphicOverlayData) { return _this.annGraphicOverlayList.push(new _base_object_ann_base_graphic_overlay__WEBPACK_IMPORTED_MODULE_0__["AnnBaseGraphicOverlay"](undefined, graphicOverlayData, imageViewer, imageViewer.getImageLayerId())); });
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnGraphicOverlay.prototype.onFlip = function (vertical) {
        this.annGraphicOverlayList.forEach(function (annObj) { return annObj.onFlip(vertical); });
    };
    AnnGraphicOverlay.prototype.setVisible = function (visible) {
        this.annGraphicOverlayList.forEach(function (annObj) { return annObj.setVisible(visible); });
    };
    AnnGraphicOverlay.prototype.onReset = function () {
        this.annGraphicOverlayList.forEach(function (annObj) { return annObj.onReset(); });
    };
    AnnGraphicOverlay.prototype.del = function () {
        this.annGraphicOverlayList.forEach(function (annObj) { return annObj.onDeleteChildren(); });
    };
    AnnGraphicOverlay.prototype.drawToMgLayer = function () {
        var _this = this;
        if (!this.mgLayerDrawn) {
            this.graphicOverlayDataList.forEach(function (graphicOverlayData) { return _this.annGraphicOverlayList.push(new _base_object_ann_base_graphic_overlay__WEBPACK_IMPORTED_MODULE_0__["AnnBaseGraphicOverlay"](undefined, graphicOverlayData, _this.imageViewer, _this.imageViewer.getMgLayer().id)); });
        }
        this.mgLayerDrawn = true;
    };
    return AnnGraphicOverlay;
}());



/***/ }),

/***/ "./src/app/annotation/layer-object/ann-guide.ts":
/*!******************************************************!*\
  !*** ./src/app/annotation/layer-object/ann-guide.ts ***!
  \******************************************************/
/*! exports provided: AnnGuide */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuide", function() { return AnnGuide; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");


var AnnGuide = /** @class */ (function () {
    function AnnGuide(imageViewer) {
        var _this = this;
        this.imageViewer = imageViewer;
        this.backgroundColor = "rgba(96,96,96,0.6)";
        this.borderColor = "#888";
        this.totalWidth = 605;
        this.totalHeight = 160;
        this.textAreaWidth = 420;
        this.tutorImageWidth = 125;
        this.tutorImageHeight = 150;
        this.stepButtonWidth = 20;
        this.stepButtonHeight = 20;
        this.actionButtonHeight = 40;
        this.interval = 5;
        this.annStepDataList = [];
        this.stepIndex = 0;
        this.showStepList = true;
        this.actionButtonLoaded = false;
        this.layerId = imageViewer.getAnnGuideLayerId();
        this.baseUrl = this.imageViewer.getBaseUrl();
        this.font = this.imageViewer.getTextFont();
        this.annGuideCloseButton = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideActionButton"](this.baseUrl, "close", this.onClose);
        this.annGuideResetButton = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideActionButton"](this.baseUrl, "reset", this.onReset);
        this.annGuideHideButton = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideActionButton"](this.baseUrl, "hide", this.onHide);
        this.annGuideShowButton = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideActionButton"](this.baseUrl, "show", this.onShow);
        var guideLayer = this.imageViewer.getAnnGuideLayer();
        guideLayer.click(function (arg) { return false; });
        guideLayer.dblclick(function (arg) { return false; });
        guideLayer.mousedown(function (arg) { return false; });
        guideLayer.mouseup(function (arg) { return false; });
        guideLayer.mousemove(function (arg) { return false; });
        guideLayer.mouseover(function (arg) {
            if (!_this.isHidden()) {
                _this.imageViewer.setCursor("default");
            }
            return false;
        });
        guideLayer.mouseout(function (arg) {
            if (!_this.isHidden()) {
                _this.imageViewer.setCursor(undefined);
            }
            return false;
        });
    }
    AnnGuide.createAnnGuideDataList = function () {
        var annGuideCervicalCurve = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideData"]("AnnCervicalCurve");
        annGuideCervicalCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnCervicalCurve_01.png", "Step 1. Click to place a point on the center of the anterior tubercle of the anterior arch"));
        annGuideCervicalCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnCervicalCurve_02.png", "Step 2. Click to place a point on the top center of the first thoracic vertebrae"));
        annGuideCervicalCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnCervicalCurve_03.png", "Step 3. Click on either side of the line to flip the curve. Move center point to change radius of curve", "Step 3. Move center point to change radius of curve"));
        this.annGuideDataList.push(annGuideCervicalCurve);
        var annGuideLumbarCurve = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideData"]("AnnLumbarCurve");
        annGuideLumbarCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnLumbarCurve_01.png", "Step 1. Click to place a point on center of 12th thoracic vertebrae"));
        annGuideLumbarCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnLumbarCurve_02.png", "Step 2. Click to place a point on top center of sacrum"));
        annGuideLumbarCurve.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnLumbarCurve_03.png", "Step 3. Click either side of line to flip curve.Move center point to change radius of curve", "Step 3. Move center point to change radius of curve"));
        this.annGuideDataList.push(annGuideLumbarCurve);
        var annCardiothoracicRatio = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideData"]("AnnCardiothoracicRatio");
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_01.png", "Step 1. Click to place a point on the highest point of the spine"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_02.png", "Step 2. Click to place a point on the lowest point of the spine"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_03.png", "Step 3. Click to place a point on the right side of the heart at its widest point"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_04.png", "Step 4. Click to place a point on the left side of the heart at its widest point"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_05.png", "Step 5. Click to place a point on the right side of the chest at its widest point"));
        annCardiothoracicRatio.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnHCRatio_06.png", "Step 6. Click to place a point on the left side of the chest at its widest point"));
        this.annGuideDataList.push(annCardiothoracicRatio);
        var annGuideMarkSpot = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideData"]("AnnMarkSpot");
        annGuideMarkSpot.addStepConfig(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepConfig"]("CGXAnnMarkSpot_01.png", "Step 1.Click to place point(s) on the anatomy. Double Click when complete"));
        this.annGuideDataList.push(annGuideMarkSpot);
    };
    AnnGuide.findAnnGuideData = function (annName) {
        var result = AnnGuide.annGuideDataList.filter(function (guideData) { return guideData.annName === annName; });
        if (result.length === 0) {
            alert("AnnGuide.findAnnGuideData() - Can not find guide data for annotation " + annName + " in the list");
            return undefined;
        }
        else {
            if (result.length > 1) {
                alert("AnnGuide.findAnnGuideData() - There are more than one guide data for annotation " + annName + " in the list");
            }
            return result[0];
        }
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    // Show the guide
    AnnGuide.prototype.show = function (targetAnnName, stepIndex) {
        var _this = this;
        if (stepIndex === void 0) { stepIndex = 0; }
        // show the guide layer
        this.imageViewer.getAnnGuideLayer().visible(true);
        // Different annotation, need to lo
        if (this.targetAnnName !== targetAnnName) {
            this.targetAnnName = targetAnnName;
            this.stepIndex = stepIndex;
            this.delJcObj(false);
            var promiseList = [];
            var tutorImageAlreadyLoaded_1 = this.createStepDataList(targetAnnName);
            if (!tutorImageAlreadyLoaded_1) {
                // The tutor images of this annotation are NOT loaded
                for (var i = 0; i < this.annStepDataList.length; i++) {
                    promiseList.push(this.createPromiseForStepData(i));
                }
            }
            // Load action button images if NOT loaded
            if (!this.actionButtonLoaded) {
                promiseList = promiseList.concat(this.createPromiseListForActionButton(this.annGuideCloseButton));
                promiseList = promiseList.concat(this.createPromiseListForActionButton(this.annGuideResetButton));
                promiseList = promiseList.concat(this.createPromiseListForActionButton(this.annGuideHideButton));
                promiseList = promiseList.concat(this.createPromiseListForActionButton(this.annGuideShowButton));
            }
            if (promiseList.length !== 0) {
                // Draw the guide UI when all necessary data are loaded from server
                Promise.all(promiseList).then(function (arg) {
                    if (!tutorImageAlreadyLoaded_1) {
                        _this.cacheTutorImage(_this.targetAnnName);
                    }
                    _this.draw();
                    _this.actionButtonLoaded = true;
                }).catch(function (arg) {
                    console.error(arg);
                });
            }
            else {
                // All images are loaded, start to draw.
                this.draw();
            }
        }
        else {
            // Same annotation
            this.stepTo(stepIndex);
        }
    };
    // Hide the guide layer.
    AnnGuide.prototype.hide = function () {
        this.imageViewer.getAnnGuideLayer().visible(false);
        // Set the target annotation object to undefined
        this.annGuideTarget = undefined;
    };
    // Check if the guide layer is hidden
    AnnGuide.prototype.isHidden = function () {
        return !(this.imageViewer.getAnnGuideLayer()._visible);
    };
    // Set the target annotation object
    AnnGuide.prototype.setGuideTargetObj = function (guideTarget) {
        this.annGuideTarget = guideTarget;
        if (!this.actionButtonLoaded) {
            return;
        }
        if (this.annGuideTarget && this.annGuideTarget.isCreated()) {
            // If the annotation is created, need to disable the Close and Reset button
            this.annGuideCloseButton.onDisabled();
            this.annGuideResetButton.onDisabled();
        }
        else {
            // No target annotation or the target annotation is creating, need to enable the 
            // Close and Reset button in case they were disabled before.
            this.annGuideCloseButton.onUp();
            this.annGuideResetButton.onUp();
        }
    };
    // Step the guide
    AnnGuide.prototype.step = function () {
        if (this.stepIndex < this.annStepDataList.length - 1) {
            this.stepTo(this.stepIndex + 1);
        }
        else {
            // If ended, hide the guide
            this.imageViewer.getAnnGuideLayer().visible(false);
        }
    };
    // Get current step index
    AnnGuide.prototype.getStepIndex = function () {
        return this.stepIndex;
    };
    // Check if the mouse is clicked in the guide area
    AnnGuide.prototype.hitTest = function (point) {
        return !this.isHidden() && this.jcBackground && _ann_tool__WEBPACK_IMPORTED_MODULE_1__["AnnTool"].pointInRect(point, this.jcBackground.getRect());
    };
    // Step to the given step index
    AnnGuide.prototype.stepTo = function (step) {
        if (step < 0 || step > this.annStepDataList.length) {
            alert("Invalid step number " + step);
            return;
        }
        // Step to end, close the guide
        if (step === this.annStepDataList.length) {
            this.onClose();
            return;
        }
        // De-highlight the step list that previous highlighted
        this.annStepDataList[this.stepIndex].jcBackgroundBorder.color("#FFF");
        this.annStepDataList[this.stepIndex].jcText.color("#FFF");
        this.stepIndex = step;
        // Highlight the step
        this.annStepDataList[this.stepIndex].jcBackgroundBorder.color("#F90");
        this.annStepDataList[this.stepIndex].jcText.color("#F90");
        // Update the text and image
        this.jcStepText.string(this.getTipText(this.annStepDataList[this.stepIndex]));
        this.jcTutorImage._img = this.annStepDataList[this.stepIndex].imageData;
        this.jcCurrentStep.string((this.stepIndex + 1).toString());
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    // Save the tutor image
    AnnGuide.prototype.cacheTutorImage = function (annName) {
        var annGuideData = AnnGuide.findAnnGuideData(annName);
        if (!annGuideData)
            return;
        annGuideData.guideStepImageList.length = 0;
        for (var i = 0; i < this.annStepDataList.length; i++) {
            annGuideData.guideStepImageList.push(this.annStepDataList[i].imageData);
        }
    };
    // Draw the guide
    AnnGuide.prototype.draw = function () {
        var width = this.showStepList ? this.totalWidth : this.totalWidth - this.textAreaWidth - this.interval;
        this.startX = (this.imageViewer.getCanvas().width - width) / 2;
        if (this.startX < 0)
            this.startX = 0;
        this.drawBackground();
        this.drawTutorImage();
        if (this.showStepList) {
            this.drawStepList();
        }
        this.drawActionButton();
        this.imageViewer.refresh();
    };
    // Create promise for loading the image of step button
    AnnGuide.prototype.createPromiseForStepData = function (index) {
        var _this = this;
        var promise = new Promise(function (resolve, reject) {
            _this.annStepDataList[index].imageData.onload = function (ev) {
                resolve();
            };
            _this.annStepDataList[index].imageData.onerror = function (ev) {
                reject(ev);
            };
            _this.annStepDataList[index].loadImage();
        });
        return promise;
    };
    // Create promise list for loading the image of action button
    AnnGuide.prototype.createPromiseListForActionButton = function (annGuideActionButton) {
        var promiseList = [];
        annGuideActionButton.imageDataList.forEach(function (imageData) {
            var promise = new Promise(function (resolve, reject) {
                imageData.onload = function (ev) {
                    resolve();
                };
                imageData.onerror = function (ev) {
                    reject(ev);
                };
                annGuideActionButton.loadImage();
            });
            promiseList.push(promise);
        });
        return promiseList;
    };
    // Draw the background of guide
    AnnGuide.prototype.drawBackground = function () {
        if (this.showStepList) {
            this.jcBackgroundBorder = jCanvaScript.rect(this.startX, this.interval, this.totalWidth, this.totalHeight, this.borderColor).layer(this.layerId);
            this.jcTextAreaBackground = jCanvaScript.rect(this.startX + this.tutorImageWidth + this.interval * 2, this.interval * 2, this.textAreaWidth, this.totalHeight - this.interval * 2, "#FFF").layer(this.layerId);
            this.jcBackground = jCanvaScript.rect(this.startX, this.interval, this.totalWidth, this.totalHeight, this.backgroundColor, true).layer(this.layerId);
        }
        else {
            this.jcBackgroundBorder = jCanvaScript.rect(this.startX, this.interval, this.totalWidth - this.textAreaWidth - this.interval, this.totalHeight, this.borderColor).layer(this.layerId);
            this.jcBackground = jCanvaScript.rect(this.startX, this.interval, this.totalWidth - this.textAreaWidth - this.interval, this.totalHeight, this.backgroundColor, true).layer(this.layerId);
        }
    };
    // Draw tutor image
    AnnGuide.prototype.drawTutorImage = function () {
        // The size of the pictures is always same : 125*150
        this.jcTutorImage = jCanvaScript.image(this.annStepDataList[this.stepIndex].imageData, this.startX + this.interval, this.interval * 2).layer(this.layerId);
    };
    // Step the step button list
    AnnGuide.prototype.drawStepList = function () {
        var count = this.annStepDataList.length;
        var totalWidth = this.stepButtonWidth * count + this.interval * (count - 1);
        var center = this.startX + this.tutorImageWidth + this.interval * 2 + this.textAreaWidth / 2;
        var start = center - totalWidth / 2;
        for (var i = 0; i < count; i++) {
            this.annStepDataList[i].jcBackground = jCanvaScript.rect(start + i * (this.stepButtonWidth + this.interval), this.interval * 4, this.stepButtonWidth, this.stepButtonHeight, "#111", true).layer(this.layerId);
            this.annStepDataList[i].jcText = jCanvaScript.text((i + 1).toString(), start + this.stepButtonWidth / 2 + i * (this.stepButtonWidth + this.interval), this.interval * 7)
                .color(this.font.color).font(this.font.getCanvasFontString()).align("center").layer(this.layerId);
            this.annStepDataList[i].jcBackgroundBorder = jCanvaScript.rect(start + i * (this.stepButtonWidth + this.interval), this.interval * 4, this.stepButtonWidth, this.stepButtonHeight, "#FFF").layer(this.layerId);
            this.setStepButtonEvent(this.annStepDataList[i]);
        }
        this.jcAnnotationName = jCanvaScript.text(this.targetAnnName, center, this.interval * 12).color("#F90").font(this.font.getCanvasFontString()).align("center").layer(this.layerId);
        this.jcStepText = jCanvaScript.text(this.getTipText(this.annStepDataList[this.stepIndex]), this.startX + this.tutorImageWidth + this.interval * 4, this.interval * 15, this.textAreaWidth - this.interval * 2)
            .color(this.font.color).font(this.font.getCanvasFontString()).align("left").layer(this.layerId);
        this.annStepDataList[this.stepIndex].jcBackgroundBorder.color("#F90");
        this.annStepDataList[this.stepIndex].jcText.color("#F90");
    };
    // Draw the action button
    AnnGuide.prototype.drawActionButton = function () {
        var startX = this.startX + this.tutorImageWidth + this.interval * 3 + (this.showStepList ? this.textAreaWidth : -this.interval);
        var startY = this.interval * 2;
        this.annGuideCloseButton.jcImage = jCanvaScript.image(this.getActionButtonImage(this.annGuideCloseButton), startX, startY).layer(this.layerId);
        this.annGuideResetButton.jcImage = jCanvaScript.image(this.getActionButtonImage(this.annGuideResetButton), startX, startY + this.actionButtonHeight + this.interval).layer(this.layerId);
        this.setActionButtonEvent(this.annGuideCloseButton);
        this.setActionButtonEvent(this.annGuideResetButton);
        if (this.showStepList) {
            this.annGuideHideButton.jcImage = jCanvaScript.image(this.annGuideHideButton.getUpImage(), startX, startY + (this.actionButtonHeight + this.interval) * 2).layer(this.layerId);
            this.setActionButtonEvent(this.annGuideHideButton);
        }
        else {
            this.annGuideShowButton.jcImage = jCanvaScript.image(this.annGuideShowButton.getUpImage(), startX, startY + (this.actionButtonHeight + this.interval) * 2).layer(this.layerId);
            this.setActionButtonEvent(this.annGuideShowButton);
        }
        this.jcCurrentStep = jCanvaScript.text((this.stepIndex + 1).toString(), startX + this.actionButtonHeight / 2, this.totalHeight - this.interval)
            .color(this.font.color).font(this.font.getCanvasFontString()).align("center").layer(this.layerId);
    };
    // Set step button mouse event
    AnnGuide.prototype.setStepButtonEvent = function (annGuideStepData) {
        var _this = this;
        annGuideStepData.jcBackgroundBorder._onmouseover = function (arg) {
            annGuideStepData.jcBackgroundBorder.color("#F90");
            _this.imageViewer.setCursor("pointer");
            _this.jcStepText.string(_this.getTipText(annGuideStepData));
            _this.jcTutorImage._img = annGuideStepData.imageData;
            if (_this.isTargetAnnCreated()) {
                _this.imageViewer.selectChildByStepIndex(annGuideStepData.stepIndex);
            }
        };
        annGuideStepData.jcBackgroundBorder._onmouseout = function (arg) {
            if (annGuideStepData !== _this.annStepDataList[_this.stepIndex]) {
                annGuideStepData.jcBackgroundBorder.color("#FFF");
            }
            _this.imageViewer.setCursor("default");
            _this.jcStepText.string(_this.getTipText(_this.annStepDataList[_this.stepIndex]));
            _this.jcTutorImage._img = _this.annStepDataList[_this.stepIndex].imageData;
        };
    };
    // Set action button mouse event
    AnnGuide.prototype.setActionButtonEvent = function (annGuideButton) {
        var _this = this;
        annGuideButton.jcImage._onmouseover = function (arg) {
            if (_this.ignoreMouseEvent(annGuideButton))
                return;
            annGuideButton.onHover();
            _this.imageViewer.setCursor("pointer");
        };
        annGuideButton.jcImage._onmouseout = function (arg) {
            if (_this.ignoreMouseEvent(annGuideButton))
                return;
            annGuideButton.onUp();
            _this.imageViewer.setCursor("default");
        };
        annGuideButton.jcImage._onmousedown = function (arg) {
            if (_this.ignoreMouseEvent(annGuideButton))
                return false;
            annGuideButton.onSelect();
            if (annGuideButton.onButtonClick) {
                annGuideButton.onButtonClick.call(_this);
            }
            return false;
        };
        annGuideButton.jcImage._onmouseup = function (arg) {
            if (_this.ignoreMouseEvent(annGuideButton))
                return false;
            annGuideButton.onUp();
            return false;
        };
    };
    // Check if need to ignore the mouse event
    AnnGuide.prototype.ignoreMouseEvent = function (annGuideButton) {
        return this.isHidden() || annGuideButton.isDisabled();
    };
    // Delete all jc object
    AnnGuide.prototype.delJcObj = function (onlyStepObj) {
        if (!onlyStepObj) {
            if (this.jcBackground)
                this.jcBackground.del();
            if (this.jcBackgroundBorder)
                this.jcBackgroundBorder.del();
            if (this.jcTextAreaBackground)
                this.jcTextAreaBackground.del();
            this.annGuideCloseButton.del();
            this.annGuideResetButton.del();
            this.annGuideHideButton.del();
            this.annGuideShowButton.del();
        }
        if (this.jcTutorImage)
            this.jcTutorImage.del();
        if (this.jcCurrentStep)
            this.jcCurrentStep.del();
        if (this.jcAnnotationName)
            this.jcAnnotationName.del();
        if (this.jcStepText)
            this.jcStepText.del();
        this.annStepDataList.forEach(function (stepObj) { return stepObj.del(); });
    };
    // Close the guide
    AnnGuide.prototype.onClose = function () {
        this.imageViewer.getAnnGuideLayer().visible(false);
        this.imageViewer.cancelCreate(false);
    };
    // Reset the guide
    AnnGuide.prototype.onReset = function () {
        this.stepTo(0);
        this.imageViewer.cancelCreate(true);
    };
    // Hide the step list
    AnnGuide.prototype.onHide = function () {
        this.delJcObj(false);
        this.showStepList = false;
        this.draw();
        this.imageViewer.setCursor(undefined);
    };
    // Show the step list
    AnnGuide.prototype.onShow = function () {
        this.delJcObj(false);
        this.showStepList = true;
        this.draw();
        this.imageViewer.setCursor("default");
    };
    // Create the step button list for the annotation
    AnnGuide.prototype.createStepDataList = function (annName) {
        var annGuideData = AnnGuide.findAnnGuideData(annName);
        if (!annGuideData)
            return false;
        this.annStepDataList.length = 0;
        var stepConfigList = annGuideData.guideStepConfigList;
        for (var i = 0; i < stepConfigList.length; i++) {
            this.annStepDataList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["AnnGuideStepData"](i, this.baseUrl, stepConfigList[i]));
        }
        var stepImageList = annGuideData.guideStepImageList;
        if (stepImageList.length === stepConfigList.length) {
            // The images were already loaded before
            for (var i = 0; i < stepImageList.length; i++) {
                this.annStepDataList[i].imageData = stepImageList[i];
            }
            return true;
        }
        return false;
    };
    // If the target annotation is created or NOT
    AnnGuide.prototype.isTargetAnnCreated = function () {
        return this.annGuideTarget ? this.annGuideTarget.isCreated() : false;
    };
    // Get the tip text. The tip text for creating and viewing might be different
    AnnGuide.prototype.getTipText = function (annGuideStepData) {
        var annCreated = this.isTargetAnnCreated();
        return annGuideStepData.getTipText(annCreated);
    };
    // Get the action button image based on current target annotation. If created, the Close/Reset button should be disabled
    AnnGuide.prototype.getActionButtonImage = function (annGuideActionButton) {
        var annCreated = this.isTargetAnnCreated();
        return annCreated ? annGuideActionButton.getDisabledImage() : annGuideActionButton.getUpImage();
    };
    AnnGuide.annGuideDataList = [];
    return AnnGuide;
}());



/***/ }),

/***/ "./src/app/annotation/layer-object/ann-image-ruler.ts":
/*!************************************************************!*\
  !*** ./src/app/annotation/layer-object/ann-image-ruler.ts ***!
  \************************************************************/
/*! exports provided: AnnImageRuler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnImageRuler", function() { return AnnImageRuler; });
var AnnImageRuler = /** @class */ (function () {
    function AnnImageRuler(imageViewer) {
        this.imageViewer = imageViewer;
        this.textColor = "#FFF";
        this.textFontSize = 17;
        this.FONTOFFSET = 5;
        this.LINEOFFSET = 1;
        this.RULERLINEWIDTH = 2;
        this.RULERCELLPERCENT = 0.33;
        this.RULERCELLSPACING = 5;
        this.RULERUNITLENGTH = 5;
        this.TEXTRULERSPACING = 5;
        this.linesVertical = [];
        this.linesHorizontal = [];
    }
    AnnImageRuler.prototype.reDraw = function (imageViewer) {
        this.layerId = imageViewer.getAnnImageRulerLayerId();
        this.baseUrl = this.imageViewer.getBaseUrl();
        this.font = this.imageViewer.getTextFont();
        var image = imageViewer.getImage();
        var canvas = imageViewer.getCanvas();
        var fontHeight = this.textFontSize;
        var font = "{0}px {1}".format(this.textFontSize, this.font);
        var pixelSpacing = image.getPixelSpacing();
        var lineUnit = '';
        var squareUnit = '';
        var unitPerPixelX, unitPerPixelY;
        var curScale = image.getScaleValue();
        // If pixel spacing is undefined, use 'pt'.
        if (!pixelSpacing) {
            lineUnit = squareUnit = 'pt';
            unitPerPixelX = 1 / curScale;
            unitPerPixelY = 1 / curScale;
        }
        else {
            lineUnit = 'cm';
            squareUnit = 'cm2';
            unitPerPixelX = pixelSpacing.cx / curScale / 10;
            unitPerPixelY = pixelSpacing.cy / curScale / 10;
        }
        var canvasWidth = canvas.width;
        var canvasHeight = canvas.height;
        var strRulerInfo = '';
        this.reset(imageViewer);
        // horizontal ruler
        {
            var unitsToDraw = Math.round(unitPerPixelX * this.RULERCELLPERCENT * canvasWidth);
            if (unitsToDraw == 0) {
                unitsToDraw = 1;
            }
            strRulerInfo = unitsToDraw + lineUnit;
            var hRulerStartX = Math.round((canvasWidth - unitsToDraw / unitPerPixelX) / 2);
            if (!pixelSpacing) {
                var lineStart = Math.round(hRulerStartX);
                var lineStop = Math.round(hRulerStartX + unitsToDraw / unitPerPixelX);
                var line = jCanvaScript.line([
                    [lineStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING - this.RULERUNITLENGTH + this.LINEOFFSET],
                    [lineStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET]
                ]).layer(this.layerId).color(this.textColor);
                this.linesHorizontal.push(line);
                var pt1 = [lineStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET];
                var pt2 = [lineStop + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET];
                if (!this.baseLineH) {
                    this.baseLineH = jCanvaScript.line([pt1, pt2]).layer(this.layerId).color(this.textColor);
                }
                else {
                    this.baseLineH.points([pt1, pt2]);
                }
                line = jCanvaScript.line([
                    [lineStop + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET],
                    [lineStop + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING - this.RULERUNITLENGTH + this.LINEOFFSET]
                ]).layer(this.layerId).color(this.textColor);
                this.linesHorizontal.push(line);
            }
            else {
                var unitStart = void 0;
                for (var i = 0; i < unitsToDraw; i++) {
                    unitStart = Math.round(hRulerStartX + i / unitPerPixelX);
                    var line = jCanvaScript.line([
                        [unitStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING - this.RULERUNITLENGTH + this.LINEOFFSET],
                        [unitStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET]
                    ]).layer(this.layerId).color(this.textColor);
                    this.linesHorizontal.push(line);
                    line = jCanvaScript.line([
                        [unitStart + this.LINEOFFSET, canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET],
                        [Math.round(unitStart + this.LINEOFFSET + 1 / unitPerPixelX), canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET]
                    ]).layer(this.layerId).color(this.textColor);
                    this.linesHorizontal.push(line);
                }
                var pt1 = [Math.round(unitStart + this.LINEOFFSET + 1 / unitPerPixelX), canvasHeight - this.RULERCELLSPACING + this.LINEOFFSET];
                var pt2 = [Math.round(hRulerStartX + unitsToDraw / unitPerPixelX + this.LINEOFFSET), canvasHeight - this.RULERCELLSPACING - this.RULERUNITLENGTH + this.LINEOFFSET];
                if (!this.baseLineH) {
                    this.baseLineH = jCanvaScript.line([pt1, pt2]).layer(this.layerId).color(this.textColor);
                }
                else {
                    this.baseLineH.points([pt1, pt2]);
                }
            }
            var ptTextX = Math.round(hRulerStartX + unitsToDraw / unitPerPixelX + this.FONTOFFSET);
            var ptTextY = canvasHeight - this.RULERCELLSPACING;
            if (!this.lblHorizontal) {
                this.lblHorizontal = jCanvaScript.text(strRulerInfo, ptTextX, ptTextY).layer(this.layerId).color(this.textColor).font(font).align('left');
            }
            else {
                this.lblHorizontal._x = ptTextX;
                this.lblHorizontal._y = ptTextY;
                this.lblHorizontal.string(strRulerInfo);
            }
        }
        // vertical ruler
        {
            var iUnitsToDraw = Math.round(unitPerPixelY * this.RULERCELLPERCENT * canvasHeight);
            if (iUnitsToDraw == 0) {
                iUnitsToDraw = 1;
            }
            strRulerInfo = iUnitsToDraw + lineUnit;
            var iRulerStartY = Math.round((canvasHeight - iUnitsToDraw / unitPerPixelY) / 2);
            if (!pixelSpacing) {
                var iLineStart = Math.round(iRulerStartY);
                var iLineStop = Math.round(iRulerStartY + iUnitsToDraw / unitPerPixelY);
                var line = jc.line([
                    [canvasWidth - this.TEXTRULERSPACING - this.RULERUNITLENGTH + this.LINEOFFSET, iLineStart + this.LINEOFFSET],
                    [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iLineStart + this.LINEOFFSET]
                ]).layer(this.layerId).color(this.textColor);
                this.linesVertical.push(line);
                var pt1 = [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iLineStart + this.LINEOFFSET];
                var pt2 = [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iLineStop + this.LINEOFFSET];
                if (!this.baseLineV) {
                    this.baseLineV = jc.line([pt1, pt2]).layer(this.layerId).color(this.textColor);
                }
                else {
                    this.baseLineV.points([pt1, pt2]);
                }
                line = jc.line([
                    [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iLineStop + this.LINEOFFSET],
                    [canvasWidth - this.TEXTRULERSPACING - this.RULERUNITLENGTH + this.LINEOFFSET, iLineStop + this.LINEOFFSET]
                ]).layer(this.layerId).color(this.textColor);
                this.linesVertical.push(line);
            }
            else {
                var iUnitStart = void 0;
                for (var i = 0; i < iUnitsToDraw; i++) {
                    iUnitStart = Math.round(iRulerStartY + i / unitPerPixelY);
                    var line = jc.line([
                        [canvasWidth - this.TEXTRULERSPACING - this.RULERUNITLENGTH + this.LINEOFFSET, iUnitStart + this.LINEOFFSET],
                        [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iUnitStart + this.LINEOFFSET]
                    ]).layer(this.layerId).color(this.textColor);
                    this.linesVertical.push(line);
                    line = jc.line([
                        [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, iUnitStart + this.LINEOFFSET],
                        [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, Math.round(iUnitStart + this.LINEOFFSET + 1 / unitPerPixelY)]
                    ]).layer(this.layerId).color(this.textColor);
                    this.linesVertical.push(line);
                }
                var pt1 = [canvasWidth - this.TEXTRULERSPACING + this.LINEOFFSET, Math.round(iUnitStart + this.LINEOFFSET + 1 / unitPerPixelY)];
                var pt2 = [canvasWidth - this.TEXTRULERSPACING - this.RULERUNITLENGTH + this.LINEOFFSET, Math.round(iRulerStartY + iUnitsToDraw / unitPerPixelY + this.LINEOFFSET)];
                if (!this.baseLineV) {
                    this.baseLineV = jc.line([pt1, pt2]).layer(this.layerId).color(this.textColor);
                }
                else {
                    this.baseLineV.points([pt1, pt2]);
                }
            }
            var ptTextX = canvasWidth - this.RULERCELLSPACING - strRulerInfo.length * fontHeight / 2;
            var ptTextY = Math.round(iRulerStartY + iUnitsToDraw / unitPerPixelY + 2 * this.FONTOFFSET + this.TEXTRULERSPACING);
            if (!this.lblVertical) {
                this.lblVertical = jc.text(strRulerInfo, ptTextX, ptTextY).layer(this.layerId).color(this.textColor).font(font).align('left');
            }
            else {
                this.lblVertical._x = ptTextX;
                this.lblVertical._y = ptTextY;
                this.lblVertical.string(strRulerInfo);
            }
        }
    };
    AnnImageRuler.prototype.reset = function (imageViewer) {
        var annImageRuler = imageViewer.annImageRuler;
        if (!annImageRuler)
            return;
        if (annImageRuler.lblHorizontal) {
            annImageRuler.lblHorizontal.del();
            annImageRuler.lblHorizontal = undefined;
        }
        if (annImageRuler.lblVertical) {
            annImageRuler.lblVertical.del();
            annImageRuler.lblVertical = undefined;
        }
        if (annImageRuler.baseLineH) {
            annImageRuler.baseLineH.del();
            annImageRuler.baseLineH = undefined;
        }
        if (annImageRuler.baseLineV) {
            annImageRuler.baseLineV.del();
            annImageRuler.baseLineV = undefined;
        }
        if (annImageRuler.linesVertical) {
            annImageRuler.linesVertical.forEach(function (line) { return line.del(); });
            annImageRuler.linesVertical = [];
        }
        if (annImageRuler.linesHorizontal) {
            annImageRuler.linesHorizontal.forEach(function (line) { return line.del(); });
            annImageRuler.linesHorizontal = [];
        }
    };
    return AnnImageRuler;
}());



/***/ }),

/***/ "./src/app/annotation/layer-object/ann-magnify.ts":
/*!********************************************************!*\
  !*** ./src/app/annotation/layer-object/ann-magnify.ts ***!
  \********************************************************/
/*! exports provided: AnnMagnify */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnMagnify", function() { return AnnMagnify; });
/* harmony import */ var _ann_tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ann-tool */ "./src/app/annotation/ann-tool.ts");

var AnnMagnify = /** @class */ (function () {
    function AnnMagnify(imageViewer) {
        this.imageViewer = imageViewer;
        this.halfWidth = 80;
        this.started = false;
        this.imageLayer = this.imageViewer.getImageLayer();
        this.mgLayer = this.imageViewer.getMgLayer();
        this.canvas = this.imageViewer.getCtCanvas();
        this.font = this.imageViewer.getTextFont();
        this.textOverlayId = this.imageViewer.getTextOverlayLayerId();
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnMagnify.prototype.start = function (screenPoint, scale) {
        this.mgLayer.transform(1, 0, 0, 1, 0, 0, true);
        this.mgLayer.optns.scaleMatrix = this.imageLayer.optns.scaleMatrix;
        this.mgLayer.optns.rotateMatrix = this.imageLayer.optns.rotateMatrix;
        this.mgLayer.optns.translateMatrix = this.imageLayer.optns.translateMatrix;
        this.mgLayer.scale(scale);
        this.mgLayer.visible(true);
        if (!this.jcImage) {
            this.jcImage = jCanvaScript.image(this.canvas).layer(this.mgLayer.id);
        }
        if (!this.jcRect) {
            var rectPos = this.getRectPos(screenPoint);
            this.jcRect = jCanvaScript.rect(rectPos.x, rectPos.y, this.halfWidth * 2, this.halfWidth * 2, "rgba(127,255,0)").layer(this.textOverlayId);
        }
        else {
            this.jcRect.visible(true);
        }
        if (!this.jcText) {
            var textPos = this.getTextPos(screenPoint);
            this.jcText = jCanvaScript.text("" + scale, textPos.x, textPos.y).layer(this.imageViewer.getTextOverlayLayerId()).color("rgba(127,255,0)").font(this.textOverlayId).align("left");
        }
        else {
            this.jcText.visible(true);
            this.jcText.string("" + scale);
        }
        this.started = true;
        this.moveTo(screenPoint);
    };
    AnnMagnify.prototype.moveTo = function (screenPoint) {
        if (!this.started) {
            return;
        }
        var rectPos = this.getRectPos(screenPoint);
        this.jcRect._x = rectPos.x;
        this.jcRect._y = rectPos.y;
        var textPos = this.getTextPos(screenPoint);
        this.jcText._x = textPos.x;
        this.jcText._y = textPos.y;
        // Convert screen point to image point
        var imagePoint = _ann_tool__WEBPACK_IMPORTED_MODULE_0__["AnnTool"].screenToImage(screenPoint, this.imageLayer.transform());
        var screenAfter = _ann_tool__WEBPACK_IMPORTED_MODULE_0__["AnnTool"].imageToScreen(imagePoint, this.mgLayer.transform());
        // Move mg layer
        this.mgLayer.translate(screenPoint.x - screenAfter.x, screenPoint.y - screenAfter.y);
        // Clip the layer to only show the image under rectangle
        this.mgLayer.clip(this.jcRect);
    };
    AnnMagnify.prototype.end = function () {
        this.mgLayer.visible(false);
        if (this.jcRect) {
            this.jcRect.visible(false);
        }
        if (this.jcText) {
            this.jcText.visible(false);
        }
        this.started = false;
    };
    AnnMagnify.prototype.isStarted = function () {
        return this.started;
    };
    AnnMagnify.prototype.del = function () {
        if (this.jcImage) {
            this.jcImage.del();
        }
        if (this.jcRect) {
            this.jcRect.del();
        }
        if (this.jcText) {
            this.jcText.del();
        }
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    AnnMagnify.prototype.getRectPos = function (screenPoint) {
        return { x: screenPoint.x - this.halfWidth, y: screenPoint.y - this.halfWidth };
    };
    AnnMagnify.prototype.getTextPos = function (screenPoint) {
        return { x: screenPoint.x - this.halfWidth + 2, y: screenPoint.y + this.halfWidth - 2 };
    };
    return AnnMagnify;
}());



/***/ }),

/***/ "./src/app/annotation/layer-object/ann-text-overlay.ts":
/*!*************************************************************!*\
  !*** ./src/app/annotation/layer-object/ann-text-overlay.ts ***!
  \*************************************************************/
/*! exports provided: AnnTextOverlay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnTextOverlay", function() { return AnnTextOverlay; });
var AnnTextOverlay = /** @class */ (function () {
    function AnnTextOverlay(imageViewer, dicomImageService) {
        this.imageViewer = imageViewer;
        this.dicomImageService = dicomImageService;
        this.jcTextOverlayList = [];
        this.textOverlayDataList = [];
        this.canvas = this.imageViewer.getCanvas();
        this.image = this.imageViewer.getImage();
        this.layerId = this.imageViewer.getTextOverlayLayerId();
        this.font = this.imageViewer.getTextFont();
    }
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    AnnTextOverlay.prototype.updateWindowCenter = function (width, center) {
        if (this.windowCenterIndex !== -1) {
            var text = this.textOverlayDataList[this.windowCenterIndex].text.format(width, center);
            this.jcTextOverlayList[this.windowCenterIndex].string(text);
        }
    };
    AnnTextOverlay.prototype.updateZoomRatioTextOverlay = function (roomRatio) {
        if (this.zoomRatioIndex !== -1) {
            var text = this.textOverlayDataList[this.zoomRatioIndex].text.format(roomRatio.toFixed(2));
            this.jcTextOverlayList[this.zoomRatioIndex].string(text);
        }
    };
    AnnTextOverlay.prototype.redraw = function () {
        var _this = this;
        this.del();
        this.windowCenterIndex = -1;
        this.zoomRatioIndex = -1;
        if (this.canvas.width) {
            if (this.canvas.width >= 800) {
                this.font.size = 15;
            }
            else if (this.canvas.width < 300) {
                this.font.size = 10;
            }
            else {
                this.font.size = 10 + Math.floor((this.canvas.width - 300) / 100);
            }
        }
        this.textOverlayDataList = this.dicomImageService.getOverlayDisplayList(this.image, this.canvas, this.font);
        this.textOverlayDataList.forEach(function (overlay, index) {
            var label = jCanvaScript.text(overlay.text, overlay.posX, overlay.posY).layer(_this.layerId)
                .color(_this.font.color).font(_this.font.getCanvasFontString()).align(overlay.align);
            _this.jcTextOverlayList.push(label);
            if (overlay.id === "9003") {
                _this.windowCenterIndex = index;
                _this.updateWindowCenter(_this.image.cornerStoneImage.windowWidth, _this.image.cornerStoneImage.windowCenter);
            }
            else if (overlay.id === "9004") {
                _this.zoomRatioIndex = index;
                _this.updateZoomRatioTextOverlay(_this.image.getScaleValue());
            }
        });
    };
    AnnTextOverlay.prototype.del = function () {
        this.jcTextOverlayList.forEach(function (jcText) { return jcText.del(); });
        this.jcTextOverlayList.length = 0;
    };
    return AnnTextOverlay;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/worklist-shell/worklist-shell.component */ "./src/app/components/worklist-shell/worklist-shell.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/viewer-shell/viewer-shell.component */ "./src/app/components/viewer-shell/viewer-shell.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var routes = [
    { path: "", redirectTo: "/worklist", pathMatch: "full" },
    { path: "worklist", component: _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_2__["WorklistShellComponent"] },
    { path: "viewer", component: _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_3__["ViewerShellComponent"] }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<body id=\"bodyLayout\">\r\n    <div id=\"test123\" class=\"navbar navbar-fixed-top black-header\">\r\n        <app-header-bar></app-header-bar>\r\n    </div>\r\n\r\n    <div class=\"container body-content\">\r\n        <!--<app-worklist-shell></app-worklist-shell>-->\r\n        <template #shellContainer></template>\r\n        <!--<router-outlet></router-outlet>-->\r\n    </div>\r\n</body>\r\n"

/***/ }),

/***/ "./src/app/app.component.less":
/*!************************************!*\
  !*** ./src/app/app.component.less ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*@black: #000;\n@orange: orange;\n@gray: #555;\n@silver: #aaa;\n@white: #fff;*/\n/*.theme-dark {\n    @background-color : @black;\n    @underline-color : @orange;\n    @border-color : @silver;\n    @container-background-color : @gray;\n    @disable-color : @gray;\n    @font-color : @white;\n    .change-dark(@background-color);\n}\n\n\n.theme-light {\n    @background-color : @white;\n    @underline-color : @orange;\n    @border-color : @white;\n    @disable-color : @white;\n    @container-background-color : @white;\n    @font-color: @black;\n    .change-dark(@background-color);\n}*/\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O2NBSWM7QUFDZDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQW1CRSIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQubGVzcyJ9 */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/worklist-shell/worklist-shell.component */ "./src/app/components/worklist-shell/worklist-shell.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/viewer-shell/viewer-shell.component */ "./src/app/components/viewer-shell/viewer-shell.component.ts");
/* harmony import */ var _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
/* harmony import */ var _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/viewer-shell-data */ "./src/app/models/viewer-shell-data.ts");
/* harmony import */ var _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models/viewer-group-data */ "./src/app/models/viewer-group-data.ts");
/* harmony import */ var _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./models/viewer-image-data */ "./src/app/models/viewer-image-data.ts");
/* harmony import */ var _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/dicom-image.service */ "./src/app/services/dicom-image.service.ts");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var AppComponent = /** @class */ (function () {
    function AppComponent(resolver, shellNavigatorService, dicomImageService, worklistService, logService) {
        var _this = this;
        this.resolver = resolver;
        this.shellNavigatorService = shellNavigatorService;
        this.dicomImageService = dicomImageService;
        this.worklistService = worklistService;
        this.logService = logService;
        this.title = "AngularPacsDemo";
        this.createComponents = [];
        this.shellDataList = [];
        this.subscriptionShellCreated = shellNavigatorService.shellCreated$.subscribe(function (viewerShellData) {
            _this.shellDataList.push(viewerShellData);
            _this.createViewerShell(viewerShellData);
        });
        this.subscriptionShellDeleted = shellNavigatorService.shellDeleted$.subscribe(function (viewerShellData) {
            _this.deleteViewerShell(viewerShellData);
            var index = _this.shellDataList.indexOf(viewerShellData, 0);
            if (index > -1) {
                _this.shellDataList.splice(index, 1);
            }
        });
        _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__["ViewerShellData"].logService = this.logService;
        _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_5__["ViewerGroupData"].logService = this.logService;
        _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_6__["ViewerImageData"].logService = this.logService;
    }
    AppComponent.prototype.ngOnInit = function () {
        this.createWorklistShell();
        this.initConerstone();
        document.body.className = 'theme-' + 'light';
    };
    AppComponent.prototype.createWorklistShell = function () {
        var componentFactory = this.resolver.resolveComponentFactory(_components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_1__["WorklistShellComponent"]);
        var componentRef = this.container.createComponent(componentFactory);
        componentRef.instance.hideMe = false;
    };
    AppComponent.prototype.createViewerShell = function (viewerShellData) {
        this.logService.seperator();
        this.logService.info('User: Open study - ' + viewerShellData.getName());
        var componentFactory = this.resolver.resolveComponentFactory(_components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_2__["ViewerShellComponent"]);
        var componentRef = this.container.createComponent(componentFactory);
        componentRef.instance.hideMe = false;
        componentRef.instance.viewerShellData = viewerShellData;
        this.createComponents.push(componentRef);
    };
    AppComponent.prototype.deleteViewerShell = function (viewerShellData) {
        var studyCom = this.createComponents.filter(function (value, index, array) { return value.instance.viewerShellData.getId() === viewerShellData.getId(); });
        if (studyCom.length !== 0) {
            studyCom[0].destroy();
        }
        this.createComponents =
            this.createComponents.filter(function (value, index, array) { return value.instance.viewerShellData.getId() !== viewerShellData.getId(); });
    };
    AppComponent.prototype.initConerstone = function () {
        cornerstoneWADOImageLoader.external.cornerstone = cornerstone;
        cornerstoneTools.external.cornerstone = cornerstone;
        //var baseUrl = dicom.baseUrl;
        var config = {
            webWorkerPath: "./assets/script/cornerstoneWADOImageLoaderWebWorker.js",
            taskConfiguration: {
                'decodeTask': {
                    codecsPath: "./cornerstoneWADOImageLoaderCodecs.js"
                }
            }
        };
        cornerstoneWADOImageLoader.webWorkerManager.initialize(config);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])("shellContainer", { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }),
        __metadata("design:type", Object)
    ], AppComponent.prototype, "container", void 0);
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-root",
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.less */ "./src/app/app.component.less")]
        }),
        __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"], _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_3__["ShellNavigatorService"],
            _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_7__["DicomImageService"], _services_worklist_service__WEBPACK_IMPORTED_MODULE_8__["WorklistService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_9__["LogService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _components_header_bar_header_bar_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/header-bar/header-bar.component */ "./src/app/components/header-bar/header-bar.component.ts");
/* harmony import */ var _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/worklist-shell/worklist-shell.component */ "./src/app/components/worklist-shell/worklist-shell.component.ts");
/* harmony import */ var _components_worklist_shell_query_shortcut_query_shortcut_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/worklist-shell/query-shortcut/query-shortcut.component */ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.ts");
/* harmony import */ var _components_worklist_shell_worklist_worklist_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/worklist-shell/worklist/worklist.component */ "./src/app/components/worklist-shell/worklist/worklist.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/viewer-shell/viewer-shell.component */ "./src/app/components/viewer-shell/viewer-shell.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_toolbar_viewer_toolbar_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/viewer-shell/viewer-toolbar/viewer-toolbar.component */ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.ts");
/* harmony import */ var _components_viewer_shell_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/viewer-shell/navigation/navigation.component */ "./src/app/components/viewer-shell/navigation/navigation.component.ts");
/* harmony import */ var _components_viewer_shell_navigation_thumbnail_thumbnail_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/viewer-shell/navigation/thumbnail/thumbnail.component */ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.ts");
/* harmony import */ var _components_viewer_shell_group_viewer_group_viewer_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/viewer-shell/group-viewer/group-viewer.component */ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts");
/* harmony import */ var _components_viewer_shell_group_viewer_image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/viewer-shell/group-viewer/image-viewer/image-viewer.component */ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts");
/* harmony import */ var _components_worklist_shell_query_toolbar_query_toolbar_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/worklist-shell/query-toolbar/query-toolbar.component */ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.ts");
/* harmony import */ var _components_worklist_shell_operate_toolbar_operate_toolbar_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/worklist-shell/operate-toolbar/operate-toolbar.component */ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.ts");
/* harmony import */ var _components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/common/message-box/message-box.component */ "./src/app/components/common/message-box/message-box.component.ts");
/* harmony import */ var _components_common_dropdown_button_menu_dropdown_button_menu_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/common/dropdown-button-menu/dropdown-button-menu.component */ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.ts");
/* harmony import */ var _components_common_dropdown_button_menu_button_dropdown_button_menu_button_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/common/dropdown-button-menu-button/dropdown-button-menu-button.component */ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.ts");
/* harmony import */ var _components_dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/dialog/manual-wl-dialog/manual-wl-dialog.component */ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/menu */ "./node_modules/@angular/material/esm5/menu.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/esm5/button.es5.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/esm5/icon.es5.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/esm5/card.es5.js");
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/material/tabs */ "./node_modules/@angular/material/esm5/tabs.es5.js");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
/* harmony import */ var _components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/dialog/select-studydate-dialog/select-studydate-dialog.component */ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts");
/* harmony import */ var _components_dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./components/dialog/select-marker-dialog/select-marker-dialog.component */ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.ts");
/* harmony import */ var _components_viewer_shell_viewer_bottombar_viewer_bottombar_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./components/viewer-shell/viewer-bottombar/viewer-bottombar.component */ "./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.ts");
/* harmony import */ var _components_worklist_shell_worklist_patient_edit_patient_edit_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./components/worklist-shell/worklist/patient-edit/patient-edit.component */ "./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.ts");
/* harmony import */ var _components_worklist_shell_worklist_export_study_export_study_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./components/worklist-shell/worklist/export-study/export-study.component */ "./src/app/components/worklist-shell/worklist/export-study/export-study.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"],
                _components_header_bar_header_bar_component__WEBPACK_IMPORTED_MODULE_7__["HeaderBarComponent"],
                _components_worklist_shell_query_shortcut_query_shortcut_component__WEBPACK_IMPORTED_MODULE_9__["QueryShortcutComponent"],
                _components_worklist_shell_worklist_worklist_component__WEBPACK_IMPORTED_MODULE_10__["WorklistComponent"],
                _components_worklist_shell_worklist_shell_component__WEBPACK_IMPORTED_MODULE_8__["WorklistShellComponent"],
                _components_viewer_shell_navigation_navigation_component__WEBPACK_IMPORTED_MODULE_13__["NavigationComponent"],
                _components_viewer_shell_viewer_shell_component__WEBPACK_IMPORTED_MODULE_11__["ViewerShellComponent"],
                _components_viewer_shell_viewer_toolbar_viewer_toolbar_component__WEBPACK_IMPORTED_MODULE_12__["ViewerToolbarComponent"],
                _components_viewer_shell_navigation_thumbnail_thumbnail_component__WEBPACK_IMPORTED_MODULE_14__["ThumbnailComponent"],
                _components_viewer_shell_group_viewer_group_viewer_component__WEBPACK_IMPORTED_MODULE_15__["GroupViewerComponent"],
                _components_viewer_shell_group_viewer_image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_16__["ImageViewerComponent"],
                _components_worklist_shell_query_toolbar_query_toolbar_component__WEBPACK_IMPORTED_MODULE_17__["QueryToolbarComponent"],
                _components_worklist_shell_operate_toolbar_operate_toolbar_component__WEBPACK_IMPORTED_MODULE_18__["OperateToolbarComponent"],
                _components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_19__["MessageBoxComponent"],
                _components_common_dropdown_button_menu_dropdown_button_menu_component__WEBPACK_IMPORTED_MODULE_20__["DropdownButtonMenuComponent"],
                _components_common_dropdown_button_menu_button_dropdown_button_menu_button_component__WEBPACK_IMPORTED_MODULE_21__["DropdownButtonMenuButtonComponent"],
                _components_dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_22__["ManualWlDialogComponent"],
                _components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_30__["SelectStudydateDialogComponent"],
                _components_dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_31__["SelectMarkerDialogComponent"],
                _components_viewer_shell_viewer_bottombar_viewer_bottombar_component__WEBPACK_IMPORTED_MODULE_32__["ViewerBottombarComponent"],
                _components_worklist_shell_worklist_patient_edit_patient_edit_component__WEBPACK_IMPORTED_MODULE_33__["PatientEditComponent"],
                _components_worklist_shell_worklist_export_study_export_study_component__WEBPACK_IMPORTED_MODULE_34__["ExportStudyComponent"]
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__["BrowserAnimationsModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_4__["AppRoutingModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_material_menu__WEBPACK_IMPORTED_MODULE_24__["MatMenuModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_25__["MatButtonModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_26__["MatIconModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_27__["MatCardModule"],
                _angular_material_tabs__WEBPACK_IMPORTED_MODULE_28__["MatTabsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatSidenavModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatListModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatToolbarModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatInputModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatTableModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatPaginatorModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatSortModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatProgressSpinnerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatDialogModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_4__["AppRoutingModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_29__["MatMomentDateModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_23__["MatDatepickerModule"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]],
            entryComponents: [_components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_19__["MessageBoxComponent"], _components_dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_22__["ManualWlDialogComponent"], _components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_30__["SelectStudydateDialogComponent"], _components_dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_31__["SelectMarkerDialogComponent"], _components_worklist_shell_worklist_patient_edit_patient_edit_component__WEBPACK_IMPORTED_MODULE_33__["PatientEditComponent"], _components_worklist_shell_worklist_export_study_export_study_component__WEBPACK_IMPORTED_MODULE_34__["ExportStudyComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.css":
/*!*********************************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.css ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".dropdown-button-menu-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    height: 33px;\r\n    outline: none;\r\n    width: 33px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vZHJvcGRvd24tYnV0dG9uLW1lbnUtYnV0dG9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51LWJ1dHRvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29tbW9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51LWJ1dHRvbi9kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMzcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDMzcHg7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.html":
/*!**********************************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.html ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<button class=\"dropdown-button-menu-button\" [style.background-image]=\"backgroundUrl\" role=\"button\" [title]=\"buttonData.tip\" [style.margin-top]=\"getDefaultMarginTop()\"\r\n        (click)=\"onClick()\" (mouseover)=\"onMouseOver($event)\" (mouseout)=\"onMouseOut($event)\" (mousedown)=\"onMouseDown($event)\" (mouseup)=\"onMouseUp($event)\">\r\n</button>\r\n"

/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.ts":
/*!********************************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.ts ***!
  \********************************************************************************************************/
/*! exports provided: DropdownButtonMenuButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropdownButtonMenuButtonComponent", function() { return DropdownButtonMenuButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_dropdown_button_menu_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/dropdown-button-menu-data */ "./src/app/models/dropdown-button-menu-data.ts");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/view-context.service */ "./src/app/services/view-context.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/configuration.service */ "./src/app/services/configuration.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DropdownButtonMenuButtonComponent = /** @class */ (function () {
    function DropdownButtonMenuButtonComponent(viewContext, configurationService) {
        var _this = this;
        this.viewContext = viewContext;
        this.configurationService = configurationService;
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.buttonStyleToken = { normal: "normal", over: "focus", down: "down", disable: "disable" };
        this.baseUrl = this.configurationService.getBaseUrl();
        this.subscriptionViewContextChange = viewContext.viewContextChanged$.subscribe(function (context) {
            _this.setContext(context);
        });
        this.defaultStyle = this.buttonStyleToken.normal;
    }
    Object.defineProperty(DropdownButtonMenuButtonComponent.prototype, "buttonData", {
        get: function () {
            return this._buttonData;
        },
        set: function (value) {
            this._buttonData = value;
            if (this.isTopButton && this.isCheckStyle) {
                if (this._buttonData.operationData.type === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext) {
                    this.defaultStyle = this.buttonStyleToken.down;
                }
                else {
                    this.defaultStyle = this.buttonStyleToken.normal;
                }
            }
            this.backgroundUrl = this.createBackgroundUrl(this.defaultStyle);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DropdownButtonMenuButtonComponent.prototype, "isChecked", {
        get: function () {
            return this._isChecked;
        },
        set: function (value) {
            this._isChecked = value;
            if (this.isCheckStyle) {
                this.defaultStyle = this.getDefaultStyle();
                this.backgroundUrl = this.createBackgroundUrl(this.defaultStyle);
            }
        },
        enumerable: true,
        configurable: true
    });
    DropdownButtonMenuButtonComponent.prototype.ngOnInit = function () {
        this.isCheckStyle = this.viewContext.isImageToolBarButtonCheckStyle(this.buttonData);
        this.isChecked = this.viewContext.isImageToolBarButtonChecked(this.buttonData);
    };
    DropdownButtonMenuButtonComponent.prototype.getDefaultStyle = function () {
        return this.isChecked ? this.buttonStyleToken.down : this.buttonStyleToken.normal;
    };
    DropdownButtonMenuButtonComponent.prototype.getDefaultMarginTop = function () {
        return this.isTopButton ? "-20px" : "0";
    };
    DropdownButtonMenuButtonComponent.prototype.createBackgroundUrl = function (styleToken) {
        var arrowToken = this.showArrow ? "_h" : "";
        var backgroundUrl = "url(" + this.baseUrl + "assets/img/Toolbar/" + this.buttonData.name + "/" + styleToken + "/bitmap" + arrowToken + ".gif)";
        return backgroundUrl;
    };
    DropdownButtonMenuButtonComponent.prototype.onMouseOver = function (event) {
        this.setBackgroundImage(this.buttonStyleToken.over);
    };
    DropdownButtonMenuButtonComponent.prototype.onMouseOut = function (event) {
        this.setBackgroundImage(this.defaultStyle);
    };
    DropdownButtonMenuButtonComponent.prototype.onMouseDown = function (event) {
        if (this.isCheckStyle && this.isChecked) {
            this.setBackgroundImage(this.buttonStyleToken.normal);
        }
        else {
            this.setBackgroundImage(this.buttonStyleToken.down);
        }
    };
    DropdownButtonMenuButtonComponent.prototype.onMouseUp = function (event) {
        this.setBackgroundImage(this.defaultStyle);
    };
    DropdownButtonMenuButtonComponent.prototype.setBackgroundImage = function (style) {
        this.backgroundUrl = this.createBackgroundUrl(style);
    };
    DropdownButtonMenuButtonComponent.prototype.onClick = function () {
        if (!this.isTopButton) {
            this.selected.emit(this.buttonData);
        }
        if (this.buttonData.operationData.type === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext) {
            if (this.buttonData.operationData.data instanceof _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"]) {
                var viewContext = this.buttonData.operationData.data;
                this.viewContext.setContext(viewContext.action, viewContext.data);
            }
            else {
                this.viewContext.setContext(this.buttonData.operationData.data, null);
            }
        }
        else {
            this.viewContext.onOperation(this.buttonData.operationData);
            if (this.isCheckStyle && this.isTopButton && !this.showArrow) {
                this.isChecked = !this.isChecked;
            }
        }
    };
    DropdownButtonMenuButtonComponent.prototype.setContext = function (viewContext) {
        if (this.buttonData.operationData.type === _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext) {
            if (this.buttonData.operationData.data instanceof _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"]) {
                var myViewContext = this.buttonData.operationData.data;
                this.isChecked = (viewContext.action === myViewContext.action && viewContext.data === myViewContext.data);
            }
            else {
                this.isChecked = (viewContext.action === this.buttonData.operationData.data);
            }
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], DropdownButtonMenuButtonComponent.prototype, "selected", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DropdownButtonMenuButtonComponent.prototype, "isTopButton", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], DropdownButtonMenuButtonComponent.prototype, "showArrow", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_dropdown_button_menu_data__WEBPACK_IMPORTED_MODULE_1__["SelectedButtonData"]),
        __metadata("design:paramtypes", [_models_dropdown_button_menu_data__WEBPACK_IMPORTED_MODULE_1__["SelectedButtonData"]])
    ], DropdownButtonMenuButtonComponent.prototype, "buttonData", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [Boolean])
    ], DropdownButtonMenuButtonComponent.prototype, "isChecked", null);
    DropdownButtonMenuButtonComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-dropdown-button-menu-button",
            template: __webpack_require__(/*! ./dropdown-button-menu-button.component.html */ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.html"),
            styles: [__webpack_require__(/*! ./dropdown-button-menu-button.component.css */ "./src/app/components/common/dropdown-button-menu-button/dropdown-button-menu-button.component.css")]
        }),
        __metadata("design:paramtypes", [_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextService"], _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__["ConfigurationService"]])
    ], DropdownButtonMenuButtonComponent);
    return DropdownButtonMenuButtonComponent;
}());



/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.css":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.css ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "li.dropdown.open {\r\n    margin: -20px 0 0;\r\n    width: 35px;\r\n}\r\n\r\nli.dropdown {\r\n    margin: -20px 0 0;\r\n    width: 35px;\r\n}\r\n\r\n.dropdown-button-menu {\r\n    background-color: transparent;\r\n    margin: -24px 0 0;\r\n    min-width: 33px;\r\n    padding-bottom: 0;\r\n}\r\n\r\n.dropdown-button-menu-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    height: 33px;\r\n    outline: none;\r\n    width: 33px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vZHJvcGRvd24tYnV0dG9uLW1lbnUvZHJvcGRvd24tYnV0dG9uLW1lbnUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztBQUNmOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29tbW9uL2Ryb3Bkb3duLWJ1dHRvbi1tZW51L2Ryb3Bkb3duLWJ1dHRvbi1tZW51LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJsaS5kcm9wZG93bi5vcGVuIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbn1cclxuXHJcbmxpLmRyb3Bkb3duIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDM1cHg7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1idXR0b24tbWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIG1hcmdpbjogLTI0cHggMCAwO1xyXG4gICAgbWluLXdpZHRoOiAzM3B4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDA7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1idXR0b24tbWVudS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMzcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDMzcHg7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<li class=\"dropdown\">\r\n    <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"false\" aria-expanded=\"false\">\r\n        <app-dropdown-button-menu-button [buttonData]=\"selectedButton\" [isTopButton]=\"true\" [showArrow]=\"true\">\r\n        </app-dropdown-button-menu-button>\r\n    </a>\r\n    <ul class=\"dropdown-menu dropdown-button-menu\">\r\n        <li *ngFor=\"let menuButton of menuButtonList\">\r\n            <app-dropdown-button-menu-button [buttonData]=\"menuButton\" [isTopButton]=\"false\" [showArrow]=\"false\" [isChecked]=\"selectedButton == menuButton\" (selected)=\"onSelectChanged($event)\"></app-dropdown-button-menu-button>\r\n        </li>\r\n    </ul>\r\n</li>\r\n"

/***/ }),

/***/ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.ts ***!
  \******************************************************************************************/
/*! exports provided: DropdownButtonMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DropdownButtonMenuComponent", function() { return DropdownButtonMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/view-context.service */ "./src/app/services/view-context.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DropdownButtonMenuComponent = /** @class */ (function () {
    function DropdownButtonMenuComponent(viewContext) {
        this.viewContext = viewContext;
    }
    DropdownButtonMenuComponent.prototype.ngOnInit = function () {
        this.selectedButton = this.menuButtonList[0];
        var $dropdownLi = $("li.dropdown");
        $dropdownLi.mouseover(function () {
            $(this).addClass("open");
        }).mouseout(function () {
            $(this).removeClass("open");
        }).click(function () {
            $(this).addClass("open");
        });
    };
    DropdownButtonMenuComponent.prototype.onSelectChanged = function (menuButton) {
        this.selectedButton = menuButton;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], DropdownButtonMenuComponent.prototype, "menuButtonList", void 0);
    DropdownButtonMenuComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-dropdown-button-menu",
            template: __webpack_require__(/*! ./dropdown-button-menu.component.html */ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.html"),
            styles: [__webpack_require__(/*! ./dropdown-button-menu.component.css */ "./src/app/components/common/dropdown-button-menu/dropdown-button-menu.component.css")]
        }),
        __metadata("design:paramtypes", [_services_view_context_service__WEBPACK_IMPORTED_MODULE_1__["ViewContextService"]])
    ], DropdownButtonMenuComponent);
    return DropdownButtonMenuComponent;
}());



/***/ }),

/***/ "./src/app/components/common/message-box/message-box.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/components/common/message-box/message-box.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-title {\r\n    border-bottom: 1px solid #FF9900;\r\n    color: #f90;\r\n    font-size: 18px;\r\n    margin: -24px -24px 0px -24px;\r\n    min-width: 400px;\r\n    padding: 1px 10px;\r\n}\r\n\r\n.mat-dialog-content {\r\n    color: white;\r\n    font-size: 16px;\r\n    min-height: 80px;\r\n    min-width: 400px;\r\n    padding: 10px 10px;\r\n}\r\n\r\n.mat-dialog-actions { margin-right: -12px; }\r\n\r\n.mat-form-field { min-width: 400px; }\r\n\r\n.mat-raised-button {\r\n    background-color: #444;\r\n    border: 1px solid #777;\r\n    border-radius: 3px;\r\n    color: white;\r\n    margin-left: 6px;\r\n    padding: 3px;\r\n    width: 100px;\r\n}\r\n\r\n.mat-raised-button:disabled:hover { color: #999; }\r\n\r\n.mat-raised-button:hover { color: #f90; }\r\n\r\n.mat-dialog-actions { flex-direction: row-reverse; }\r\n\r\n.matInput {\r\n    caret-color: #F90;\r\n    color: green;\r\n}\r\n\r\n.mat-input-element { caret-color: #F90; }\r\n\r\n#span-message-text {\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    white-space: pre-wrap;\r\n    min-width: 400px;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vbWVzc2FnZS1ib3gvbWVzc2FnZS1ib3guY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdDQUFnQztJQUNoQyxXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0Qjs7QUFFQSxzQkFBc0IsbUJBQW1CLEVBQUU7O0FBRTNDLGtCQUFrQixnQkFBZ0IsRUFBRTs7QUFFcEM7SUFDSSxzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBLG9DQUFvQyxXQUFXLEVBQUU7O0FBRWpELDJCQUEyQixXQUFXLEVBQUU7O0FBRXhDLHNCQUFzQiwyQkFBMkIsRUFBRTs7QUFFbkQ7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtBQUNoQjs7QUFFQSxxQkFBcUIsaUJBQWlCLEVBQUU7O0FBRXhDO0lBQ0kscUJBQXFCO0lBQ3JCLHFCQUFxQjtJQUNyQixxQkFBcUI7SUFDckIsZ0JBQWdCO0FBQ3BCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9jb21tb24vbWVzc2FnZS1ib3gvbWVzc2FnZS1ib3guY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZGlhbG9nLXRpdGxlIHtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRkY5OTAwO1xyXG4gICAgY29sb3I6ICNmOTA7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBtYXJnaW46IC0yNHB4IC0yNHB4IDBweCAtMjRweDtcclxuICAgIG1pbi13aWR0aDogNDAwcHg7XHJcbiAgICBwYWRkaW5nOiAxcHggMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctY29udGVudCB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBtaW4taGVpZ2h0OiA4MHB4O1xyXG4gICAgbWluLXdpZHRoOiA0MDBweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IG1hcmdpbi1yaWdodDogLTEycHg7IH1cclxuXHJcbi5tYXQtZm9ybS1maWVsZCB7IG1pbi13aWR0aDogNDAwcHg7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzc3NztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XHJcbiAgICBwYWRkaW5nOiAzcHg7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbn1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7IGNvbG9yOiAjOTk5OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246aG92ZXIgeyBjb2xvcjogI2Y5MDsgfVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgfVxyXG5cclxuLm1hdElucHV0IHtcclxuICAgIGNhcmV0LWNvbG9yOiAjRjkwO1xyXG4gICAgY29sb3I6IGdyZWVuO1xyXG59XHJcblxyXG4ubWF0LWlucHV0LWVsZW1lbnQgeyBjYXJldC1jb2xvcjogI0Y5MDsgfVxyXG5cclxuI3NwYW4tbWVzc2FnZS10ZXh0IHtcclxuICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcclxuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcclxuICAgIG1pbi13aWR0aDogNDAwcHg7XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/components/common/message-box/message-box.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/components/common/message-box/message-box.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h5 mat-dialog-title>{{content.title}}</h5>\r\n\r\n\r\n<mat-dialog-content [formGroup]=\"form\">\r\n\r\n    <i *ngIf=\"content.messageType === 0\" class=\"glyphicon glyphicon-info-sign\" style=\"padding-right: 8px\"></i>\r\n    <i *ngIf=\"content.messageType === 1\" class=\"glyphicon glyphicon-question-sign\" style=\"padding-right: 8px\"></i>\r\n    <i *ngIf=\"content.messageType === 2\" class=\"glyphicon glyphicon-warning-sign\" style=\"color: #F90; padding-right: 8px;\"></i>\r\n    <i *ngIf=\"content.messageType === 3\" class=\"glyphicon glyphicon-remove\" style=\"color: #F90; padding-right: 8px;\"></i>\r\n    <span id=\"span-message-text\" *ngIf=\"content.messageType !== 4\" style=\"color: white\">{{content.messageText}}</span>\r\n    <input *ngIf=\"content.messageType === 4\" (input)=\"onInput($event)\">\r\n</mat-dialog-content>\r\n\r\n<mat-dialog-actions>\r\n\r\n    <button *ngIf=\"needShowYesNoButton()\" class=\"mat-raised-button\"\r\n            (click)=\"onNo()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>No\r\n    </button>\r\n\r\n    <button *ngIf=\"needShowYesNoButton()\" class=\"mat-raised-button\"\r\n            (click)=\"onYes()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Yes\r\n    </button>\r\n\r\n    <button *ngIf=\"needShowCancelButton()\" class=\"mat-raised-button\"\r\n            (click)=\"onCancel()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n\r\n    <button *ngIf=\"needShowOkButton()\" class=\"mat-raised-button\" [disabled]=\"needDisableYesButton\"\r\n            (click)=\"onOk()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Ok\r\n    </button>\r\n\r\n</mat-dialog-actions>\r\n"

/***/ }),

/***/ "./src/app/components/common/message-box/message-box.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/components/common/message-box/message-box.component.ts ***!
  \************************************************************************/
/*! exports provided: MessageBoxComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageBoxComponent", function() { return MessageBoxComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




var MessageBoxComponent = /** @class */ (function () {
    function MessageBoxComponent(fb, dialogRef, messageBoxContent) {
        var _this = this;
        this.fb = fb;
        this.dialogRef = dialogRef;
        this.needDisableYesButton = false;
        this.content = messageBoxContent;
        //this.content.messageText = this.content.callbackFunction();
        if (this.content.callbackFunction) {
            this.content.callbackFunction.call(this.content.callbackOwner, this.content.callbackArg).subscribe(function (value) {
                if (value === "") {
                    _this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Ok;
                    _this.dialogRef.close(_this.form.value);
                }
                else {
                    _this.content.messageText = value;
                }
            });
        }
        this.form = fb.group({
            dialogResult: [_models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Yes],
            valueInput: [this.valueInput, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required]
        });
    }
    MessageBoxComponent.prototype.ngOnInit = function () {
        this.needDisableYesButton = this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input;
    };
    MessageBoxComponent.prototype.onYes = function () {
        this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Yes;
        this.dialogRef.close(this.form.value);
    };
    MessageBoxComponent.prototype.onNo = function () {
        this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].No;
        this.dialogRef.close(this.form.value);
    };
    MessageBoxComponent.prototype.onOk = function () {
        this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Ok;
        this.dialogRef.close(this.form.value);
    };
    MessageBoxComponent.prototype.onCancel = function () {
        this.form.value.dialogResult = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Cancel;
        this.dialogRef.close(this.form.value);
    };
    MessageBoxComponent.prototype.closeDialog = function () {
        this.dialogRef.close();
    };
    MessageBoxComponent.prototype.needShowYesNoButton = function () {
        return this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Question;
    };
    MessageBoxComponent.prototype.needShowOkButton = function () {
        return this.content.messageType !== _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Question && this.content.messageType !== _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].InfoCancel;
    };
    MessageBoxComponent.prototype.needShowCancelButton = function () {
        return this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input || this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].InfoCancel;
    };
    MessageBoxComponent.prototype.onInput = function (event) {
        this.needDisableYesButton = this.content.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input &&
            (this.form.value.valueInput === null ||
                this.form.value.valueInput === undefined ||
                this.form.value.valueInput === "");
        //if (!this.needDisableYesButton && event.code === "Enter") {
        //  this.onOk();
        //}
    };
    MessageBoxComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-message-box",
            template: __webpack_require__(/*! ./message-box.component.html */ "./src/app/components/common/message-box/message-box.component.html"),
            styles: [__webpack_require__(/*! ./message-box.component.css */ "./src/app/components/common/message-box/message-box.component.css")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"],
            _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxContent"]])
    ], MessageBoxComponent);
    return MessageBoxComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.css ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-title {\r\n    border-bottom: 1px solid #FF9900;\r\n    color: #f90;\r\n    font-size: 15px;\r\n    margin: -24px -24px 0px -24px;\r\n    min-width: 200px;\r\n    padding: 1px 10px;\r\n}\r\n\r\n.mat-dialog-content {\r\n    color: white;\r\n    font-size: 15px;\r\n    height: 100px;\r\n    min-width: 200px;\r\n    padding: 10px 10px;\r\n}\r\n\r\n.mat-form-field-appearance-legacy .mat-form-field-wrapper {\r\n    padding-bottom: 2px;\r\n}\r\n\r\n.mat-form-field-appearance-legacy .mat-form-field-infix {\r\n    padding: 0;\r\n}\r\n\r\n.matInput {\r\n    caret-color: #F90;\r\n    color: green;\r\n}\r\n\r\n.mat-input-element {\r\n    caret-color: #F90;\r\n    padding-left: 5px;\r\n}\r\n\r\n.mat-form-field-label-wrapper {\r\n    padding-top: 3px;\r\n}\r\n\r\n.mat-form-field-infix {\r\n    border-top: 0;\r\n}\r\n\r\n.mat-raised-button {\r\n    background-color: #444;\r\n    border: 1px solid #777;\r\n    border-radius: 3px;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-left: 6px;\r\n    padding: 1px;\r\n    width: 90px;\r\n    height: 30px;\r\n    line-height: 10px;\r\n}\r\n\r\n.mat-dialog-actions { margin-right: -12px; }\r\n\r\n.mat-raised-button:disabled:hover { color: #999; }\r\n\r\n.mat-raised-button:hover { color: #f90; }\r\n\r\n.mat-dialog-actions { flex-direction: row-reverse; }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvbWFudWFsLXdsLWRpYWxvZy9tYW51YWwtd2wtZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQ0FBZ0M7SUFDaEMsV0FBVztJQUNYLGVBQWU7SUFDZiw2QkFBNkI7SUFDN0IsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0lBQ2YsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCOztBQUVBLHNCQUFzQixtQkFBbUIsRUFBRTs7QUFFM0Msb0NBQW9DLFdBQVcsRUFBRTs7QUFFakQsMkJBQTJCLFdBQVcsRUFBRTs7QUFFeEMsc0JBQXNCLDJCQUEyQixFQUFFIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvbWFudWFsLXdsLWRpYWxvZy9tYW51YWwtd2wtZGlhbG9nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LWRpYWxvZy10aXRsZSB7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0ZGOTkwMDtcclxuICAgIGNvbG9yOiAjZjkwO1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgbWFyZ2luOiAtMjRweCAtMjRweCAwcHggLTI0cHg7XHJcbiAgICBtaW4td2lkdGg6IDIwMHB4O1xyXG4gICAgcGFkZGluZzogMXB4IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLWxlZ2FjeSAubWF0LWZvcm0tZmllbGQtd3JhcHBlciB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xyXG59XHJcblxyXG4ubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1sZWdhY3kgLm1hdC1mb3JtLWZpZWxkLWluZml4IHtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5tYXRJbnB1dCB7XHJcbiAgICBjYXJldC1jb2xvcjogI0Y5MDtcclxuICAgIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLm1hdC1pbnB1dC1lbGVtZW50IHtcclxuICAgIGNhcmV0LWNvbG9yOiAjRjkwO1xyXG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyIHtcclxuICAgIHBhZGRpbmctdG9wOiAzcHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1pbmZpeCB7XHJcbiAgICBib3JkZXItdG9wOiAwO1xyXG59XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgcGFkZGluZzogMXB4O1xyXG4gICAgd2lkdGg6IDkwcHg7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IG1hcmdpbi1yaWdodDogLTEycHg7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7IGNvbG9yOiAjOTk5OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246aG92ZXIgeyBjb2xvcjogI2Y5MDsgfVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgfSJdfQ== */"

/***/ }),

/***/ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.html":
/*!************************************************************************************!*\
  !*** ./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1 mat-dialog-title\r\n    cdkDrag\r\n    cdkDragRootElement=\".cdk-overlay-pane\"\r\n    cdkDragHandle>\r\n    Manual WL\r\n</h1>\r\n<mat-dialog-content>\r\n    <table>\r\n        <tr>\r\n            <td style=\"padding-left: 5px\">Window Center</td>\r\n            <td style=\"width: 10px\"></td>\r\n            <td style=\"padding-left: 5px\">Window Width</td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n                <mat-form-field>\r\n                    <input type=\"number\" matInput [(ngModel)]=\"data.windowWidth\" cdkFocusInitial>\r\n                </mat-form-field>\r\n            </td>\r\n            <td></td>\r\n            <td>\r\n                <mat-form-field>\r\n                    <input type=\"number\" matInput [(ngModel)]=\"data.windowCenter\">\r\n                </mat-form-field>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n    <button class=\"mat-raised-button\" (click)=\"onCancelClick()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n    <button class=\"mat-raised-button\" (click)=\"onOkClick()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Ok\r\n    </button>\r\n</mat-dialog-actions>\r\n"

/***/ }),

/***/ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts ***!
  \**********************************************************************************/
/*! exports provided: ManualWlDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManualWlDialogComponent", function() { return ManualWlDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_dailog_data_image_process__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/dailog-data/image-process */ "./src/app/models/dailog-data/image-process.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};





var ManualWlDialogComponent = /** @class */ (function () {
    function ManualWlDialogComponent(dialogRef, data, dialogService) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.dialogService = dialogService;
    }
    ManualWlDialogComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    ManualWlDialogComponent.prototype.onOkClick = function () {
        var windowCenter = Number(this.data.windowCenter);
        var windowWidth = Number(this.data.windowWidth);
        if (isNaN(windowCenter) || isNaN(windowWidth)) {
            var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["MessageBoxContent"]();
            content.title = "Input error";
            content.messageText = "Only number is allowed for window center and width!";
            content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["MessageBoxType"].Warning;
            this.dialogService.showMessageBox(content);
            return;
        }
        this.dialogRef.close(this.data);
    };
    ManualWlDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-manual-wl-dialog",
            template: __webpack_require__(/*! ./manual-wl-dialog.component.html */ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.html"),
            styles: [__webpack_require__(/*! ./manual-wl-dialog.component.css */ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _models_dailog_data_image_process__WEBPACK_IMPORTED_MODULE_2__["WindowLevelData"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], ManualWlDialogComponent);
    return ManualWlDialogComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.css":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.css ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-title {\r\n    border-bottom: 1px solid #FF9900;\r\n    color: #f90;\r\n    font-size: 15px;\r\n    margin: -24px -24px 0px -24px;\r\n    min-width: 200px;\r\n    padding: 1px 10px;\r\n}\r\n\r\n.mat-dialog-content {\r\n    color: white;\r\n    font-size: 15px;\r\n    min-width: 200px;\r\n    padding: 10px 10px;\r\n}\r\n\r\n.mat-form-field-appearance-legacy .mat-form-field-wrapper {\r\n    padding-bottom: 2px;\r\n}\r\n\r\n.mat-form-field-appearance-legacy .mat-form-field-infix {\r\n    padding: 0;\r\n}\r\n\r\n.matInput {\r\n    caret-color: #F90;\r\n    color: green;\r\n}\r\n\r\n.mat-input-element {\r\n    caret-color: #F90;\r\n    padding-left: 5px;\r\n}\r\n\r\n.mat-form-field-label-wrapper {\r\n    padding-top: 3px;\r\n}\r\n\r\n.mat-form-field-infix {\r\n    border-top: 0;\r\n}\r\n\r\n.mat-raised-button {\r\n    background-color: #444;\r\n    border: 1px solid #777;\r\n    border-radius: 3px;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-left: 6px;\r\n    padding: 1px;\r\n    width: 90px;\r\n    height: 30px;\r\n    line-height: 10px;\r\n}\r\n\r\n.mat-dialog-actions { margin-right: -12px; }\r\n\r\n.mat-raised-button:disabled:hover { color: #999; }\r\n\r\n.mat-raised-button:hover { color: #f90; }\r\n\r\n.mat-dialog-actions { flex-direction: row-reverse; }\r\n\r\n.marker-image {\r\n    border: 1px solid #808080;\r\n}\r\n\r\n.marker-image:hover {\r\n    border: 1px solid #F90;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvc2VsZWN0LW1hcmtlci1kaWFsb2cvc2VsZWN0LW1hcmtlci1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdDQUFnQztJQUNoQyxXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksVUFBVTtBQUNkOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixXQUFXO0lBQ1gsWUFBWTtJQUNaLGlCQUFpQjtBQUNyQjs7QUFFQSxzQkFBc0IsbUJBQW1CLEVBQUU7O0FBRTNDLG9DQUFvQyxXQUFXLEVBQUU7O0FBRWpELDJCQUEyQixXQUFXLEVBQUU7O0FBRXhDLHNCQUFzQiwyQkFBMkIsRUFBRTs7QUFFbkQ7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2RpYWxvZy9zZWxlY3QtbWFya2VyLWRpYWxvZy9zZWxlY3QtbWFya2VyLWRpYWxvZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hdC1kaWFsb2ctdGl0bGUge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNGRjk5MDA7XHJcbiAgICBjb2xvcjogI2Y5MDtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIG1hcmdpbjogLTI0cHggLTI0cHggMHB4IC0yNHB4O1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmc6IDFweCAxMHB4O1xyXG59XHJcblxyXG4ubWF0LWRpYWxvZy1jb250ZW50IHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDEwcHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1hcHBlYXJhbmNlLWxlZ2FjeSAubWF0LWZvcm0tZmllbGQtd3JhcHBlciB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMnB4O1xyXG59XHJcblxyXG4ubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1sZWdhY3kgLm1hdC1mb3JtLWZpZWxkLWluZml4IHtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5tYXRJbnB1dCB7XHJcbiAgICBjYXJldC1jb2xvcjogI0Y5MDtcclxuICAgIGNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLm1hdC1pbnB1dC1lbGVtZW50IHtcclxuICAgIGNhcmV0LWNvbG9yOiAjRjkwO1xyXG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1sYWJlbC13cmFwcGVyIHtcclxuICAgIHBhZGRpbmctdG9wOiAzcHg7XHJcbn1cclxuXHJcbi5tYXQtZm9ybS1maWVsZC1pbmZpeCB7XHJcbiAgICBib3JkZXItdG9wOiAwO1xyXG59XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgcGFkZGluZzogMXB4O1xyXG4gICAgd2lkdGg6IDkwcHg7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IG1hcmdpbi1yaWdodDogLTEycHg7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7IGNvbG9yOiAjOTk5OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246aG92ZXIgeyBjb2xvcjogI2Y5MDsgfVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgfVxyXG5cclxuLm1hcmtlci1pbWFnZSB7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjODA4MDgwO1xyXG59XHJcblxyXG4ubWFya2VyLWltYWdlOmhvdmVyIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNGOTA7XHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1 mat-dialog-title\r\n    cdkDrag\r\n    cdkDragRootElement=\".cdk-overlay-pane\"\r\n    cdkDragHandle>\r\n    Select Marker\r\n</h1>\r\n<mat-dialog-content>\r\n    <mat-tab-group>\r\n        <mat-tab *ngFor=\"let markerGroup of markerGroupList\" [label]=\"markerGroup.groupName\">\r\n            <table style=\"background-color: #808080\">\r\n                <tr *ngFor=\"let markerRow of markerGroup.markerDataTable\" >\r\n                    <td *ngFor=\"let markerData of markerRow\" style=\"border: 1px solid white\">\r\n                        <img [src]=\"getImageUrl(markerData)\" [alt]=\"markerData.displayText\" (click)=\"onOkClick(markerData)\" class=\"marker-image\"/>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </mat-tab>\r\n    </mat-tab-group>\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n    <button class=\"mat-raised-button\" (click)=\"onCancelClick()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n</mat-dialog-actions>"

/***/ }),

/***/ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.ts ***!
  \******************************************************************************************/
/*! exports provided: SelectMarkerDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectMarkerDialogComponent", function() { return SelectMarkerDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/configuration.service */ "./src/app/services/configuration.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SelectMarkerDialogComponent = /** @class */ (function () {
    function SelectMarkerDialogComponent(dialogRef, dialogService, configService) {
        this.dialogRef = dialogRef;
        this.dialogService = dialogService;
        this.configService = configService;
        this.markerGroupList = [];
        this.baseUrl = this.configService.getBaseUrl();
        this.markerGroupList = this.configService.getMarkerConfig();
    }
    SelectMarkerDialogComponent.prototype.ngOnInit = function () {
    };
    SelectMarkerDialogComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    SelectMarkerDialogComponent.prototype.onOkClick = function (markerData) {
        this.dialogRef.close(markerData.imageName.substr(0, markerData.imageName.length - 4));
    };
    SelectMarkerDialogComponent.prototype.getImageUrl = function (markerData) {
        return this.baseUrl + "assets/img/Stamp/" + markerData.imageName;
    };
    SelectMarkerDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-select-marker-dialog',
            template: __webpack_require__(/*! ./select-marker-dialog.component.html */ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.html"),
            styles: [__webpack_require__(/*! ./select-marker-dialog.component.css */ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__["ConfigurationService"]])
    ], SelectMarkerDialogComponent);
    return SelectMarkerDialogComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.css":
/*!*************************************************************************************************!*\
  !*** ./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.css ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-title {\r\n    border-bottom: 1px solid #FF9900;\r\n    color: #f90;\r\n    font-size: 15px;\r\n    margin: -24px -24px 0px -24px;\r\n    min-width: 200px;\r\n    padding: 1px 10px;\r\n}\r\n\r\n.mat-dialog-content {\r\n    color: white;\r\n    font-size: 15px;\r\n    height: 100px;\r\n    min-width: 200px;\r\n    padding: 10px 10px;\r\n}\r\n\r\n.mat-dialog-actions { margin-right: -12px; }\r\n\r\n.mat-form-field { }\r\n\r\n.mat-raised-button {\r\n    background-color: #444;\r\n    border: 1px solid #777;\r\n    border-radius: 3px;\r\n    color: white;\r\n    font-size: 13px;\r\n    margin-left: 6px;\r\n    padding: 1px;\r\n    width: 100px;\r\n}\r\n\r\n.mat-raised-button:disabled:hover { color: #999; }\r\n\r\n.mat-raised-button:hover { color: #f90; }\r\n\r\n.mat-dialog-actions { flex-direction: row-reverse; }\r\n\r\n.matInput {\r\n    caret-color: #F90;\r\n    color: green;\r\n}\r\n\r\n.mat-input-element { caret-color: #F90; }\r\n\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdDQUFnQztJQUNoQyxXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0Qjs7QUFFQSxzQkFBc0IsbUJBQW1CLEVBQUU7O0FBRTNDLGtCQUFrQjs7QUFFbEI7SUFDSSxzQkFBc0I7SUFDdEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSxvQ0FBb0MsV0FBVyxFQUFFOztBQUVqRCwyQkFBMkIsV0FBVyxFQUFFOztBQUV4QyxzQkFBc0IsMkJBQTJCLEVBQUU7O0FBRW5EO0lBQ0ksaUJBQWlCO0lBQ2pCLFlBQVk7QUFDaEI7O0FBRUEscUJBQXFCLGlCQUFpQixFQUFFIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cvc2VsZWN0LXN0dWR5ZGF0ZS1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZGlhbG9nLXRpdGxlIHtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRkY5OTAwO1xyXG4gICAgY29sb3I6ICNmOTA7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBtYXJnaW46IC0yNHB4IC0yNHB4IDBweCAtMjRweDtcclxuICAgIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgICBwYWRkaW5nOiAxcHggMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctY29udGVudCB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgbWluLXdpZHRoOiAyMDBweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMTBweDtcclxufVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IG1hcmdpbi1yaWdodDogLTEycHg7IH1cclxuXHJcbi5tYXQtZm9ybS1maWVsZCB7IH1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzc3NztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XHJcbiAgICBwYWRkaW5nOiAxcHg7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbn1cclxuXHJcbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7IGNvbG9yOiAjOTk5OyB9XHJcblxyXG4ubWF0LXJhaXNlZC1idXR0b246aG92ZXIgeyBjb2xvcjogI2Y5MDsgfVxyXG5cclxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7IGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgfVxyXG5cclxuLm1hdElucHV0IHtcclxuICAgIGNhcmV0LWNvbG9yOiAjRjkwO1xyXG4gICAgY29sb3I6IGdyZWVuO1xyXG59XHJcblxyXG4ubWF0LWlucHV0LWVsZW1lbnQgeyBjYXJldC1jb2xvcjogI0Y5MDsgfVxyXG5cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.html":
/*!**************************************************************************************************!*\
  !*** ./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<h1 mat-dialog-title\r\n    cdkDrag\r\n    cdkDragRootElement=\".cdk-overlay-pane\"\r\n    cdkDragHandle>\r\n    Select Study Date Range\r\n</h1>\r\n<mat-dialog-content>\r\n    <table>\r\n        <tr>\r\n            <td></td>\r\n            <td style=\"width: 10px\"></td>\r\n            <td></td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n                <mat-form-field>\r\n                    <input matInput [matDatepicker]=\"picker1\" [min]=\"fromMinDate\" [max]=\"fromMaxDate\" placeholder=\"From\" (dateChange)=\"fromDateChanged('change', $event)\">\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker1></mat-datepicker>\r\n                </mat-form-field>\r\n            </td>\r\n            <td></td>\r\n            <td>\r\n                <mat-form-field>\r\n                    <input matInput [matDatepicker]=\"picker2\" [min]=\"toMinDate\" [max]=\"toMaxDate\" placeholder=\"To\" (dateChange)=\"toDateChanged('change', $event)\">\r\n                    <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n                    <mat-datepicker #picker2></mat-datepicker>\r\n                </mat-form-field>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n    <button class=\"mat-raised-button\" (click)=\"onCancelClick()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n    <button class=\"mat-raised-button\" (click)=\"onOkClick()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Ok\r\n    </button>\r\n</mat-dialog-actions>\r\n"

/***/ }),

/***/ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts ***!
  \************************************************************************************************/
/*! exports provided: MY_FORMATS, SelectStudydateDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MY_FORMATS", function() { return MY_FORMATS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectStudydateDialogComponent", function() { return SelectStudydateDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_dailog_data_date_range__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/dailog-data/date-range */ "./src/app/models/dailog-data/date-range.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/esm5/core.es5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};




// Import DatePicker format


var MY_FORMATS = {
    parse: {
        dateInput: "LL",
    },
    display: {
        dateInput: "LL",
        monthYearLabel: "MMM YYYY",
        dateA11yLabel: "LL",
        monthYearA11yLabel: "MMMM YYYY",
    },
};
var SelectStudydateDialogComponent = /** @class */ (function () {
    function SelectStudydateDialogComponent(dialogRef, dateRange, dialogService) {
        this.dialogRef = dialogRef;
        this.dateRange = dateRange;
        this.dialogService = dialogService;
        this.fromMinDate = new Date(1900, 1, 1);
        this.fromMaxDate = new Date();
        this.toMinDate = new Date();
        this.toMaxDate = new Date();
    }
    SelectStudydateDialogComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    SelectStudydateDialogComponent.prototype.onOkClick = function () {
        this.dialogRef.close(this.dateRange);
    };
    SelectStudydateDialogComponent.prototype.fromDateChanged = function (type, event) {
        this.toMinDate = event.value;
        this.dateRange.dateFrom = event.value;
    };
    SelectStudydateDialogComponent.prototype.toDateChanged = function (type, event) {
        this.fromMaxDate = event.value;
        this.dateRange.dateTo = event.value;
    };
    SelectStudydateDialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-select-studydate-dialog',
            template: __webpack_require__(/*! ./select-studydate-dialog.component.html */ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.html"),
            providers: [
                // i18n
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_LOCALE"], useValue: "zh-CN" },
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["DateAdapter"], useClass: _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_4__["MomentDateAdapter"], deps: [_angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_LOCALE"]] },
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_FORMATS"], useValue: MY_FORMATS },
            ],
            styles: [__webpack_require__(/*! ./select-studydate-dialog.component.css */ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.css")]
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _models_dailog_data_date_range__WEBPACK_IMPORTED_MODULE_2__["DateRange"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], SelectStudydateDialogComponent);
    return SelectStudydateDialogComponent;
}());



/***/ }),

/***/ "./src/app/components/header-bar/header-bar.component.css":
/*!****************************************************************!*\
  !*** ./src/app/components/header-bar/header-bar.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".nav-button {\r\n    /*display: inline-block;*/\r\n    background-color: #555555;\r\n    border-radius: 1px;\r\n    border-width: 1px;\r\n    color: white;\r\n    margin-left: 2px;\r\n    margin-right: 2px;\r\n    text-decoration: none;\r\n}\r\n\r\n/*.nav-button:visited {\r\n  color: #607D8B;\r\n}*/\r\n\r\n.nav-button:hover { color: #ff9900; }\r\n\r\n/*.nav-button:active {\r\n  color: #039be5;\r\n}*/\r\n\r\n.company-name {\r\n    color: white;\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n}\r\n\r\n.product-name {\r\n    color: white;\r\n    font-size: 12px;\r\n    padding: 15px 2px;\r\n}\r\n\r\n.div-headerbar-nav {\r\n    /*display: inline-block;*/\r\n    background-color: #555555;\r\n    border-radius: 1px;\r\n    border-width: 1px;\r\n    color: white;\r\n    margin-left: 2px;\r\n    margin-right: 2px;\r\n    text-decoration: none;\r\n}\r\n\r\n.div-headerbar-button {\r\n    background-color: #555555;\r\n    border-radius: 2px;\r\n    border-width: 0px;\r\n    color: white;\r\n    height: 28px;\r\n    padding-top: 3px;\r\n    text-decoration: none;\r\n}\r\n\r\n.div-headerbar-button:hover { color: #ff9900; }\r\n\r\n.div-headerbar-button:focus { outline: none; }\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9oZWFkZXItYmFyL2hlYWRlci1iYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixxQkFBcUI7QUFDekI7O0FBRUE7O0VBRUU7O0FBRUYsb0JBQW9CLGNBQWMsRUFBRTs7QUFFcEM7O0VBRUU7O0FBRUY7SUFDSSxZQUFZO0lBQ1osZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0lBQ1osZ0JBQWdCO0lBQ2hCLHFCQUFxQjtBQUN6Qjs7QUFFQSw4QkFBOEIsY0FBYyxFQUFFOztBQUU5Qyw4QkFBOEIsYUFBYSxFQUFFIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9oZWFkZXItYmFyL2hlYWRlci1iYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXYtYnV0dG9uIHtcclxuICAgIC8qZGlzcGxheTogaW5saW5lLWJsb2NrOyovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi8qLm5hdi1idXR0b246dmlzaXRlZCB7XHJcbiAgY29sb3I6ICM2MDdEOEI7XHJcbn0qL1xyXG5cclxuLm5hdi1idXR0b246aG92ZXIgeyBjb2xvcjogI2ZmOTkwMDsgfVxyXG5cclxuLyoubmF2LWJ1dHRvbjphY3RpdmUge1xyXG4gIGNvbG9yOiAjMDM5YmU1O1xyXG59Ki9cclxuXHJcbi5jb21wYW55LW5hbWUge1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLnByb2R1Y3QtbmFtZSB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBwYWRkaW5nOiAxNXB4IDJweDtcclxufVxyXG5cclxuLmRpdi1oZWFkZXJiYXItbmF2IHtcclxuICAgIC8qZGlzcGxheTogaW5saW5lLWJsb2NrOyovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tbGVmdDogMnB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi5kaXYtaGVhZGVyYmFyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgYm9yZGVyLXdpZHRoOiAwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBoZWlnaHQ6IDI4cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogM3B4O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG4uZGl2LWhlYWRlcmJhci1idXR0b246aG92ZXIgeyBjb2xvcjogI2ZmOTkwMDsgfVxyXG5cclxuLmRpdi1oZWFkZXJiYXItYnV0dG9uOmZvY3VzIHsgb3V0bGluZTogbm9uZTsgfVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/header-bar/header-bar.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/header-bar/header-bar.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n    <div class=\"navbar-header\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <!--<div class=\"navbar-brand\" href=\"#\">\r\n                        <img src=\"../../../assets/img/Carestream.svg\">\r\n                    </div>-->\r\n                    <div class=\"company-name\">Carestream</div>\r\n                </td>\r\n                <td>\r\n                    <div class=\"product-name\">Image Suite</div>\r\n                </td>\r\n                <td>\r\n                    <div class=\"nav-button\" style=\"padding-left: 4px; padding-right: 4px\">\r\n                        <button id=\"headerButton-worklist\" class=\"div-headerbar-button\" (click)=\"showViewerShell(null)\">Worklist</button>\r\n                    </div>\r\n                </td>\r\n                <td *ngFor=\"let viewerShellData of getViewerShellDataList()\">\r\n                    <div class=\"nav-button\">\r\n                        <button [id]=\"getId(viewerShellData)\" class=\"div-headerbar-button\" (click)=\"showViewerShell(viewerShellData)\">{{viewerShellData.getName()}}</button>\r\n                        <button class=\"div-headerbar-button\" (click)=\"closeViewerShell(viewerShellData)\">x</button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/header-bar/header-bar.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/header-bar/header-bar.component.ts ***!
  \***************************************************************/
/*! exports provided: HeaderBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HeaderBarComponent", function() { return HeaderBarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var HeaderBarComponent = /** @class */ (function () {
    // Do NOT need to subscribe on shellCreated message, since when a new ViewerShell is created, 
    // shellNavigatorService.viewerShellDataList will updated, and this will update the UI of 
    // header-bar page
    function HeaderBarComponent(shellNavigatorService) {
        var _this = this;
        this.shellNavigatorService = shellNavigatorService;
        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(function (viewerShellData) { _this.highlightStudyButton(viewerShellData); });
    }
    HeaderBarComponent.prototype.ngOnInit = function () {
    };
    HeaderBarComponent.prototype.ngAfterContentInit = function () {
    };
    HeaderBarComponent.prototype.ngAfterViewInit = function () {
    };
    HeaderBarComponent.prototype.ngOnChanges = function (changes) {
    };
    HeaderBarComponent.prototype.ngAfterViewChecked = function () {
        this.highlightStudyButton(this.shellNavigatorService.viewerShellDataHighlighted);
    };
    HeaderBarComponent.prototype.getViewerShellDataList = function () {
        return this.shellNavigatorService.viewerShellDataList;
    };
    HeaderBarComponent.prototype.showViewerShell = function (viewerShellData) {
        this.shellNavigatorService.shellNavigate(viewerShellData);
    };
    HeaderBarComponent.prototype.closeViewerShell = function (viewerShellData) {
        this.shellNavigatorService.shellDelete(viewerShellData);
    };
    HeaderBarComponent.prototype.highlightStudyButton = function (viewerShellData) {
        var highlightedId;
        if (viewerShellData === null || viewerShellData === undefined) {
            highlightedId = "headerButton-worklist";
        }
        else {
            highlightedId = viewerShellData.getId();
        }
        var o = document.getElementById("headerButton-worklist");
        if (o !== undefined && o !== null) {
            o.style.color = (highlightedId === "headerButton-worklist") ? "#ff9900" : "white";
        }
        var len = this.getViewerShellDataList().length;
        for (var i = 0; i < len; i++) {
            var id = "headerButton" + this.getViewerShellDataList()[i].getId();
            o = document.getElementById(id);
            if (o !== undefined && o !== null) {
                o.style.color = (this.getViewerShellDataList()[i].getId() === highlightedId) ? "#ff9900" : "white";
            }
        }
    };
    HeaderBarComponent.prototype.getId = function (viewerShellData) {
        return "headerButton" + viewerShellData.getId();
    };
    HeaderBarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-header-bar",
            template: __webpack_require__(/*! ./header-bar.component.html */ "./src/app/components/header-bar/header-bar.component.html"),
            styles: [__webpack_require__(/*! ./header-bar.component.css */ "./src/app/components/header-bar/header-bar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_1__["ShellNavigatorService"]])
    ], HeaderBarComponent);
    return HeaderBarComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/group-viewer.component.css ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".DivLayoutViewer {\r\n    background-color: #555555;\r\n    /*border-top: solid 2px #FFFFFF;\r\n  border-bottom: solid 2px #FFFFFF;\r\n  border-left: solid 2px #FFFFFF;\r\n  border-right: solid 2px #FFFFFF;*/\r\n    border: 1px solid #555555;\r\n    color: #F5F5F5;\r\n    display: flex;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    width: 100%;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2dyb3VwLXZpZXdlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kseUJBQXlCO0lBQ3pCOzs7bUNBRytCO0lBQy9CLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsYUFBYTtJQUNiLFlBQVk7SUFDWixjQUFjO0lBQ2QsV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2dyb3VwLXZpZXdlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLkRpdkxheW91dFZpZXdlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgLypib3JkZXItdG9wOiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItbGVmdDogc29saWQgMnB4ICNGRkZGRkY7XHJcbiAgYm9yZGVyLXJpZ2h0OiBzb2xpZCAycHggI0ZGRkZGRjsqL1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzU1NTU1NTtcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/group-viewer.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"DivLayoutViewer\" [id]=\"getId()\" (click)=\"onSelected()\" [style.border]=\"getBorderStyle()\">\r\n    <div class=\"div-flex-column\" *ngFor=\"let a of Arr(groupData.imageMatrix.colCount).fill(1); let colIndex = index\">\r\n        <div class=\"div-flex-row\" *ngFor=\"let a of Arr(groupData.imageMatrix.rowCount).fill(1); let rowIndex = index\">\r\n            <app-image-viewer [imageData]=\"getImageData(rowIndex,colIndex)\" class=\"div-flex-row\">\r\n            </app-image-viewer>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts ***!
  \********************************************************************************/
/*! exports provided: GroupViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupViewerComponent", function() { return GroupViewerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/hanging-protocol */ "./src/app/models/hanging-protocol.ts");
/* harmony import */ var _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/hanging-protocol.service */ "./src/app/services/hanging-protocol.service.ts");
/* harmony import */ var _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/viewer-group-data */ "./src/app/models/viewer-group-data.ts");
/* harmony import */ var _image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./image-viewer/image-viewer.component */ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var GroupViewerComponent = /** @class */ (function () {
    function GroupViewerComponent(imageSelectorService, hangingProtocolService, logService) {
        var _this = this;
        this.imageSelectorService = imageSelectorService;
        this.hangingProtocolService = hangingProtocolService;
        this.logService = logService;
        this.Arr = Array; //Array type captured in a variable
        this.pageIndex = 0;
        this.selected = false;
        this.subscriptionImageSelection = imageSelectorService.imageSelected$.subscribe(function (viewerImageData) {
            _this.doSelectGroup(viewerImageData);
        });
        this.subscriptionImageSelection = imageSelectorService.imagePageNavigated$.subscribe(function (up) {
            _this.doNavigate(up);
        });
        this.subscriptionThumbnailSelection = imageSelectorService.thumbnailSelected$.subscribe(function (image) {
            _this.doSelectGroupByThumbnail(image);
        });
        this.subscriptionImageLayoutChange = imageSelectorService.imageLayoutChanged$.subscribe(function (imageLayoutStyle) {
            _this.onChangeImageLayout(imageLayoutStyle);
        });
        this.logService.debug("Group: a new GroupViewerComponent is created!");
    }
    Object.defineProperty(GroupViewerComponent.prototype, "groupData", {
        get: function () {
            return this._groupData;
        },
        set: function (groupData) {
            this.logPrefix = "Group" + groupData.getId() + ": ";
            var log = this.logPrefix + "set groupData, protocol is " + _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"][groupData.imageHangingProtocol];
            this.logService.debug(log);
            this._groupData = groupData;
            this.setImageLayout(this.groupData.imageHangingProtocol);
        },
        enumerable: true,
        configurable: true
    });
    GroupViewerComponent.prototype.ngOnInit = function () {
    };
    GroupViewerComponent.prototype.ngAfterContentInit = function () {
    };
    GroupViewerComponent.prototype.ngAfterViewChecked = function () {
        if (this.childImages) {
            this.setHeight(this.childImages.first.canvas.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.clientHeight);
            this.childImages.forEach(function (child) { return child.adjustHeight(); });
        }
    };
    GroupViewerComponent.prototype.onSelected = function () {
    };
    GroupViewerComponent.prototype.doSelectGroup = function (viewerImageData) {
        this.selected = (this._groupData === viewerImageData.groupData);
    };
    GroupViewerComponent.prototype.doSelectGroupByThumbnail = function (image) {
        var find = this._groupData.imageDataList.find(function (imageData) { return imageData.image === image; });
        this.selected = (find !== undefined);
    };
    GroupViewerComponent.prototype.getBorderStyle = function () {
        return this.selected ? "1px solid green" : "1px solid #555555";
    };
    //doSelectById(id: string, selected: boolean): void {
    //  const o = document.getElementById(id);
    //  if (o !== undefined && o !== null) {
    //    o.style.border = selected ? '1px solid yellow' : '1px solid #555555';
    //  }
    //}
    //doSelectByImageViewerId(imageViewerId: string): void {
    //  const id = this.groupData.getId();
    //  this.selected = imageViewerId.startsWith(id);
    //  var divId = 'DivLayoutViewer' + id;
    //  this.doSelectById(divId, this.selected);
    //}
    GroupViewerComponent.prototype.onChangeImageLayout = function (imageLayoutStyle) {
        if (this.selected) {
            this.setImageLayout(imageLayoutStyle);
        }
    };
    GroupViewerComponent.prototype.setImageLayout = function (imageLayoutStyle) {
        if (this.childImages) {
            this.childImages.forEach(function (child) { return child.setHeight(0); });
        }
        this.hangingProtocolService.applyImageHangingProtocol(this.groupData, imageLayoutStyle);
        this.imageDataList = this.groupData.imageDataList;
        this.pageIndex = 0;
        this.pageCount = this.groupData.getPageCount();
        this.onResize();
    };
    GroupViewerComponent.prototype.getId = function () {
        return "DivLayoutViewer" + this.groupData.getId();
    };
    GroupViewerComponent.prototype.onResize = function () {
        if (!this.childImages)
            return;
        this.logService.debug("Group: onResize()");
        this.childImages.forEach(function (imageViewer, index) {
            imageViewer.onResize();
        });
    };
    GroupViewerComponent.prototype.getImageData = function (rowIndex, colIndex) {
        return this.groupData.getImage(this.pageIndex, rowIndex, colIndex);
    };
    GroupViewerComponent.prototype.setHeight = function (height) {
        var o = document.getElementById(this.getId());
        if (o !== undefined && o !== null) {
            if (this.childImages) {
                this.childImages.forEach(function (child) { return child.setHeight(0); });
            }
            o.style.height = height.toString() + "px";
        }
    };
    GroupViewerComponent.prototype.saveSelectedImage = function () {
        this.childImages.forEach(function (imageViewer) {
            if (imageViewer.selected) {
                imageViewer.saveImage();
            }
        });
    };
    GroupViewerComponent.prototype.doNavigate = function (up) {
        if (!this.selected) {
            return;
        }
        if (up) {
            if (this.pageIndex > 0) {
                this.pageIndex--;
            }
        }
        else {
            if (this.pageIndex < this.pageCount - 1) {
                this.pageIndex++;
            }
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChildren"])(_image_viewer_image_viewer_component__WEBPACK_IMPORTED_MODULE_5__["ImageViewerComponent"]),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["QueryList"])
    ], GroupViewerComponent.prototype, "childImages", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_4__["ViewerGroupData"]),
        __metadata("design:paramtypes", [_models_viewer_group_data__WEBPACK_IMPORTED_MODULE_4__["ViewerGroupData"]])
    ], GroupViewerComponent.prototype, "groupData", null);
    GroupViewerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-group-viewer",
            template: __webpack_require__(/*! ./group-viewer.component.html */ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.html"),
            styles: [__webpack_require__(/*! ./group-viewer.component.css */ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.css")]
        }),
        __metadata("design:paramtypes", [_services_image_selector_service__WEBPACK_IMPORTED_MODULE_1__["ImageSelectorService"],
            _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__["HangingProtocolService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_6__["LogService"]])
    ], GroupViewerComponent);
    return GroupViewerComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.css":
/*!**********************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.css ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".DivImageViewer {\r\n    align-items: right;\r\n    background-color: #000000;\r\n    /*border-top: solid 2px #FFFFFF;\r\n  border-bottom: solid 2px #FFFFFF;\r\n  border-left: solid 2px #FFFFFF;\r\n  border-right: solid 2px #FFFFFF;*/\r\n    border: 1px solid #555555;\r\n    color: #F5F5F5;\r\n    display: flex;\r\n    flex: 1;\r\n    height: 100%;\r\n    justify-content: normal;\r\n    overflow: hidden;\r\n    width: 100%;\r\n}\r\n\r\n.DivImageViewer .viewerCanvas {\r\n    -khtml-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    -o-user-select: none;\r\n    -webkit-touch-callout: none;\r\n    -webkit-user-select: none;\r\n\r\n    background-color: black;\r\n    flex: 1;\r\n    height: auto;\r\n    max-height: 100%;\r\n    max-width: 100%;\r\n    user-select: none;\r\n    width: auto;\r\n}\r\n\r\n.helpElement {\r\n    overflow: hidden;\r\n    position: absolute;\r\n    visibility: hidden;\r\n    z-index: -10000000;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvZ3JvdXAtdmlld2VyL2ltYWdlLXZpZXdlci9pbWFnZS12aWV3ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekI7OzttQ0FHK0I7SUFDL0IseUJBQXlCO0lBQ3pCLGNBQWM7SUFDZCxhQUFhO0lBQ2IsT0FBTztJQUNQLFlBQVk7SUFDWix1QkFBdUI7SUFDdkIsZ0JBQWdCO0lBQ2hCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHdCQUF3QjtJQUN4QixzQkFBc0I7SUFDdEIscUJBQXFCO0lBQ3JCLG9CQUFvQjtJQUNwQiwyQkFBMkI7SUFDM0IseUJBQXlCOztJQUV6Qix1QkFBdUI7SUFDdkIsT0FBTztJQUNQLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3ZpZXdlci1zaGVsbC9ncm91cC12aWV3ZXIvaW1hZ2Utdmlld2VyL2ltYWdlLXZpZXdlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLkRpdkltYWdlVmlld2VyIHtcclxuICAgIGFsaWduLWl0ZW1zOiByaWdodDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgICAvKmJvcmRlci10b3A6IHNvbGlkIDJweCAjRkZGRkZGO1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCAjRkZGRkZGO1xyXG4gIGJvcmRlci1sZWZ0OiBzb2xpZCAycHggI0ZGRkZGRjtcclxuICBib3JkZXItcmlnaHQ6IHNvbGlkIDJweCAjRkZGRkZGOyovXHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNTU1NTU1O1xyXG4gICAgY29sb3I6ICNGNUY1RjU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleDogMTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogbm9ybWFsO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uRGl2SW1hZ2VWaWV3ZXIgLnZpZXdlckNhbnZhcyB7XHJcbiAgICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XHJcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG5cclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgZmxleDogMTtcclxuICAgIGhlaWdodDogYXV0bztcclxuICAgIG1heC1oZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG59XHJcblxyXG4uaGVscEVsZW1lbnQge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgIHotaW5kZXg6IC0xMDAwMDAwMDtcclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.html":
/*!***********************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.html ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"DivImageViewer\" [id]=\"getId()\" (click)=\"onSelected()\" [style.border]=\"getBorderStyle()\">\r\n    <!--<div *ngIf=\"worklistService.isUsingLocalTestData() && imageData!== null && imageData.image !== null\" style=\"width: 500px\">\r\n        <p>\r\n            **************************************\r\n            Name : {{imageData.image.series.study.patient.patientName}} | \r\n            AccNo : {{imageData.image.series.study.accessionNo}} | \r\n            Modality : {{imageData.image.series.modality}} | \r\n            ImageID : {{imageData.image.id}}\r\n        </p>\r\n    </div>-->\r\n    <canvas [id]=\"getCanvasId()\" #viewerCanvas class=\"viewerCanvas\" (keyup)=\"onKeyUp($event)\" (keydown)=\"onKeyDown($event)\" tabindex=\"0\"></canvas>\r\n</div>\r\n\r\n<div #helpElement class=\"helpElement\"></div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: ImageViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageViewerComponent", function() { return ImageViewerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../services/dicom-image.service */ "./src/app/services/dicom-image.service.ts");
/* harmony import */ var _services_annotation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../services/annotation.service */ "./src/app/services/annotation.service.ts");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../services/view-context.service */ "./src/app/services/view-context.service.ts");
/* harmony import */ var _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../models/viewer-image-data */ "./src/app/models/viewer-image-data.ts");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../services/log.service */ "./src/app/services/log.service.ts");
/* harmony import */ var _models_dailog_data_image_process__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../models/dailog-data/image-process */ "./src/app/models/dailog-data/image-process.ts");
/* harmony import */ var _dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../dialog/manual-wl-dialog/manual-wl-dialog.component */ "./src/app/components/dialog/manual-wl-dialog/manual-wl-dialog.component.ts");
/* harmony import */ var _dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../dialog/select-marker-dialog/select-marker-dialog.component */ "./src/app/components/dialog/select-marker-dialog/select-marker-dialog.component.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../models/messageBox */ "./src/app/models/messageBox.ts");
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../annotation/ann-tool */ "./src/app/annotation/ann-tool.ts");
/* harmony import */ var _annotation_extend_object_ann_text__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../annotation/extend-object/ann-text */ "./src/app/annotation/extend-object/ann-text.ts");
/* harmony import */ var _annotation_layer_object_ann_guide__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../annotation/layer-object/ann-guide */ "./src/app/annotation/layer-object/ann-guide.ts");
/* harmony import */ var _annotation_layer_object_ann_image_ruler__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../annotation/layer-object/ann-image-ruler */ "./src/app/annotation/layer-object/ann-image-ruler.ts");
/* harmony import */ var _annotation_extend_object_ann_image__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../annotation/extend-object/ann-image */ "./src/app/annotation/extend-object/ann-image.ts");
/* harmony import */ var _annotation_ann_serialize__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../annotation/ann-serialize */ "./src/app/annotation/ann-serialize.ts");
/* harmony import */ var _annotation_layer_object_ann_graphic_overlay__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../annotation/layer-object/ann-graphic-overlay */ "./src/app/annotation/layer-object/ann-graphic-overlay.ts");
/* harmony import */ var _annotation_layer_object_ann_text_overlay__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../annotation/layer-object/ann-text-overlay */ "./src/app/annotation/layer-object/ann-text-overlay.ts");
/* harmony import */ var _annotation_layer_object_ann_magnify__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../annotation/layer-object/ann-magnify */ "./src/app/annotation/layer-object/ann-magnify.ts");
/* harmony import */ var _annotation_base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../annotation/base-object/ann-base-rectangle */ "./src/app/annotation/base-object/ann-base-rectangle.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


























var ImageViewerComponent = /** @class */ (function () {
    function ImageViewerComponent(imageSelectorService, dicomImageService, configurationService, viewContext, worklistService, dialogService, logService, ngZone, annotationService) {
        var _this = this;
        this.imageSelectorService = imageSelectorService;
        this.dicomImageService = dicomImageService;
        this.configurationService = configurationService;
        this.viewContext = viewContext;
        this.worklistService = worklistService;
        this.dialogService = dialogService;
        this.logService = logService;
        this.ngZone = ngZone;
        this.annotationService = annotationService;
        this.needResize = false;
        this.selected = false;
        this.dragging = false;
        this.mouseEventHelper = {};
        this.eventHandlers = {};
        this.ctrlKeyPressed = false;
        this.annObjList = [];
        this.subscriptionImageSelection = imageSelectorService.imageSelected$.subscribe(function (viewerImageData) {
            _this.doSelectImage(viewerImageData);
        });
        this.subscriptionThumbnailSelection = imageSelectorService.thumbnailSelected$.subscribe(function (image) {
            _this.doSelectImageByThumbnail(image);
        });
        this.subscriptionViewContextChange = viewContext.viewContextChanged$.subscribe(function (context) {
            if (!(_this._imageData.groupData.viewerShellData.hide) && _this.selected) {
                _this.setContext(context);
            }
        });
        this.subscriptionOperation = viewContext.onOperation$.subscribe(function (operation) {
            _this.onOperation(operation);
        });
        this.logService.debug("Image: a new ImageViewerComponent is created!");
    }
    Object.defineProperty(ImageViewerComponent.prototype, "imageData", {
        get: function () {
            return this._imageData;
        },
        set: function (imageData) {
            this.logPrefix = "Image" + imageData.getId() + ": ";
            var log = this.logPrefix + "set imageData, image " + (imageData.image === null ? "is null" : "id is " + imageData.image.id);
            this.logService.debug(log);
            if (this._imageData !== imageData) {
                // We will start to show a new image in this viewer, need to delete all artifacts already drawn for the old image
                this.deleteAll();
                this.disableCornerstone();
                // Save new image data
                this._imageData = imageData;
                this.image = this._imageData.image;
                // If the view is NOT inited, will load image after view inited ( in ngAfterViewInit )
                // If the view is already inited, which means this component is created before, load image here
                if (this.isViewInited) {
                    this.loadImage();
                }
            }
        },
        enumerable: true,
        configurable: true
    });
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Angular lifecycle functions
    ImageViewerComponent.prototype.ngOnInit = function () {
        this.logService.debug(this.logPrefix + "ngOnInit");
        this.baseUrl = this.configurationService.getBaseUrl();
    };
    ImageViewerComponent.prototype.ngAfterContentInit = function () {
        this.logService.debug(this.logPrefix + "ngAfterContentInit");
    };
    ImageViewerComponent.prototype.ngAfterViewInit = function () {
        this.logService.debug(this.logPrefix + "ngAfterViewInit");
        this.canvas = this.canvasRef.nativeElement;
        this.helpElement = this.helpElementRef.nativeElement;
        this.startJCanvas();
        this.createLayers();
        this.registerCornerstoneEvent();
        this.registerCanvasEvents();
        this.registerImgLayerEvents();
        if (this.image) {
            this.showWaitingText();
        }
        this.loadImage();
        this.annGuide = new _annotation_layer_object_ann_guide__WEBPACK_IMPORTED_MODULE_18__["AnnGuide"](this);
        this.annImageRuler = new _annotation_layer_object_ann_image_ruler__WEBPACK_IMPORTED_MODULE_19__["AnnImageRuler"](this);
        this.isViewInited = true;
    };
    ImageViewerComponent.prototype.ngAfterViewChecked = function () {
        if (this.needResize && this.isImageLoaded) {
            this.restartJCanvas();
            this.logService.debug(this.logPrefix + 'ngAfterViewChecked() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
            if (this.image) {
                this.fitWindow();
                if (this.olLayer) {
                    this.showTextOverlay();
                }
                if (this.imgRulerLayer) {
                    this.annImageRuler.reDraw(this);
                }
            }
            else {
                this.deleteAll();
            }
            this.needResize = false;
        }
    };
    ImageViewerComponent.prototype.ngOnDestroy = function () {
        this.deleteAll();
        if (this.jcanvas) {
            this.jcanvas.del();
        }
        this.disableCornerstone();
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Functions for loading/unloading image
    ImageViewerComponent.prototype.enableCornerstone = function () {
        var _this = this;
        if (this.cornerstoneEnabled) {
            alert("Internal error in enableCornerstone() - Cornerstone was already enabled!");
            return;
        }
        if (!this.helpElement) {
            alert("Internal error in enableCornerstone() - Help element NOT assigned!");
            return;
        }
        if (!this.image || !this.image.cornerStoneImage) {
            alert("Internal error in enableCornerstone() - Image or Image.cornerstoneImage is NULL!");
            return;
        }
        this.ngZone.runOutsideAngular(function () {
            $(_this.helpElement).width(_this.image.imageColumns).height(_this.image.imageRows);
            cornerstone.enable(_this.helpElement);
        });
        this.cornerstoneEnabled = true;
    };
    ImageViewerComponent.prototype.disableCornerstone = function () {
        var _this = this;
        if (this.image && this.image.cornerStoneImage && this.cornerstoneEnabled) {
            if (!this.helpElement) {
                alert("Internal error in disableCornerstone() - Help element NOT assigned!");
                return;
            }
            this.ngZone.runOutsideAngular(function () {
                cornerstone.disable(_this.helpElement);
            });
            this.cornerstoneEnabled = false;
        }
    };
    ImageViewerComponent.prototype.startJCanvas = function () {
        var canvasId = this.getCanvasId();
        jCanvaScript.start(canvasId, true);
        this.jcanvas = jCanvaScript.canvas(canvasId);
        var parent = this.canvas.parentElement;
        this.canvas.width = parent.clientWidth;
        this.canvas.height = parent.clientHeight;
        this.jcanvas.width(this.canvas.width);
        this.jcanvas.height(this.canvas.height);
    };
    ImageViewerComponent.prototype.restartJCanvas = function () {
        var parent = this.canvas.parentElement.parentElement;
        this.canvas.width = parent.clientWidth;
        this.canvas.height = parent.clientHeight;
        this.jcanvas.width(this.canvas.width);
        this.jcanvas.height(this.canvas.height);
        this.jcanvas.restart();
    };
    ImageViewerComponent.prototype.loadImage = function () {
        //// Make sure this function is called after view is inited.
        //if (!this.isViewInited) {
        //    alert("Internal error : Must load image after view is inited");
        //    return;
        //}
        var _this = this;
        // The image is null, which means to clear the image viewer
        if (!this.image) {
            this.redraw(1);
            return;
        }
        if (this.image.cornerStoneImage) {
            // The image is already downloaded, show the image
            this.showImage();
        }
        else {
            // The image is NOT downloaded, get the image from server and show it after download
            this.dicomImageService.getCornerStoneImage(this.image).then(function (ctImage) { return _this.onImageDownloaded(ctImage); });
        }
    };
    // Call back functions when image is loaded by CornerStone
    ImageViewerComponent.prototype.onImageDownloaded = function (ctImage) {
        this.logService.info(this.logPrefix + "Image is downloaded from server. Start to show it by cornerstone.");
        this.image.setCornerStoneImage(ctImage);
        this.image.graphicOverlayDataList = this.dicomImageService.getGraphicOverlayList(this.image);
        this.showImage();
    };
    // Show image when image is loaded
    ImageViewerComponent.prototype.showImage = function () {
        if (this.image.cornerStoneImage) {
            this.enableCornerstone();
            this.restartJCanvas();
            this.logService.debug(this.logPrefix + 'showImage() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
            this.isImageLoaded = false;
            cornerstone.displayImage(this.helpElement, this.image.cornerStoneImage);
            this.logService.debug(this.logPrefix + 'image is loaded, displaying it...');
        }
        else {
            this.logService.debug(this.logPrefix + 'local test data, no image to show.');
        }
        var id = this.getId();
        var index = id.substr(id.length - 4, 4);
        if (index === "0000" || this.selected) {
            this.onSelected();
        }
    };
    ImageViewerComponent.prototype.onImageRendered = function (e, data) {
        this.logService.debug(this.logPrefix + 'onImageRendered() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
        this.redraw(1);
    };
    ImageViewerComponent.prototype.onImageLoaded = function (e, data) {
        this.logService.debug(this.logPrefix + 'onImageLoaded() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
        var ctCanvas = cornerstone.getEnabledElement(this.helpElement).canvas;
        this.jcImage = jCanvaScript.image(ctCanvas).layer(this.imgLayerId);
        this.toggleGraphicOverlay(true);
        //fit window
        this.fitWindow();
        // Save the original window center/width for later reset.
        this.originalWindowCenter = this.image.cornerStoneImage.windowCenter;
        this.originalWindowWidth = this.image.cornerStoneImage.windowWidth;
        this.hideWaitingText();
        this.showTextOverlay();
        this.updateImageTransform();
        this.syncAnnLabelLayerTransform();
        this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].SelectAnn);
        this.annSerialize = new _annotation_ann_serialize__WEBPACK_IMPORTED_MODULE_21__["AnnSerialize"](this.image.annData, this);
        this.deleteAllAnnotation();
        if (!this.annSerialize.createAnn()) {
            this.setContext(this.viewContext.curContext);
        }
        this.redraw(2);
    };
    ImageViewerComponent.prototype.adjustHeight = function () {
        var parent = this.canvas.parentElement.parentElement;
        this.setHeight(parent.clientHeight);
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Implementation of interface IImageViewer
    ImageViewerComponent.prototype.isCtrlKeyPressed = function () {
        return this.ctrlKeyPressed;
    };
    ImageViewerComponent.prototype.getImageLayerId = function () {
        return this.imgLayerId;
    };
    ImageViewerComponent.prototype.getAnnotationLayerId = function () {
        return this.annLayerId;
    };
    ImageViewerComponent.prototype.getAnnLabelLayerId = function () {
        return this.annLabelLayerId;
    };
    ImageViewerComponent.prototype.getAnnGuideLayerId = function () {
        return this.tooltipLayerId;
    };
    ImageViewerComponent.prototype.getAnnImageRulerLayerId = function () {
        return this.imgRulerLayerId;
    };
    ImageViewerComponent.prototype.getTextOverlayLayerId = function () {
        return this.olLayerId;
    };
    ImageViewerComponent.prototype.getImageLayer = function () {
        return this.imgLayer;
    };
    ImageViewerComponent.prototype.getMgLayer = function () {
        return this.mgLayer;
    };
    ImageViewerComponent.prototype.getAnnLabelLayer = function () {
        return this.annLabelLayer;
    };
    ImageViewerComponent.prototype.getAnnGuideLayer = function () {
        return this.tooltipLayer;
    };
    ImageViewerComponent.prototype.getImage = function () {
        return this.image;
    };
    ImageViewerComponent.prototype.getCanvas = function () {
        return this.canvas;
    };
    ImageViewerComponent.prototype.getCtCanvas = function () {
        return cornerstone.getEnabledElement(this.helpElement).canvas;
    };
    ImageViewerComponent.prototype.getContext = function () {
        return this.viewContext.curContext;
    };
    ImageViewerComponent.prototype.getBaseUrl = function () {
        return this.baseUrl;
    };
    ImageViewerComponent.prototype.getTextFont = function () {
        return this.configurationService.getTextOverlayFont();
    };
    ImageViewerComponent.prototype.selectAnnotation = function (annObj) {
        if (annObj) {
            if (this.curSelectObj !== annObj) {
                if (this.curSelectObj) {
                    this.curSelectObj.onSelect(false, false);
                }
                this.curSelectObj = annObj;
                if (!this.curSelectObj.isSelected()) {
                    this.curSelectObj.onSelect(true, true);
                }
            }
        }
        else {
            if (this.curSelectObj) {
                if (!this.curSelectObj.isCreated()) {
                    this.deleteAnnotation(this.curSelectObj);
                }
                else {
                    this.curSelectObj.onSelect(false, false);
                }
            }
            this.curSelectObj = undefined;
        }
        var stepIndex = (this.curSelectObj && this.curSelectObj.isGuideNeeded()) ? this.curSelectObj.getFocusedObj().getStepIndex() : -1;
        if (stepIndex !== -1) {
            this.annGuide.setGuideTargetObj(this.curSelectObj);
            this.annGuide.show(this.curSelectObj.getTypeName(), stepIndex);
        }
        else {
            this.annGuide.hide();
        }
    };
    ImageViewerComponent.prototype.selectNextAnnotation = function (backward) {
        var len = this.annObjList.length;
        if (len === 0)
            return;
        if (!this.curSelectObj) {
            this.selectAnnotation(this.annObjList[0]);
            return;
        }
        var i = 0;
        for (; i < len; i++) {
            if (this.curSelectObj === this.annObjList[i])
                break;
        }
        var nextIndex = i;
        if (backward) {
            nextIndex = (i === 0) ? len - 1 : i - 1;
        }
        else {
            nextIndex = (i === len - 1) ? 0 : i + 1;
        }
        this.selectAnnotation(this.annObjList[nextIndex]);
    };
    ImageViewerComponent.prototype.onAnnotationCreated = function (annObj) {
        if (!annObj.isCreated()) {
            alert("Internal error in onAnnotationCreated()");
            return;
        }
        this.annObjList.push(annObj);
        if (!annObj.isLoadedFromTag()) {
            this.curSelectObj = annObj;
            this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].SelectAnn);
        }
    };
    ImageViewerComponent.prototype.stepGuide = function () {
        this.annGuide.step();
    };
    ImageViewerComponent.prototype.getCurrentStepIndex = function () {
        return this.annGuide.getStepIndex();
    };
    ImageViewerComponent.prototype.cancelCreate = function (needRecreate) {
        this.deleteAnnotation(this.curSelectObj);
        this.curSelectObj = undefined;
        this.annGuide.stepTo(0);
        if (!needRecreate) {
            this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].SelectAnn);
        }
    };
    ImageViewerComponent.prototype.selectChildByStepIndex = function (stepIndex) {
        if (this.curSelectObj) {
            this.curSelectObj.selectChildByStepIndex(stepIndex);
        }
    };
    ImageViewerComponent.prototype.getCursor = function () {
        this.logService.debug("Get cursor return " + this.canvas.style.cursor);
        return this.canvas.style.cursor;
    };
    ImageViewerComponent.prototype.setCursor = function (cursor) {
        if (!cursor) {
            cursor = this.getCursorFromContext();
        }
        this.logService.debug("Set cursor to " + cursor);
        this.canvas.style.cursor = cursor;
    };
    ImageViewerComponent.prototype.isDragging = function () {
        return this.dragging;
    };
    ImageViewerComponent.prototype.refresh = function () {
        this.redraw(1);
    };
    ImageViewerComponent.prototype.getAnnotationService = function () {
        return this.annotationService;
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////'
    ImageViewerComponent.prototype.onKeyUp = function (event) {
        var needRedraw = true;
        if (event.code === "Delete") {
            this.deleteSelectedAnnotation();
        }
        else if (event.code === "KeyA") {
            this.selectNextAnnotation(event.shiftKey);
        }
        else if (event.code === "KeyF") {
            if (this.curSelectObj) {
                this.curSelectObj.onSwitchFocus();
            }
        }
        else if (event.code === "ArrowUp" || event.code === "ArrowDown" || event.code === "ArrowLeft" || event.code === "ArrowRight") {
            if (this.curSelectObj) {
                this.curSelectObj.onKeyDown(event);
            }
            else {
                needRedraw = false;
            }
        }
        else if (event.code === "ControlLeft" || event.code === "ControlRight") {
            this.ctrlKeyPressed = false;
            needRedraw = false;
        }
        if (needRedraw) {
            this.redraw(1);
        }
    };
    ImageViewerComponent.prototype.onKeyDown = function (event) {
        if (event.code === "ControlLeft" || event.code === "ControlRight") {
            this.ctrlKeyPressed = true;
        }
    };
    ImageViewerComponent.prototype.getId = function () {
        //TODO: make sure the viewid is unique, even two viewer opened the same image
        return "DivImageViewer" + this.imageData.getId();
    };
    ImageViewerComponent.prototype.getCanvasId = function () {
        //TODO: make sure the canvas is unique, even two viewer opened the same image
        return "viewerCanvas_" + this.imageData.getId();
    };
    ImageViewerComponent.prototype.showWaitingText = function () {
        this.olLayer.visible(true);
        var font = this.configurationService.getTextOverlayFont();
        this.waitingLabel = jCanvaScript.text("Loading.....", this.canvas.width / 2, this.canvas.height / 2).layer(this.olLayerId)
            .color(font.color).font(font.getCanvasFontString()).align("center");
        this.redraw(1);
    };
    ImageViewerComponent.prototype.hideWaitingText = function () {
        if (this.waitingLabel) {
            this.waitingLabel.del();
            this.waitingLabel = null;
        }
    };
    ImageViewerComponent.prototype.showTextOverlay = function () {
        this.olLayer.visible(true);
        if (!this.annTextOverlay) {
            this.annTextOverlay = new _annotation_layer_object_ann_text_overlay__WEBPACK_IMPORTED_MODULE_23__["AnnTextOverlay"](this, this.dicomImageService);
        }
        this.annTextOverlay.redraw();
        this.redraw(1);
    };
    ImageViewerComponent.prototype.createLayers = function () {
        var _this = this;
        //create layers
        var canvasId = this.getCanvasId();
        this.imgLayerId = canvasId + "_imgLayer";
        this.imgLayer = jCanvaScript.layer(this.imgLayerId).level(0); //layer to hold the image
        this.imgLayer.id = this.imgLayerId;
        this.imgLayer.needRedraw = true;
        this.annLayerId = canvasId + "_annLayer";
        this.annLayer = jCanvaScript.layer(this.annLayerId).level(1); //layer to draw annotations
        this.annLayer.onBeforeDraw = function () { return _this.onBeforeDrawAnnLayer(); };
        this.annLayer.id = this.annLayerId;
        this.annLayer.needRedraw = true;
        this.annLabelLayerId = canvasId + "_annLabelLayer";
        this.annLabelLayer = jCanvaScript.layer(this.annLabelLayerId).level(2); //layer to draw annotations label.
        this.annLabelLayer.id = this.annLabelLayerId;
        this.annLabelLayer.needRedraw = true;
        this.mgLayerId = canvasId + "_mgLayer";
        this.mgLayer = jCanvaScript.layer(this.mgLayerId).level(4); //layer to show magnified image
        this.mgLayer.visible(false);
        this.mgLayer.id = this.mgLayerId;
        this.mgLayer.needRedraw = true;
        this.olLayerId = canvasId + "_overlayLayer";
        this.olLayer = jCanvaScript.layer(this.olLayerId).level(10); //layer to show overlay
        this.olLayer.id = this.olLayerId;
        this.olLayer.needRedraw = true;
        this.imgRulerLayerId = canvasId + "_imgRulerLayer"; // layer to show ruler
        this.imgRulerLayer = jCanvaScript.layer(this.imgRulerLayerId).level(9);
        this.imgRulerLayer.id = this.imgRulerLayerId;
        this.imgRulerLayer.needRedraw = true;
        this.tooltipLayerId = canvasId + "_tooltipLayer"; // layer to show tooltip dialog
        this.tooltipLayer = jCanvaScript.layer(this.tooltipLayerId).draggable(true).level(20);
        this.tooltipLayer.id = this.tooltipLayerId;
        this.tooltipLayer.needRedraw = true;
    };
    ImageViewerComponent.prototype.onBeforeDrawAnnLayer = function () {
        if (!this.isImageLoaded)
            return;
        //apply transform
        this.annLayer.transform(1, 0, 0, 1, 0, 0, true);
        this.annLayer.optns.scaleMatrix = this.imgLayer.optns.scaleMatrix;
        this.annLayer.optns.rotateMatrix = this.imgLayer.optns.rotateMatrix;
        this.annLayer.optns.translateMatrix = this.imgLayer.optns.translateMatrix;
        this.annLayer.scale(1);
        this.syncAnnLabelLayerTransform();
    };
    ImageViewerComponent.prototype.syncAnnLabelLayerTransform = function () {
        this.annLabelLayer.transform(1, 0, 0, 1, 0, 0, true);
        this.annLabelLayer.optns.scaleMatrix = this.imgLayer.optns.scaleMatrix;
        this.annLabelLayer.optns.translateMatrix = this.imgLayer.optns.translateMatrix;
        this.annLabelLayer.scale(1);
    };
    ImageViewerComponent.prototype.onSelected = function () {
        this.imageSelectorService.selectImage(this.imageData);
        this.canvas.focus();
    };
    ImageViewerComponent.prototype.getBorderStyle = function () {
        return this.selected ? "1px solid #F90" : "1px solid #555555";
    };
    ImageViewerComponent.prototype.doSelectImage = function (viewerImageData) {
        this.selected = (this._imageData === viewerImageData);
    };
    ImageViewerComponent.prototype.doSelectImageByThumbnail = function (image) {
        this.selected = (this.image === image);
    };
    ImageViewerComponent.prototype.setHeight = function (height) {
        var o = document.getElementById(this.getId());
        if (o !== undefined && o !== null) {
            o.style.height = height.toString() + "px";
        }
    };
    ImageViewerComponent.prototype.setContext = function (context) {
        if (!this.isImageLoaded) {
            return;
        }
        var draggable = context.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Pan;
        this.draggable(draggable);
        //each time context changed, we should unselect cur selected object
        this.selectAnnotation(undefined);
        this.annGuide.hide();
        this.setCursorFromContext();
    };
    ImageViewerComponent.prototype.onOperation = function (operation) {
        if (!this.isImageLoaded)
            return;
        if (!this.selected)
            return;
        switch (operation.type) {
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].Rotate: {
                this.rotate(operation.data.angle);
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].Flip: {
                this.flip(operation.data);
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].Invert: {
                this.invert();
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].FitWidth:
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].FitHeight:
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].FitOriginal:
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].FitWindow: {
                this.doFit(operation.type);
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].ShowOverlay: {
                this.olLayer.visible(operation.data.show);
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].ShowRuler: {
                this.imgRulerLayer.visible(operation.data.show);
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].ShowAnnotation: {
                this.annLayer.visible(operation.data.show);
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].ShowGraphicOverlay: {
                this.toggleGraphicOverlay(operation.data.show);
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].ManualWL: {
                this.doManualWl();
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].ToggleKeyImage: {
                if (this.image.keyImage === 'Y') {
                    this.image.keyImage = 'N';
                    this.setKeyImage(false);
                }
                else {
                    this.image.keyImage = 'Y';
                    this.setKeyImage(true);
                }
                break;
            }
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].Reset: {
                this.doReset();
                break;
            }
        }
        this.redraw(1);
    };
    ImageViewerComponent.prototype.getCursorFromContext = function () {
        var curContext = this.viewContext.curContext;
        var cursorUrl = "url(" + this.baseUrl + "/assets/img/cursor/{0}.cur),move";
        var cursor = "default";
        switch (curContext.action) {
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].WL:
                cursor = cursorUrl.format("adjustwl");
                break;
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Pan:
                cursor = cursorUrl.format("hand");
                break;
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Zoom:
                cursor = cursorUrl.format("zoom");
                break;
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Magnify:
                cursor = cursorUrl.format("magnify");
                break;
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiZoom:
                cursor = cursorUrl.format("rectzoom");
                break;
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiWl:
                cursor = cursorUrl.format("rectwl");
                break;
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].SelectAnn:
                cursor = cursorUrl.format("select");
                break;
            case _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn:
                var cursorName = this.annotationService.getCursorNameByType(curContext.data);
                cursor = cursorUrl.format(cursorName);
                break;
        }
        return cursor;
    };
    ImageViewerComponent.prototype.setCursorFromContext = function () {
        var cursor = this.getCursorFromContext();
        this.setCursor(cursor);
        var curContext = this.viewContext.curContext;
        if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) {
            var annDefData = this.annotationService.getAnnDefDataByType(curContext.data);
            if (!annDefData)
                return;
            if (annDefData.needGuide) {
                this.annGuide.show(annDefData.className);
                this.redraw(1);
            }
            else if (annDefData.cursorName === "ann_stamp") {
                this.selectMarker();
            }
        }
    };
    ImageViewerComponent.prototype.rotate = function (angle) {
        if (angle == 0) //rotate 0 will cause the transform messed
            return;
        this.imgLayer.rotate(angle, "center");
        this.updateImageTransform();
        this.annObjList.forEach(function (obj) { return obj.onRotate(angle); });
    };
    ImageViewerComponent.prototype.flip = function (flipVertical) {
        var viewPort = cornerstone.getViewport(this.helpElement);
        var rotateAngle = this.getRotate();
        if (Math.abs(rotateAngle % 180) === 90) {
            flipVertical = !flipVertical;
        }
        if (flipVertical) {
            viewPort.vflip = !viewPort.vflip;
        }
        else {
            viewPort.hflip = !viewPort.hflip;
        }
        cornerstone.setViewport(this.helpElement, viewPort);
        this.annObjList.forEach(function (annObj) { return annObj.onFlip(flipVertical); });
        if (this.annGraphicOverlay) {
            this.annGraphicOverlay.onFlip(flipVertical);
        }
    };
    ImageViewerComponent.prototype.invert = function () {
        var viewPort = cornerstone.getViewport(this.helpElement);
        viewPort.invert = !viewPort.invert;
        cornerstone.setViewport(this.helpElement, viewPort);
    };
    ImageViewerComponent.prototype.scale = function (value) {
        if (value > 0) {
            this.imgLayer.scale(value);
            this.updateImageTransform();
        }
    };
    ImageViewerComponent.prototype.translate = function (x, y) {
        this.imgLayer.translate(x, y);
        this.updateImageTransform();
    };
    ImageViewerComponent.prototype.getScale = function () {
        if (this.image)
            return this.image.getScaleValue();
        return 1;
    };
    ImageViewerComponent.prototype.getRotate = function () {
        if (this.image)
            return this.image.getRotateAngle();
        return 0;
    };
    ImageViewerComponent.prototype.updateImageTransform = function () {
        if (this.image) {
            this.image.transformMatrix = this.imgLayer.transform();
        }
    };
    ImageViewerComponent.prototype.onResize = function () {
        var _this = this;
        this.logService.debug("Image: onResize()");
        setTimeout(function () {
            _this.needResize = true;
        }, 1);
    };
    ImageViewerComponent.prototype.fitWindow = function () {
        if (!this.isImageLoaded)
            return;
        var curRotate = 0 - this.getRotate(); //get rotate return the minus value
        var width = this.image.width();
        var height = this.image.height();
        var parent = this.canvas.parentElement.parentElement;
        this.canvas.width = parent.clientWidth;
        this.canvas.height = parent.clientHeight;
        var canvasWidth = this.canvas.width;
        var canvasHeight = this.canvas.height;
        var widthScale = canvasWidth / width;
        var heightScale = canvasHeight / height;
        this.logService.debug(this.logPrefix + 'fitWindow() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
        //log('bestfit, canvas width:' + canvasWidth + ",height:" + canvasHeight);
        //this.trueSize();//each time bestfit, need to reset the transform, then apply the scale value.
        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);
        if (widthScale < heightScale) {
            this.scale(widthScale);
            this.translate(0, (canvasHeight - height * widthScale) / 2);
        }
        else {
            this.scale(heightScale);
            this.translate((canvasWidth - width * heightScale) / 2, 0);
        }
        this.rotate(curRotate);
        this.refreshUi();
    };
    ImageViewerComponent.prototype.doReset = function () {
        if (!this.isImageLoaded)
            return;
        var width = this.image.width();
        var height = this.image.height();
        var canvasWidth = this.canvas.width;
        var canvasHeight = this.canvas.height;
        var widthScale = canvasWidth / width;
        var heightScale = canvasHeight / height;
        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);
        if (widthScale < heightScale) {
            this.scale(widthScale);
            this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);
        }
        else {
            this.scale(heightScale);
            this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);
        }
        // Reset W/L
        this.image.cornerStoneImage.windowWidth = this.originalWindowWidth;
        this.image.cornerStoneImage.windowCenter = this.originalWindowCenter;
        var viewPort = cornerstone.getViewport(this.helpElement);
        viewPort.voi.windowCenter = this.originalWindowCenter;
        viewPort.voi.windowWidth = this.originalWindowWidth;
        // Reset Flip status
        viewPort.vflip = false;
        viewPort.hflip = false;
        cornerstone.setViewport(this.helpElement, viewPort);
        this.updateWlTextOverlay(this.originalWindowWidth, this.originalWindowCenter);
        this.updateZoomRatioTextOverlay(this.getScale());
        this.deleteAllAnnotation();
        this.curSelectObj = undefined;
        if (this.annGraphicOverlay) {
            this.annGraphicOverlay.onReset();
        }
        this.refreshUi();
    };
    ImageViewerComponent.prototype.doFit = function (fitType) {
        if (!this.isImageLoaded)
            return;
        var width = this.image.width();
        var height = this.image.height();
        var canvasWidth = this.canvas.width;
        var canvasHeight = this.canvas.height;
        var widthScale = canvasWidth / width;
        var heightScale = canvasHeight / height;
        this.logService.debug(this.logPrefix + 'doFit() - canvas width: ' + this.canvas.width + ', canvas height: ' + this.canvas.height);
        var curRotate = 0 - this.getRotate(); //get rotate return the minus value
        // Sail : currently ignore the free rotate, since free rotate will change both width and height,
        // rotate 90 only switch width and height
        if (Math.abs(curRotate % 180) === 90) {
            widthScale = canvasWidth / height;
            heightScale = canvasHeight / width;
        }
        this.imgLayer.transform(1, 0, 0, 1, 0, 0, true);
        if (fitType === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].FitWindow) {
            if (widthScale < heightScale) {
                this.scale(widthScale);
                this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);
            }
            else {
                this.scale(heightScale);
                this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);
            }
        }
        else if (fitType === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].FitHeight) {
            this.scale(heightScale);
            this.translate((canvasWidth - width * heightScale) / 2, (canvasHeight - height * heightScale) / 2);
        }
        else if (fitType === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].FitWidth) {
            this.scale(widthScale);
            this.translate((canvasWidth - width * widthScale) / 2, (canvasHeight - height * widthScale) / 2);
        }
        else if (fitType === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["OperationEnum"].FitOriginal) {
            this.translate((canvasWidth - width) / 2, (canvasHeight - height) / 2);
        }
        this.rotate(curRotate);
        this.updateZoomRatioTextOverlay(this.getScale());
        this.refreshUi();
    };
    ImageViewerComponent.prototype.showOverlay = function (visible) {
        if (!this.isImageLoaded) {
            return;
        }
        if (visible === undefined) {
            visible = false;
        }
        this.olLayer.visible(visible);
    };
    ImageViewerComponent.prototype.showAnnotation = function (visible) {
        if (!this.isImageLoaded) {
            return;
        }
        if (visible === undefined) {
            visible = false;
        }
        this.annLayer.visible(visible);
        this.annLabelLayer.visible(visible);
    };
    ImageViewerComponent.prototype.showRuler = function (visible) {
        if (!this.isImageLoaded) {
            return;
        }
        if (visible === undefined) {
            visible = false;
        }
        this.imgRulerLayer.visible(visible);
    };
    ImageViewerComponent.prototype.draggable = function (draggable) {
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        var canvas = this.canvas;
        var curContext = this.viewContext.curContext;
        this.imgLayer.draggable({
            disabled: !draggable,
            start: function (arg) {
                if (curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Select || curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) {
                    canvas.style.cursor = "move";
                }
            },
            stop: function (arg) {
                if (curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Select || curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) {
                    canvas.style.cursor = "auto";
                }
            },
            drag: function (arg) {
            }
        });
    };
    ImageViewerComponent.prototype.saveImage = function () {
        var _this = this;
        var annString = this.annSerialize.getAnnString(this.annObjList);
        this.image.cornerStoneImage.data.elements["x0011101d"] = this.annSerialize.annData;
        this.dicomImageService.saveImageAnn(this.image.id, annString).subscribe(function (ret) {
            var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_14__["MessageBoxContent"]();
            content.title = "Save Image";
            if (ret) {
                content.messageText = "Save image failed! " + ret;
                content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_14__["MessageBoxType"].Error;
            }
            else {
                content.messageText = "Save image successfully!";
                content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_14__["MessageBoxType"].Info;
            }
            _this.dialogService.showMessageBox(content);
        });
    };
    ImageViewerComponent.prototype.doWL = function (deltaX, deltaY) {
        if (!this.isImageLoaded)
            return;
        var self = this;
        var dcmImg = self.image.cornerStoneImage;
        if (deltaX != 0 || deltaY != 0) {
            var maxVOI = dcmImg.maxPixelValue * dcmImg.slope + dcmImg.intercept;
            var minVOI = dcmImg.minPixelValue * dcmImg.slope + dcmImg.intercept;
            var imageDynamicRange = maxVOI - minVOI;
            var multiplier = imageDynamicRange / 1024;
            var width = dcmImg.windowWidth + Math.round(deltaX * multiplier);
            var center = dcmImg.windowCenter + Math.round(deltaY * multiplier);
            this.doWlByValue(center, width);
        }
    };
    ImageViewerComponent.prototype.refreshUi = function () {
        var _this = this;
        this.annObjList.forEach(function (annObject) { return annObject.onScale(_this.getScale()); });
        this.annImageRuler.reDraw(this);
    };
    ImageViewerComponent.prototype.registerImgLayerEvents = function () {
        var self = this;
        //register imglayer events, note the arg.x/y is screen (canvas) coordinates
        self.imgLayer.mousedown(function (arg) {
            self.onMouseDown(arg);
            return false;
        });
        self.imgLayer.mousemove(function (arg) {
            self.onMouseMove(arg);
        });
        self.imgLayer.mouseup(function (arg) {
            self.onMouseUp(arg);
        });
        self.imgLayer.mouseout(function (arg) {
            self.onMouseOut(arg);
        });
        self.imgLayer.click(function (arg) {
            //self.onClick(arg);
        });
        self.imgLayer.dblclick(function (arg) {
            //log('imglayer dblclick ' + self.canvas.id);
        });
    };
    ImageViewerComponent.prototype.onMouseDown = function (evt) {
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        this.logService.debug("Image Layer - onMouseDown");
        var viewContext = self.viewContext;
        //log('viwer mouse down: ' + this.canvasId);
        //if in select context, and not click any object, will unselect all objects.
        if (viewContext.curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Select) {
            if (!evt.event.cancelBubble) {
                //if (self.curSelectObj && self.curSelectObj.select) {
                //    self.curSelectObj.onSelect(false);
                //    self.curSelectObj = undefined;
                //}
                self.selectAnnotation(null);
                self.draggable(true);
            }
            else { //an annobject has been selected
                self.draggable(false);
            }
        }
        else if (viewContext.curContext.action == _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) {
            var parm = viewContext.curContext.data;
            if (parm && parm.type && !parm.objCreated) {
                var newObj = new parm.type();
                //               self.createAnnObject(newObj, parm);
                parm.objCreated = true; //stop create the annObject again
            }
        }
        self.emitEvent(evt, _models_annotation__WEBPACK_IMPORTED_MODULE_15__["MouseEventType"].MouseDown, "onMouseDown");
    };
    ImageViewerComponent.prototype.onMouseMove = function (evt) {
        //this.logService.debug("Image Layer - onMouseMove");
        this.emitEvent(evt, _models_annotation__WEBPACK_IMPORTED_MODULE_15__["MouseEventType"].MouseMove, "onMouseMove");
    };
    ImageViewerComponent.prototype.onMouseOut = function (evt) {
        this.logService.debug("Image Layer - onMouseOut");
        //log('viwer mouse out: ' + this.canvasId);
        this.emitEvent(evt, _models_annotation__WEBPACK_IMPORTED_MODULE_15__["MouseEventType"].MouseOut, "onMouseOut");
    };
    ImageViewerComponent.prototype.onMouseUp = function (evt) {
        this.logService.debug("Image Layer - onMouseUp");
        //log('viwer mouse up: ' +this.canvasId);
        this.emitEvent(evt, _models_annotation__WEBPACK_IMPORTED_MODULE_15__["MouseEventType"].MouseUp, "onMouseUp");
    };
    //image layer events
    ImageViewerComponent.prototype.registerEvent = function (obj, type) {
        if (!this.eventHandlers[type]) {
            this.eventHandlers[type] = [];
        }
        var handlers = this.eventHandlers[type];
        var len = handlers.length;
        var i;
        for (i = 0; i < len; i++) {
            if (handlers[i] === obj) {
                return; //exists already
            }
        }
        handlers.push(obj);
    };
    ImageViewerComponent.prototype.unRegisterEvent = function (obj, type) {
        if (!this.eventHandlers[type]) {
            return;
        }
        var handlers = this.eventHandlers[type];
        var len = handlers.length;
        var i;
        var found = false;
        for (i = 0; i < len; i++) {
            if (handlers[i] === obj) {
                found = true;
                break;
            }
        }
        if (found) {
            handlers.splice(i, 1);
        }
    };
    ImageViewerComponent.prototype.emitEvent = function (arg, type, handler) {
        if (!this.isImageLoaded) {
            return;
        }
        var handlers = this.eventHandlers[type];
        if (!handlers || handlers.length == 0) {
            return;
        }
        //covert screen point to image point
        if (arg.x) {
            arg = _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].screenToImage(arg, this.imgLayer.transform());
        }
        handlers.forEach(function (obj) {
            if (obj[handler]) {
                obj[handler](arg);
            }
        });
    };
    ImageViewerComponent.prototype.registerCanvasEvents = function () {
        var self = this;
        self.canvas.addEventListener("contextmenu", function (evt) {
            self.onCanvasContextMenu(evt);
        });
        $(self.canvas).on("DOMMouseScroll mousewheel", function (evt) {
            self.onCanvasMouseWheel(evt);
        });
        $(self.canvas).on("dblclick", function (evt) {
            self.onCanvasDblClick(evt);
        });
        //TODO: keyup not work any more
        var parent = self.canvas.parentElement;
        $(parent).on("keyup", function (key) {
            self.onCanvasKeyUp(key);
        });
        $(self.canvas).on("mousemove", function (evt) {
            self.onCanvasMouseMove(evt);
        });
        $(self.canvas).on("mousedown", function (evt) {
            self.onCanvasMouseDown(evt);
        });
        $(self.canvas).on("mouseup", function (evt) {
            self.onCanvasMouseUp(evt);
        });
        $(self.canvas).on("mouseover", function (evt) {
            self.onCanvasMouseOver(evt);
        });
        $(self.canvas).on("mouseout", function (evt) {
            self.onCanvasMouseOut(evt);
        });
    };
    ImageViewerComponent.prototype.registerCornerstoneEvent = function () {
        var _this = this;
        $(this.helpElement).on("cornerstoneimagerendered", function (e, data) {
            if (_this.isImageLoaded) { //rendering, or invert/WL/Flip
                _this.onImageRendered(e, data);
            }
            else { //first load
                _this.isImageLoaded = true;
                _this.onImageLoaded(e, data); //this will set w/l, which will call Rendered again
            }
        });
    };
    ImageViewerComponent.prototype.onCanvasKeyUp = function (key) {
        if (!this.isImageLoaded) {
            return;
        }
    };
    ImageViewerComponent.prototype.onCanvasDblClick = function (evt) {
        //the imagelayer's double click events fires mousedown=>mouseup=>mousedown, which missed the last mosueup event, so we manually fire the mouseup here
        if (!this.isImageLoaded) {
            return;
        }
        var point = { x: evt.offsetX, y: evt.offsetY };
        if (this.annGuide.hitTest(point)) {
            return;
        }
        this.mouseEventHelper._mouseWhich = evt.which; //_mouseWhich has value means current is mouse down
        this.mouseEventHelper._mouseDownPosCvs = point;
        if (this.mouseEventHelper._mouseWhich === 1) {
            if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) {
                if (this.curSelectObj && !this.curSelectObj.isCreated()) {
                    this.curSelectObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_15__["MouseEventType"].DblClick, point, null);
                }
            }
        }
        if (this.canvas && this.canvas.on)
            this.canvas.onmouseup(evt); //cause jc to trigger mouseup event, which will stop the drag (imglayer)
        this.redraw(1);
        //log('canvas dblclick: ' + this.canvas.id);
    };
    ImageViewerComponent.prototype.onCanvasContextMenu = function (evt) {
        if (!this.isViewInited) {
            return;
        }
        //todo: add context menus
        evt.stopImmediatePropagation();
        evt.stopPropagation();
        evt.preventDefault();
    };
    ImageViewerComponent.prototype.onCanvasMouseWheel = function (evt) {
        this.imageSelectorService.navigateImagePage(evt.originalEvent.wheelDelta > 0);
    };
    ImageViewerComponent.prototype.onCanvasMouseDown = function (evt) {
        this.logService.debug("onCanvasMouseDown");
        if (!this.isImageLoaded) {
            return;
        }
        var point = { x: evt.offsetX, y: evt.offsetY };
        if (this.annGuide.hitTest(point)) {
            this.redraw(1);
            return;
        }
        this.dragging = true;
        this.mouseEventHelper._mouseWhich = evt.which; //_mouseWhich has value means current is mouse down
        this.mouseEventHelper._mouseDownPosCvs = point;
        if (this.mouseEventHelper._mouseWhich === 3) { //right mouse
            if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) {
                // Right click to cancel the creation of an annotation.
                this.cancelCreate(true);
            }
            else {
                this.mouseEventHelper._lastContext = this.viewContext.curContext;
                this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].WL);
            }
        }
        else if (this.mouseEventHelper._mouseWhich === 1) {
            if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Magnify) {
                this.startMagnify(point);
            }
            else if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) {
                if (this.curSelectObj) {
                    // There is annotation selected
                    if (!this.curSelectObj.isCreated()) {
                        // The selected annotation is creating
                        this.curSelectObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_15__["MouseEventType"].MouseDown, point, null);
                    }
                    else {
                        // The selected annotation is created
                        this.selectAnnotation(null);
                        // Start to create a new annotation and assign it as selected.
                        this.startCreateAnnAtPoint(point);
                    }
                }
                else {
                    // There is no annotation selected
                    this.startCreateAnnAtPoint(point);
                }
            }
            else if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].SelectAnn) {
            }
            else if (this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiZoom || this.viewContext.curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiWl) {
                if (!this.annRoiRectangle) {
                    var imagePoint = _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].screenToImage(point, this.getImageLayer().transform());
                    this.annRoiRectangle = new _annotation_base_object_ann_base_rectangle__WEBPACK_IMPORTED_MODULE_25__["AnnBaseRectangle"](undefined, imagePoint, 0, 0, this);
                }
            }
        }
        this.redraw(1);
    };
    ImageViewerComponent.prototype.onCanvasMouseMove = function (evt) {
        var self = this;
        if (!this.isImageLoaded) {
            return;
        }
        var point = { x: evt.offsetX, y: evt.offsetY };
        //console.log(evt.offsetX + "," + evt.offsetY);
        var curContext = this.viewContext.curContext;
        if (!self.mouseEventHelper._lastPosCvs) {
            self.mouseEventHelper._lastPosCvs = { x: evt.offsetX, y: evt.offsetY };
        }
        var deltaX = evt.offsetX - self.mouseEventHelper._lastPosCvs.x;
        var deltaY = evt.offsetY - self.mouseEventHelper._lastPosCvs.y;
        if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) {
            if (this.curSelectObj && !this.curSelectObj.isCreated()) {
                this.curSelectObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_15__["MouseEventType"].MouseMove, point, null);
            }
        }
        else {
            if (self.mouseEventHelper._mouseWhich === 3) {
                if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].WL) {
                    self.doWL(deltaX, deltaY);
                }
            }
            else if (self.mouseEventHelper._mouseWhich === 1) {
                if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Magnify) {
                    this.magnifyAtPoint(point);
                }
                else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].WL) {
                    self.doWL(deltaX, deltaY);
                }
                else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Zoom) {
                    var delta = Math.abs(deltaX) > Math.abs(deltaY) ? deltaX : deltaY;
                    if (Math.abs(delta) > 0) {
                        self.doZoom(delta);
                    }
                }
                else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiZoom || curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiWl) {
                    if (this.annRoiRectangle) {
                        var topLeft = this.annRoiRectangle.getPosition();
                        var imagePoint = _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].screenToImage(point, this.getImageLayer().transform());
                        this.annRoiRectangle.setWidth(imagePoint.x - topLeft.x);
                        this.annRoiRectangle.setHeight(imagePoint.y - topLeft.y);
                    }
                }
            }
        }
        this.redraw(this.dragging ? 2 : 1);
        self.mouseEventHelper._lastPosCvs = { x: evt.offsetX, y: evt.offsetY };
    };
    ImageViewerComponent.prototype.onCanvasMouseUp = function (evt) {
        this.logService.debug("onCanvasMouseUp");
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        var point = { x: evt.offsetX, y: evt.offsetY };
        if (this.annGuide.hitTest(point)) {
            this.redraw(2);
            return;
        }
        this.dragging = false;
        var curContext = this.viewContext.curContext;
        if (self.mouseEventHelper._mouseWhich === 3) {
            if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].WL) {
                if (self.mouseEventHelper._lastContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].CreateAnn) { //cancel create
                    this.viewContext.setContext(_services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Select);
                }
                else {
                    this.viewContext.setContext(self.mouseEventHelper._lastContext.action, self.mouseEventHelper._lastContext.data);
                }
            }
        }
        else if (self.mouseEventHelper._mouseWhich === 1) {
            if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].Magnify) {
                this.endMagnify();
            }
            else if (curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiZoom || curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiWl) {
                if (this.annRoiRectangle && this.annRoiRectangle.getWidth() !== 0 && this.annRoiRectangle.getHeight() !== 0) {
                    var pointList = this.annRoiRectangle.getSurroundPointList();
                    curContext.action === _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextEnum"].RoiZoom ? this.doRoiZoom(pointList) : this.doRoiWl(pointList);
                    this.annRoiRectangle.onDeleteChildren();
                    this.annRoiRectangle = undefined;
                }
            }
        }
        this.redraw(2);
        self.mouseEventHelper._mouseWhich = 0;
    };
    ImageViewerComponent.prototype.onCanvasMouseOut = function (evt) {
        this.logService.debug("onCanvasMouseOut");
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
        self.canvas.onmouseup(evt); //cause jc to trigger mouseup event, which will stop the drag (imglayer)
        if (self.mouseEventHelper._mouseWhich !== 0) {
            self.onCanvasMouseUp(evt); //call mouseup to end the action
        }
    };
    ImageViewerComponent.prototype.onCanvasMouseOver = function (evt) {
        this.logService.debug("onCanvasMouseOver");
        var self = this;
        if (!self.isImageLoaded) {
            return;
        }
    };
    ImageViewerComponent.prototype.deleteAllAnnotation = function () {
        this.annObjList.forEach(function (annObj) { return annObj.onDeleteChildren(); });
        this.annObjList.length = 0;
    };
    ImageViewerComponent.prototype.deleteAnnotation = function (annObj) {
        if (!annObj)
            return;
        if (annObj.isCreated()) {
            // If this annotation is already created, need to remove it from the list
            var len = this.annObjList.length;
            var i = 0;
            for (; i < len; i++) {
                if (this.annObjList[i] === annObj) {
                    break;
                }
            }
            if (i !== len) {
                this.annObjList.splice(i, 1);
            }
        }
        annObj.onDeleteChildren();
    };
    ImageViewerComponent.prototype.doManualWl = function () {
        var _this = this;
        var windowLevelData = new _models_dailog_data_image_process__WEBPACK_IMPORTED_MODULE_11__["WindowLevelData"]();
        windowLevelData.windowCenter = this.image.cornerStoneImage.windowCenter;
        windowLevelData.windowWidth = this.image.cornerStoneImage.windowWidth;
        this.dialogService.showDialog(_dialog_manual_wl_dialog_manual_wl_dialog_component__WEBPACK_IMPORTED_MODULE_12__["ManualWlDialogComponent"], windowLevelData).subscribe(function (val) {
            if (val) {
                _this.doWlByValue(val.windowCenter, val.windowWidth);
            }
        });
    };
    ImageViewerComponent.prototype.doWlByValue = function (center, width) {
        var viewPort = cornerstone.getViewport(this.helpElement);
        viewPort.voi.windowCenter = center;
        viewPort.voi.windowWidth = width;
        cornerstone.setViewport(this.helpElement, viewPort);
        this.image.cornerStoneImage.windowWidth = width;
        this.image.cornerStoneImage.windowCenter = center;
        this.updateWlTextOverlay(width, center);
    };
    ImageViewerComponent.prototype.updateWlTextOverlay = function (width, center) {
        if (this.annTextOverlay) {
            this.annTextOverlay.updateWindowCenter(width, center);
        }
    };
    ImageViewerComponent.prototype.updateZoomRatioTextOverlay = function (roomRatio) {
        if (this.annTextOverlay) {
            this.annTextOverlay.updateZoomRatioTextOverlay(roomRatio);
        }
    };
    ImageViewerComponent.prototype.startCreateAnnAtPoint = function (point) {
        this.updateImageTransform();
        var annDefData = this.annotationService.getAnnDefDataByType(this.viewContext.curContext.data);
        if (!annDefData)
            return;
        if (annDefData.imageSuiteAnnType === _models_annotation__WEBPACK_IMPORTED_MODULE_15__["AnnType"].Text) {
            this.createFreeText(point);
        }
        else {
            this.curSelectObj = new annDefData.classType(undefined, this);
            if (annDefData.needGuide) {
                this.annGuide.setGuideTargetObj(this.curSelectObj);
            }
            this.curSelectObj.onMouseEvent(_models_annotation__WEBPACK_IMPORTED_MODULE_15__["MouseEventType"].MouseDown, point, null);
        }
    };
    ImageViewerComponent.prototype.deleteSelectedAnnotation = function () {
        this.deleteAnnotation(this.curSelectObj);
        this.curSelectObj = undefined;
        this.annGuide.hide();
    };
    ImageViewerComponent.prototype.selectMarker = function () {
        var _this = this;
        this.dialogService.showDialog(_dialog_select_marker_dialog_select_marker_dialog_component__WEBPACK_IMPORTED_MODULE_13__["SelectMarkerDialogComponent"], undefined).subscribe(function (val) {
            if (val) {
                _this.updateImageTransform();
                var annImage = new _annotation_extend_object_ann_image__WEBPACK_IMPORTED_MODULE_20__["AnnImage"](undefined, _this);
                annImage.onCreate(val, new _models_annotation__WEBPACK_IMPORTED_MODULE_15__["Point"](0, 0));
                _this.curSelectObj = annImage;
            }
        });
    };
    ImageViewerComponent.prototype.setKeyImage = function (keyImage) {
        this.configurationService.setKeyImage(this.image.id, keyImage);
    };
    ImageViewerComponent.prototype.redraw = function (count) {
        for (var i = 0; i < count; i++) {
            this.jcanvas.frame();
        }
    };
    ImageViewerComponent.prototype.deleteAll = function () {
        if (!this.jcanvas) {
            return;
        }
        if (this.annMagnify) {
            this.annMagnify.del();
        }
        if (this.annTextOverlay) {
            this.annTextOverlay.del();
            this.annTextOverlay = undefined;
        }
        if (this.annGraphicOverlay) {
            this.annGraphicOverlay.del();
            this.annGraphicOverlay = undefined;
        }
        if (this.annImageRuler) {
            this.annImageRuler.reset(this);
        }
        if (this.image && this.annObjList) {
            this.deleteAllAnnotation();
        }
        if (this.jcImage) {
            this.jcImage.del();
        }
    };
    ImageViewerComponent.prototype.toggleGraphicOverlay = function (show) {
        if (!this.image || this.image.graphicOverlayDataList.length === 0) {
            return;
        }
        if (show) {
            if (!this.annGraphicOverlay) {
                this.annGraphicOverlay = new _annotation_layer_object_ann_graphic_overlay__WEBPACK_IMPORTED_MODULE_22__["AnnGraphicOverlay"](this.image.graphicOverlayDataList, this);
            }
            this.annGraphicOverlay.setVisible(true);
        }
        else {
            if (this.annGraphicOverlay) {
                this.annGraphicOverlay.setVisible(false);
            }
        }
    };
    ImageViewerComponent.prototype.startMagnify = function (point) {
        if (!this.annMagnify) {
            this.annMagnify = new _annotation_layer_object_ann_magnify__WEBPACK_IMPORTED_MODULE_24__["AnnMagnify"](this);
        }
        this.annMagnify.start(point, this.viewContext.curContext.data);
        this.canvas.style.cursor = "none";
        if (this.annGraphicOverlay) {
            this.annGraphicOverlay.drawToMgLayer();
        }
    };
    ImageViewerComponent.prototype.magnifyAtPoint = function (point) {
        if (!this.annMagnify || !this.annMagnify.isStarted()) {
            return;
        }
        this.annMagnify.moveTo(point);
    };
    ImageViewerComponent.prototype.endMagnify = function () {
        if (!this.annMagnify || !this.annMagnify.isStarted()) {
            return;
        }
        this.annMagnify.end();
        this.setCursorFromContext();
    };
    ImageViewerComponent.prototype.createFreeText = function (point) {
        var _this = this;
        var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_14__["MessageBoxContent"]();
        content.title = "Text";
        content.messageText = "Please input the text:";
        content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_14__["MessageBoxType"].Input;
        this.dialogService.showMessageBox(content).subscribe(function (val) {
            if (val.dialogResult === _models_messageBox__WEBPACK_IMPORTED_MODULE_14__["DialogResult"].Ok) {
                var imagePoint = _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].screenToImage(point, _this.image.transformMatrix);
                var annObj = new _annotation_extend_object_ann_text__WEBPACK_IMPORTED_MODULE_17__["AnnText"](undefined, _this);
                annObj.onCreate(imagePoint, val.valueInput, false);
                annObj.onDrawEnded();
                _this.curSelectObj = annObj;
                _this.redraw(1);
            }
        });
    };
    ImageViewerComponent.prototype.doZoom = function (delta) {
        if (!this.isImageLoaded)
            return;
        var imagePoint = _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].screenToImage(this.mouseEventHelper._mouseDownPosCvs, this.image.transformMatrix);
        var scaleValue = delta > 0 ? 1.05 : 0.95;
        this.scale(scaleValue);
        var mouseDownPosCvsAfter = _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].imageToScreen(imagePoint, this.image.transformMatrix);
        this.translate(this.mouseEventHelper._mouseDownPosCvs.x - mouseDownPosCvsAfter.x, this.mouseEventHelper._mouseDownPosCvs.y - mouseDownPosCvsAfter.y);
        this.updateZoomRatioTextOverlay(this.getScale());
        this.refreshUi();
    };
    ImageViewerComponent.prototype.doRoiZoom = function (imagePointList) {
        var _a;
        var imageRect = new _models_annotation__WEBPACK_IMPORTED_MODULE_15__["Rectangle"](0, 0, this.image.width(), this.image.height());
        for (var i = 0; i < 4; i++) {
            if (!_annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].pointInRect(imagePointList[i], imageRect)) {
                return;
            }
        }
        var width = imagePointList[2].x - imagePointList[0].x;
        var height = imagePointList[2].y - imagePointList[0].y;
        var imageCenterPoint = new _models_annotation__WEBPACK_IMPORTED_MODULE_15__["Point"](imagePointList[0].x + width / 2, imagePointList[0].y + height / 2);
        var rotateAngle = this.getRotate();
        if (Math.abs(rotateAngle % 180) === 90) {
            _a = [height, width], width = _a[0], height = _a[1];
        }
        var scaleX = this.canvas.width / Math.abs(width);
        var scaleY = this.canvas.height / Math.abs(height);
        var newScale = Math.min(scaleX, scaleY) / this.image.getScaleValue();
        this.scale(newScale);
        var screenRectCenterPointAfter = _annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].imageToScreen(imageCenterPoint, this.getImageLayer().transform());
        var deltaX = this.canvas.width / 2 - screenRectCenterPointAfter.x;
        var deltaY = this.canvas.height / 2 - screenRectCenterPointAfter.y;
        this.imgLayer.translate(deltaX, deltaY);
        this.updateZoomRatioTextOverlay(this.getScale());
        this.refreshUi();
    };
    ImageViewerComponent.prototype.doRoiWl = function (imagePointList) {
        var imageRect = new _models_annotation__WEBPACK_IMPORTED_MODULE_15__["Rectangle"](0, 0, this.image.width(), this.image.height());
        for (var i = 0; i < 4; i++) {
            if (!_annotation_ann_tool__WEBPACK_IMPORTED_MODULE_16__["AnnTool"].pointInRect(imagePointList[i], imageRect)) {
                return;
            }
            imagePointList[i].x = Math.round(imagePointList[i].x);
            imagePointList[i].y = Math.round(imagePointList[i].y);
        }
        var wlData = this.dicomImageService.getRoiWlValue(this.image, imagePointList);
        this.doWlByValue(wlData.windowCenter, wlData.windowWidth);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])("viewerCanvas"),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], ImageViewerComponent.prototype, "canvasRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])("helpElement"),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], ImageViewerComponent.prototype, "helpElementRef", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_6__["ViewerImageData"]),
        __metadata("design:paramtypes", [_models_viewer_image_data__WEBPACK_IMPORTED_MODULE_6__["ViewerImageData"]])
    ], ImageViewerComponent.prototype, "imageData", null);
    ImageViewerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-image-viewer",
            template: __webpack_require__(/*! ./image-viewer.component.html */ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.html"),
            providers: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"], { provide: _angular_common__WEBPACK_IMPORTED_MODULE_1__["LocationStrategy"], useClass: _angular_common__WEBPACK_IMPORTED_MODULE_1__["PathLocationStrategy"] }],
            styles: [__webpack_require__(/*! ./image-viewer.component.css */ "./src/app/components/viewer-shell/group-viewer/image-viewer/image-viewer.component.css")]
        }),
        __metadata("design:paramtypes", [_services_image_selector_service__WEBPACK_IMPORTED_MODULE_2__["ImageSelectorService"],
            _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_3__["DicomImageService"],
            _services_configuration_service__WEBPACK_IMPORTED_MODULE_8__["ConfigurationService"],
            _services_view_context_service__WEBPACK_IMPORTED_MODULE_5__["ViewContextService"],
            _services_worklist_service__WEBPACK_IMPORTED_MODULE_7__["WorklistService"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_9__["DialogService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_10__["LogService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"],
            _services_annotation_service__WEBPACK_IMPORTED_MODULE_4__["AnnotationService"]])
    ], ImageViewerComponent);
    return ImageViewerComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/navigation.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/navigation.component.css ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#main-nav { margin-left: 1px; }\r\n\r\n.hangingProtocol-div {\r\n    background-color: #333;\r\n    border-radius: 2px;\r\n    height: 44px;\r\n    margin-bottom: 3px;\r\n    padding: 2px;\r\n}\r\n\r\n/*.open>.hangingProtocol-menu {\r\n    display: block;\r\n}*/\r\n\r\nli.dropdown.open {\r\n    margin: -20px 0 0;\r\n    width: 44px;\r\n}\r\n\r\nli.dropdown {\r\n    margin: -20px 0 0;\r\n    width: 44px;\r\n}\r\n\r\n.hangingProtocol-menu {\r\n    background-color: #333;\r\n    margin: -24px 0 0;\r\n    min-width: 40px;\r\n    padding-bottom: 0;\r\n}\r\n\r\n.hangingProtocol-menu-button {\r\n    background-color: #333;\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.patient-div {\r\n    background-color: #333;\r\n    border-radius: 2px;\r\n    margin-bottom: 3px;\r\n    padding: 2px;\r\n}\r\n\r\n.patient-header {\r\n    background-color: #555555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    display: flex;\r\n    height: 48px;\r\n    padding: 4px;\r\n    width: 184px;\r\n}\r\n\r\n.patient-header:hover { color: #F90; }\r\n\r\n.patient-header:hover .patient-button { background: url('Patient_N2.gif') no-repeat left top; }\r\n\r\n.patient-header:hover .patient-button:active { background: url('Patient_N3.gif') no-repeat left top; }\r\n\r\n.patient-button {\r\n    background: url('Patient_N1.gif') no-repeat left top;\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.patient-info {\r\n    height: 40px;\r\n    margin-left: 6px;\r\n    width: 100%;\r\n}\r\n\r\n.study-header {\r\n    background-color: #555555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    display: flex;\r\n    height: 48px;\r\n    margin-left: 10px;\r\n    padding: 4px;\r\n    width: 174px;\r\n}\r\n\r\n.study-header:hover { color: #F90; }\r\n\r\n.study-header:hover .study-button { background: url('Study_N2.gif') no-repeat left top; }\r\n\r\n.study-header:hover .study-button:active { background: url('Study_N3.gif') no-repeat left top; }\r\n\r\n.study-button {\r\n    background: url('Study_N1.gif') no-repeat left top;\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.study-info {\r\n    height: 40px;\r\n    margin-left: 6px;\r\n    overflow: hidden;\r\n    width: 100%;\r\n}\r\n\r\n.series-header {\r\n    background-color: #555555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    display: flex;\r\n    height: 48px;\r\n    margin-left: 20px;\r\n    padding: 4px;\r\n    width: 164px;\r\n}\r\n\r\n.series-header:hover { color: #F90; }\r\n\r\n.series-header:hover .series-button { background: url('Series_N2.gif') no-repeat left top; }\r\n\r\n.series-header:hover .series-button:active { background: url('Series_N3.gif') no-repeat left top; }\r\n\r\n.series-button {\r\n    background: url('Series_N1.gif') no-repeat left top;\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.series-info {\r\n    height: 40px;\r\n    margin-left: 6px;\r\n    width: 100%;\r\n}\r\n\r\n.image-list {\r\n    background-color: #555555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    margin-left: 30px;\r\n    padding: 4px;\r\n    width: 154px;\r\n}\r\n\r\n.image-button {\r\n    background-color: #555;\r\n    border: solid 1px #333;\r\n    border-radius: 3px;\r\n    color: white;\r\n    display: flex;\r\n    height: 80px;\r\n    margin-left: 30px;\r\n    padding: 4px;\r\n    width: 154px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxnQkFBZ0IsRUFBRTs7QUFFOUI7SUFDSSxzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjs7QUFFQTs7RUFFRTs7QUFFRjtJQUNJLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztBQUNmOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7SUFDWixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSx3QkFBd0IsV0FBVyxFQUFFOztBQUVyQyx3Q0FBd0Msb0RBQXFGLEVBQUU7O0FBRS9ILCtDQUErQyxvREFBcUYsRUFBRTs7QUFFdEk7SUFDSSxvREFBcUY7SUFDckYsWUFBWTtJQUNaLFlBQVk7SUFDWixhQUFhO0lBQ2IsV0FBVztBQUNmOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLFlBQVk7QUFDaEI7O0FBRUEsc0JBQXNCLFdBQVcsRUFBRTs7QUFFbkMsb0NBQW9DLGtEQUFtRixFQUFFOztBQUV6SCwyQ0FBMkMsa0RBQW1GLEVBQUU7O0FBRWhJO0lBQ0ksa0RBQW1GO0lBQ25GLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixhQUFhO0lBQ2IsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQSx1QkFBdUIsV0FBVyxFQUFFOztBQUVwQyxzQ0FBc0MsbURBQW9GLEVBQUU7O0FBRTVILDZDQUE2QyxtREFBb0YsRUFBRTs7QUFFbkk7SUFDSSxtREFBb0Y7SUFDcEYsWUFBWTtJQUNaLFlBQVk7SUFDWixhQUFhO0lBQ2IsV0FBVztBQUNmOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGFBQWE7SUFDYixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFpbi1uYXYgeyBtYXJnaW4tbGVmdDogMXB4OyB9XHJcblxyXG4uaGFuZ2luZ1Byb3RvY29sLWRpdiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgaGVpZ2h0OiA0NHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogM3B4O1xyXG4gICAgcGFkZGluZzogMnB4O1xyXG59XHJcblxyXG4vKi5vcGVuPi5oYW5naW5nUHJvdG9jb2wtbWVudSB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufSovXHJcblxyXG5saS5kcm9wZG93bi5vcGVuIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDQ0cHg7XHJcbn1cclxuXHJcbmxpLmRyb3Bkb3duIHtcclxuICAgIG1hcmdpbjogLTIwcHggMCAwO1xyXG4gICAgd2lkdGg6IDQ0cHg7XHJcbn1cclxuXHJcbi5oYW5naW5nUHJvdG9jb2wtbWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgbWFyZ2luOiAtMjRweCAwIDA7XHJcbiAgICBtaW4td2lkdGg6IDQwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMDtcclxufVxyXG5cclxuLmhhbmdpbmdQcm90b2NvbC1tZW51LWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ucGF0aWVudC1kaXYge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDNweDtcclxuICAgIHBhZGRpbmc6IDJweDtcclxufVxyXG5cclxuLnBhdGllbnQtaGVhZGVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU1NTU7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogNDhweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxODRweDtcclxufVxyXG5cclxuLnBhdGllbnQtaGVhZGVyOmhvdmVyIHsgY29sb3I6ICNGOTA7IH1cclxuXHJcbi5wYXRpZW50LWhlYWRlcjpob3ZlciAucGF0aWVudC1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9QYXRpZW50X04yLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucGF0aWVudC1oZWFkZXI6aG92ZXIgLnBhdGllbnQtYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1BhdGllbnRfTjMuZ2lmKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5wYXRpZW50LWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9QYXRpZW50X04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ucGF0aWVudC1pbmZvIHtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnN0dWR5LWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxNzRweDtcclxufVxyXG5cclxuLnN0dWR5LWhlYWRlcjpob3ZlciB7IGNvbG9yOiAjRjkwOyB9XHJcblxyXG4uc3R1ZHktaGVhZGVyOmhvdmVyIC5zdHVkeS1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9TdHVkeV9OMi5naWYpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnN0dWR5LWhlYWRlcjpob3ZlciAuc3R1ZHktYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1N0dWR5X04zLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uc3R1ZHktYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1N0dWR5X04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4uc3R1ZHktaW5mbyB7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uc2VyaWVzLWhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxNjRweDtcclxufVxyXG5cclxuLnNlcmllcy1oZWFkZXI6aG92ZXIgeyBjb2xvcjogI0Y5MDsgfVxyXG5cclxuLnNlcmllcy1oZWFkZXI6aG92ZXIgLnNlcmllcy1idXR0b24geyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9EaWNvbVZpZXdlci9TZXJpZXNfTjIuZ2lmKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5zZXJpZXMtaGVhZGVyOmhvdmVyIC5zZXJpZXMtYnV0dG9uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL0RpY29tVmlld2VyL1Nlcmllc19OMy5naWYpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnNlcmllcy1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvRGljb21WaWV3ZXIvU2VyaWVzX04xLmdpZikgbm8tcmVwZWF0IGxlZnQgdG9wO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4uc2VyaWVzLWluZm8ge1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uaW1hZ2UtbGlzdCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzMzMztcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG4gICAgd2lkdGg6IDE1NHB4O1xyXG59XHJcblxyXG4uaW1hZ2UtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjMzMzO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogODBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG4gICAgd2lkdGg6IDE1NHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/navigation.component.html":
/*!******************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/navigation.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n    <div class=\"row hangingProtocol-div\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <li class=\"dropdown\">\r\n                        <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(selectedGroupHangingData.name)\" role=\"button\" [title]=\"selectedGroupHangingData.tip\" style=\"margin-top: -20px;\"\r\n                                    (mouseover)=\"onMouseOver($event, true)\" (mouseout)=\"onMouseOut($event)\">\r\n                            </button>\r\n                        </a>\r\n                        <ul class=\"dropdown-menu hangingProtocol-menu\">\r\n                            <li *ngFor=\"let groupHangingData of hangingProtocolService.getGroupHangingDataList()\">\r\n                                <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(groupHangingData.name)\" role=\"button\" [title]=\"groupHangingData.tip\"\r\n                                        (click)=\"onSelectGroupHangingProtocol(groupHangingData)\" (mouseover)=\"onMouseOver($event, false)\" (mouseout)=\"onMouseOut($event)\" (mousedown)=\"onMouseDown($event)\" (mouseup)=\"onMouseUp($event)\">\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </td>\r\n                <td>\r\n                    <li class=\"dropdown\">\r\n                        <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(selectedGroupLayoutData.name)\" role=\"button\" [title]=\"selectedGroupLayoutData.tip\" style=\"margin-top: -20px;\"\r\n                                    (mouseover)=\"onMouseOver($event, true)\" (mouseout)=\"onMouseOut($event)\">\r\n                            </button>\r\n                        </a>\r\n                        <ul class=\"dropdown-menu hangingProtocol-menu\">\r\n                            <li *ngFor=\"let groupLayoutData of hangingProtocolService.getGroupLayoutDataList()\">\r\n                                <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(groupLayoutData.name)\" role=\"button\" [title]=\"groupLayoutData.tip\"\r\n                                        (click)=\"onSelectGroupLayout(groupLayoutData)\" (mouseover)=\"onMouseOver($event, false)\" (mouseout)=\"onMouseOut($event)\" (mousedown)=\"onMouseDown($event)\" (mouseup)=\"onMouseUp($event)\">\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </td>\r\n                <td>\r\n                    <li class=\"dropdown\">\r\n                        <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                            <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(selectedImageLayoutData.name)\" role=\"button\" [title]=\"selectedImageLayoutData.tip\" style=\"margin-top: -20px;\"\r\n                                    (mouseover)=\"onMouseOver($event, true)\" (mouseout)=\"onMouseOut($event)\">\r\n                            </button>\r\n                        </a>\r\n                        <ul class=\"dropdown-menu hangingProtocol-menu\">\r\n                            <li *ngFor=\"let imageLayoutData of hangingProtocolService.getImageLayoutDataList()\">\r\n                                <button class=\"hangingProtocol-menu-button\" [style.background-image]=\"getHpMenuBackground(imageLayoutData.name)\" role=\"button\" [title]=\"imageLayoutData.tip\"\r\n                                        (click)=\"onSelectImageLayout(imageLayoutData)\" (mouseover)=\"onMouseOver($event, false)\" (mouseout)=\"onMouseOut($event)\" (mousedown)=\"onMouseDown($event)\" (mouseup)=\"onMouseUp($event)\">\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n    <div *ngFor=\"let patient of viewerShellData.patientList\" class=\"row patient-div\">\r\n        <div class=\"patient-header\">\r\n            <div>\r\n                <button class=\"patient-button\" (click)=\"onClickPssi(patient)\" title=\"Toggle to show/hide patient images\"></button>\r\n            </div>\r\n            <table class=\"patient-info\">\r\n                <tr>{{patient.patientName}}</tr>\r\n                <tr>{{patient.patientId}}</tr>\r\n            </table>\r\n        </div>\r\n        <div *ngFor=\"let study of patient.studyList\"\r\n             [style.visibility]=\"getPssiVisibility(patient)\" [style.height]=\"getPssiHeight(patient)\">\r\n            <div class=\"study-header\">\r\n                <div>\r\n                    <button class=\"study-button\" (click)=\"onClickPssi(study)\" title=\"Toggle to show/hide study images\"></button>\r\n                </div>\r\n                <table class=\"study-info\">\r\n                    <tr>{{study.studyDate}}</tr>\r\n                    <tr>{{study.studyDescription}}</tr>\r\n                </table>\r\n            </div>\r\n            <div *ngFor=\"let series of study.seriesList\"\r\n                 [style.visibility]=\"getPssiVisibility(study)\" [style.height]=\"getPssiHeight(study)\">\r\n                <div class=\"series-header\">\r\n                    <div>\r\n                        <button class=\"series-button\" (click)=\"onClickPssi(series)\" title=\"Toggle to show/hide series images\"></button>\r\n                    </div>\r\n                    <table class=\"series-info\">\r\n                        <tr>{{series.modality}}</tr>\r\n                        <tr>{{series.imageCount}} image</tr>\r\n                    </table>\r\n                </div>\r\n                <div *ngFor=\"let a of Arr(getThumbnailListRowCount(series)).fill(1); let imageIndex = index\"\r\n                     [style.visibility]=\"getPssiVisibility(series)\" [style.height]=\"getPssiHeight(series)\">\r\n                    <div class=\"image-button\">\r\n                        <app-thumbnail [image]=\"series.imageList[imageIndex*2]\"></app-thumbnail>\r\n                        <app-thumbnail *ngIf=\"imageIndex*2+1 < series.imageList.length\" [image]=\"series.imageList[imageIndex*2+1]\"></app-thumbnail>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/navigation.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/navigation.component.ts ***!
  \****************************************************************************/
/*! exports provided: NavigationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigationComponent", function() { return NavigationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/viewer-shell-data */ "./src/app/models/viewer-shell-data.ts");
/* harmony import */ var _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/hanging-protocol.service */ "./src/app/services/hanging-protocol.service.ts");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var NavigationComponent = /** @class */ (function () {
    function NavigationComponent(hangingProtocolService, imageSelectorService, locationStrategy, logService) {
        this.hangingProtocolService = hangingProtocolService;
        this.imageSelectorService = imageSelectorService;
        this.locationStrategy = locationStrategy;
        this.logService = logService;
        this.Arr = Array; //Array type captured in a variable
        this.layout = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.groupLayoutList = ["1X1", "1X2", "2X1", "2X2", "3X3"];
        this.imageHangingList = ["1X1", "1X2", "2X1", "2X2", "3X3", "3X4", "5X6"];
        this.groupLayout = "1X1";
        this.imageLayout = "1X1";
        this.selectedGroupHangingData = this.hangingProtocolService.getDefaultGroupHangingData();
        this.selectedGroupLayoutData = this.hangingProtocolService.getDefaultGroupLayoutData();
        this.selectedImageLayoutData = this.hangingProtocolService.getDefaultImageLayoutData();
    }
    NavigationComponent.prototype.ngOnInit = function () {
        this.baseUrl = window.location.origin + this.locationStrategy.getBaseHref();
    };
    NavigationComponent.prototype.onClickPssi = function (pssi) {
        var hide = !pssi.hide;
        pssi.setHide(hide);
    };
    NavigationComponent.prototype.getPssiVisibility = function (pssi) {
        return (pssi.hide || this.viewerShellData.hide) ? "hidden" : "visible";
    };
    NavigationComponent.prototype.getPssiHeight = function (pssi) {
        return (pssi.hide || this.viewerShellData.hide) ? "0px" : "100%";
    };
    NavigationComponent.prototype.getThumbnailListRowCount = function (series) {
        var count = Math.trunc((series.imageList.length + 1) / 2);
        return count;
    };
    NavigationComponent.prototype.getHpMenuBackground = function (name) {
        var background = "url(" + this.baseUrl + "assets/img/DicomViewer/" + name + "_N1.gif)";
        return background;
    };
    NavigationComponent.prototype.onMouseOver = function (event, triggerClick) {
        event.target.style.backgroundImage = event.target.style.backgroundImage.replace("N1", "N2");
        if (triggerClick) {
            //event.target.click();
        }
    };
    NavigationComponent.prototype.onMouseOut = function (event) {
        var imageUrl = event.target.style.backgroundImage.replace("N2", "N1");
        if (imageUrl === event.target.style.backgroundImage) {
            event.target.style.backgroundImage = event.target.style.backgroundImage.replace("N3", "N1");
        }
        else {
            event.target.style.backgroundImage = imageUrl;
        }
    };
    NavigationComponent.prototype.onMouseDown = function (event) {
        event.target.style.backgroundImage = event.target.style.backgroundImage.replace("N2", "N3");
    };
    NavigationComponent.prototype.onMouseUp = function (event) {
        event.target.style.backgroundImage = event.target.style.backgroundImage.replace("N3", "N1");
    };
    NavigationComponent.prototype.onSelectGroupHangingProtocol = function (groupHangingData) {
        this.logService.seperator();
        this.logService.info("User: " + groupHangingData.tip);
        this.selectedGroupHangingData = groupHangingData;
        this.layout.emit(this.selectedGroupHangingData.groupHangingProtocol);
    };
    NavigationComponent.prototype.onSelectGroupLayout = function (groupHangingData) {
        this.logService.seperator();
        this.logService.info("User: " + groupHangingData.tip);
        this.selectedGroupLayoutData = groupHangingData;
        this.layout.emit(this.selectedGroupLayoutData.groupHangingProtocol);
    };
    NavigationComponent.prototype.onSelectImageLayout = function (imageLayoutData) {
        this.logService.seperator();
        this.logService.info("User: " + imageLayoutData.tip);
        this.selectedImageLayoutData = imageLayoutData;
        this.imageSelectorService.changeImageLayout(this.selectedImageLayoutData.imageHangingProtocol);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_2__["ViewerShellData"])
    ], NavigationComponent.prototype, "viewerShellData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], NavigationComponent.prototype, "layout", void 0);
    NavigationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-navigation",
            template: __webpack_require__(/*! ./navigation.component.html */ "./src/app/components/viewer-shell/navigation/navigation.component.html"),
            styles: [__webpack_require__(/*! ./navigation.component.css */ "./src/app/components/viewer-shell/navigation/navigation.component.css")]
        }),
        __metadata("design:paramtypes", [_services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__["HangingProtocolService"],
            _services_image_selector_service__WEBPACK_IMPORTED_MODULE_4__["ImageSelectorService"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["LocationStrategy"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_5__["LogService"]])
    ], NavigationComponent);
    return NavigationComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.css":
/*!**************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.css ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".thumbnail {\r\n    background-color: black;\r\n    border: solid 1px #888;\r\n    height: 70px;\r\n    margin-right: 4px;\r\n    overflow: hidden;\r\n    padding: 2px;\r\n    width: 70px;\r\n}\r\n\r\n.thumbnail:hover { border: solid 2px #F90; }\r\n\r\n.img {\r\n    background-color: black;\r\n    height: 70px;\r\n  \r\n    margin-right: 4px;\r\n    overflow: hidden;\r\n    width: 70px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi90aHVtYm5haWwvdGh1bWJuYWlsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1QkFBdUI7SUFDdkIsc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUEsbUJBQW1CLHNCQUFzQixFQUFFOztBQUczQztJQUNJLHVCQUF1QjtJQUN2QixZQUFZOztJQUVaLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvbmF2aWdhdGlvbi90aHVtYm5haWwvdGh1bWJuYWlsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGh1bWJuYWlsIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzg4ODtcclxuICAgIGhlaWdodDogNzBweDtcclxuICAgIG1hcmdpbi1yaWdodDogNHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIHBhZGRpbmc6IDJweDtcclxuICAgIHdpZHRoOiA3MHB4O1xyXG59XHJcblxyXG4udGh1bWJuYWlsOmhvdmVyIHsgYm9yZGVyOiBzb2xpZCAycHggI0Y5MDsgfVxyXG5cclxuXHJcbi5pbWcge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBoZWlnaHQ6IDcwcHg7XHJcbiAgXHJcbiAgICBtYXJnaW4tcmlnaHQ6IDRweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB3aWR0aDogNzBweDtcclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"thumbnail\" [style.border]=\"getBorderStyle()\" (click)=\"onSelected()\" (mouseover)=\"onMouseOver($event)\" (mouseout)=\"onMouseOut($event)\">\r\n    <img [src]=\"thumbnailToShow\"/>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.ts ***!
  \*************************************************************************************/
/*! exports provided: ThumbnailComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThumbnailComponent", function() { return ThumbnailComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_pssi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../models/pssi */ "./src/app/models/pssi.ts");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../services/dicom-image.service */ "./src/app/services/dicom-image.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ThumbnailComponent = /** @class */ (function () {
    function ThumbnailComponent(imageSelectorService, dicomImageService, worklistService) {
        var _this = this;
        this.imageSelectorService = imageSelectorService;
        this.dicomImageService = dicomImageService;
        this.worklistService = worklistService;
        this.selected = false;
        this.borderStyle = "1px solid #555";
        this.subscriptionImage = imageSelectorService.imageSelected$.subscribe(function (viewerImageData) { _this.doSelectImage(viewerImageData.image); });
        this.subscriptionImage = imageSelectorService.thumbnailSelected$.subscribe(function (image) { _this.doSelectImage(image); });
    }
    Object.defineProperty(ThumbnailComponent.prototype, "image", {
        get: function () {
            return this._image;
        },
        set: function (Image) {
            if (this._image !== Image) {
                this._image = Image;
                this.refreshImage();
            }
        },
        enumerable: true,
        configurable: true
    });
    ThumbnailComponent.prototype.ngOnInit = function () {
    };
    ThumbnailComponent.prototype.getBorderStyle = function () {
        return this.borderStyle;
    };
    ThumbnailComponent.prototype.doSelectImage = function (image) {
        this.selected = (this.image === image);
        this.borderStyle = this.selected ? "2px solid #F90" : "1px solid #555";
    };
    ThumbnailComponent.prototype.onSelected = function () {
        this.imageSelectorService.selectThumbnail(this.image);
    };
    ThumbnailComponent.prototype.onMouseOver = function (event) {
        this.borderStyle = "1px solid #F90";
    };
    ThumbnailComponent.prototype.onMouseOut = function (event) {
        this.borderStyle = this.selected ? "2px solid #F90" : "1px solid #555";
    };
    /*
    setSelectState(selected: boolean): void {
        var o = document.getElementById("thumbnail" + this.imageSop);
        if (o !== null) {
            o.style.color = selected ? 'red' : 'white';
        }
    }
  
    onClick() {
        this.setSelectState(true);
        this.imageSelectorService.selectImage(this.imageSop);
    }
    */
    ThumbnailComponent.prototype.refreshImage = function () {
        if (this._image !== null) {
            if (this.worklistService.isUsingLocalTestData()) {
                this.thumbnailToShow =
                    "data:image/jpeg;base64,Qk02RAAAAAAAADYEAAAoAAAAgAAAAIAAAAABAAgAAAAAAABAAAA5FwAAORcAAAAAAAAAAAAAAAAAAAEBAQACAgIAAwMDAAQEBAAFBQUABgYGAAcHBwAICAgACQkJAAoKCgALCwsADAwMAA0NDQAODg4ADw8PABAQEAAREREAEhISABMTEwAUFBQAFRUVABYWFgAXFxcAGBgYABkZGQAaGhoAGxsbABwcHAAdHR0AHh4eAB8fHwAgICAAISEhACIiIgAjIyMAJCQkACUlJQAmJiYAJycnACgoKAApKSkAKioqACsrKwAsLCwALS0tAC4uLgAvLy8AMDAwADExMQAyMjIAMzMzADQ0NAA1NTUANjY2ADc3NwA4ODgAOTk5ADo6OgA7OzsAPDw8AD09PQA+Pj4APz8/AEBAQABBQUEAQkJCAENDQwBEREQARUVFAEZGRgBHR0cASEhIAElJSQBKSkoAS0tLAExMTABNTU0ATk5OAE9PTwBQUFAAUVFRAFJSUgBTU1MAVFRUAFVVVQBWVlYAV1dXAFhYWABZWVkAWlpaAFtbWwBcXFwAXV1dAF5eXgBfX18AYGBgAGFhYQBiYmIAY2NjAGRkZABlZWUAZmZmAGdnZwBoaGgAaWlpAGpqagBra2sAbGxsAG1tbQBubm4Ab29vAHBwcABxcXEAcnJyAHNzcwB0dHQAdXV1AHZ2dgB3d3cAeHh4AHl5eQB6enoAe3t7AHx8fAB9fX0Afn5+AH9/fwCAgIAAgYGBAIKCggCDg4MAhISEAIWFhQCGhoYAh4eHAIiIiACJiYkAioqKAIuLiwCMjIwAjY2NAI6OjgCPj48AkJCQAJGRkQCSkpIAk5OTAJSUlACVlZUAlpaWAJeXlwCYmJgAmZmZAJqamgCbm5sAnJycAJ2dnQCenp4An5+fAKCgoAChoaEAoqKiAKOjowCkpKQApaWlAKampgCnp6cAqKioAKmpqQCqqqoAq6urAKysrACtra0Arq6uAK+vrwCwsLAAsbGxALKysgCzs7MAtLS0ALW1tQC2trYAt7e3ALi4uAC5ubkAurq6ALu7uwC8vLwAvb29AL6+vgC/v78AwMDAAMHBwQDCwsIAw8PDAMTExADFxcUAxsbGAMfHxwDIyMgAycnJAMrKygDLy8sAzMzMAM3NzQDOzs4Az8/PANDQ0ADR0dEA0tLSANPT0wDU1NQA1dXVANbW1gDX19cA2NjYANnZ2QDa2toA29vbANzc3ADd3d0A3t7eAN/f3wDg4OAA4eHhAOLi4gDj4+MA5OTkAOXl5QDm5uYA5+fnAOjo6ADp6ekA6urqAOvr6wDs7OwA7e3tAO7u7gDv7+8A8PDwAPHx8QDy8vIA8/PzAPT09AD19fUA9vb2APf39wD4+PgA+fn5APr6+gD7+/sA/Pz8AP39/QD+/v4A////AAgICAcHBwYGCQcSKDtLXWp6goydp7a4tba5vMDEx8rLysvMzc7Q0dTV1dXU09PU1tjZ2tra29vb29zb29vb297e3t/c3Nvb29zd397e393c3N3c3Nzb29vb2tnZ2dnVz87NzMvO0NDQzsvHw8G+urSys7KiloZ7bV9TSTomFwUECQkJCAgIBwgJCB0yR1lqdoeOm6u2xMXBw8fLzs/W2NrZ19Xb3uHi4uTk4+Hg4eDi5ufo6Onp6unp6ejo6enr7u7v7uzs7Ozs6+3u7e3u6+vr7Ovr6urq6urp6Ojo5+bi3tzc3eDg4N7c2NXSz8zIwr+8wbOklYZ7bGBURDEgDAUJCQgICAgHCQkQJzxPX257iJGfrbjFxcLEyMvOztXZ2tvY19zh5OPj4uTk4uDi4uPm5+fn6enp6ejo6Onp6evu7u7u7O7t7e3t7e7t7u3q6urr6urq6enq6ejo6Ojn5uXj4eLi4uHg3tvY1dLQzMnEwLrCt6eajIFzZlpKNyYVBggJCAgICAcKChwwQ1VkdH6NlaSwucXGxMXIzNDQ09na29zc3+Hj5OTi5OXj4+Pj5ebn5+fo6Onp6enp6uvq6+3t7ezs7ezt7u3t7e7v7Onp6urr6unp6urp6ejo5+fl5ePj4+Pi4eDe29nW1NHNysXBvMS4qqCQhnpwY1A/LRoLCAkICAgHCAoRKDhJWWp4go6bqrK5xMbIyMvO0NLU2Nna3N3f4eLj4+bl5OTl5eXm5+fn6Ofo6Onp6urq6uvr7O7t7Ozt7Ozt7Ozt7uzr6enp6urq6unq6eno6Ofn5ubl5OTk5OPi4N7b2djV0s/MyMLAxbqtpZaLf3ZoVkQ0IA8ICQkICAcJCRovO0xcbHmEj5+ss7jCx8rLzM7Q0tTW2Nna3d7g4eHi5OXj4ePl5ufn5+fn6Ojp6unp6urq6uvr6+zt7O3s7e3r7Ozt6+vp6erq6enq6erp6ejo5+fm5uXl5eXk4+Hf3dvZ19XTz83JxcTFuq+omo2BeWpaSTknEwgJCQgIBwkLIjNAT11veYWSo62zt8HIy83NztHT1NbY2Nrc3t/g4ODh5OPi4+Xl5ubn5+jo6erp6enq6unq6urr7Ozr7Ovs6+vq6uvr6urp6enp6urq6unp6Ojo5+fm5ebm5eTj4d/c29nY1dLQzsrGx8W5r6mekIR+bl1LPCoXCAkJCAgICQ8nNUJSX3F8h5WmrrO7wMjMzs7P0NLU1djX19ve3t/f3eDh4+Tk5eXk5efn5+jp6enp6urp6evq6urs7Ovs7Ozr6+vq6+vq6enp6enq6urq6uno6Ojn5+bm5ubl5OLg3tza2djV09DOysnKxrivrKCThn1xYE48KhgICQgIBwgJFyk4RlVhcnuJl6eutr6+x8zOz8/Q0dPV19fW2Nze39vd4OLk5OPk5OPk5ufo6Onp6Ojp6unp6urr6uzr7Ovs6+rr6+rr6+vq6uno6urp6urp6ejo6Ofn5ubm5uXj4d/e3NvZ19XTz83LysrGua+soZSFfHFhTzwqGQgJCAgICQocLDpLWGNyfYqZqK+7vr3Fy87Oz9DQ0tTW19fW2drZ2dvg4eHj5OTi4+Xn5+jn6Ono6Onp6enp7O3t7Ozr7Ovq6uvs6+vr6+nq6erp6erq6unp6Ojn5+bn5ubm5OLh393c2tnX1NLPzczMysW7sKmilIZ6bmBPOykYCAgICAgKChwtPExYZXN/jpyntL29usLKzc7P0NDR0tXW19jX1tfX2dzd3uLj4uLj5eXm5+fo6Ofn6Ojo6ens7O3s7Ozs7Ovr7O3u7uzq6erq6urq6urq6uno6Ofn5+fn5uTj4eDf3dzb2dfV0tDOzcvJwrqyp6CUhXVqXE04JxgICQgICAoKGyw6S1hnc32Pnai5vrm6v8bLzs/Q0NDR09PW19XU1dfZ2tze4OHi4+Tk5eXm5+fn5+fm5ufn6ezr6+3r6urp6uvs7ezt7Onp6urq6urr6unp6efn5+fn5+bl4+Lh4N7d3NrZ19XS0M/Oy8a+ubSmm4+CcGZXRzQjFggICAgICgkWJzdHVWNve5Cerbq7ubm6wMfLz9DQ0NHS09bX1tXV1tfZ297g4+Pk5OPk5OXm5+fm5+bl5ebo7Ovr7Ovp6enq6+zt6+vs6erq6urq6urq6eno5+fn5+fm5eTi4eDf3t3b2tnX1dPS0M7LxLu4sqeWjoNvX089LB4QCAgICAkKCQsgMD9NXmt8k56yu7e2t7i7w8rNz9DR0NDS09TU1tnb3N7f39/h4uLh4eLj4+Tl5ebm5eXl5Ons6+zr6unq6+rr7O3r7Ovp6erp6urp6enp6Ofn5+fn5ubk4+Lh4d/e3dzb2djX1NPSz8rCu7m1r52QgXFjTTwqGwoICAgICwoICRovPk1fa32UnbK6srCytbi/xsvMzc7P0tfX2NjX19ra297g5Obl4+Pj4+Pk5OXl5eTk4+Lk6uvs7Ovq6uvr6+vs7Ovs6ufo6enp6enp6Ojn5+fn5+jo5+fm5eTj4N7d3NrY2NbV09LOyMC7trWxo5GCcGJRPioZBwgICAgLCggJGTFBUF5qfpKbsbesrK6xtrq/xcnM0trYzcbEyMzR1NXS1Njc3+Tn6Ofk4+Tj5OTk4+Lh4uXq7Ozs7Ovr7Ovt6+zs7Ozp6Onp6enp6Ojo5+fo6uvr6ujm5eXk5OTk5OLf2tjX19XT0c3Fv7qzsrClkoRyZlNALRwICAgICgsKBwkYMkJRYGqCkJevtaKnqa+0tri/ytfXz8bDwL7BxMjQ0tPV297f4OLj5ujm4+Pj5OPk5OLi5urr7ezs6+zq6+3r7Ozs7ero6enp6enp6Ofp7Ovp5+bl5OPj4uDf3t3c3d/h3tnW1NLPysW/ubKvsqSThXVrV0MvIAsICAgLCwkHCBkyRFRhbYaRlrC4nKKnrbG0ucnUz8/Mx8PCwMC/wcrP0tbb3d/f3+Lj5Obp5OLj4+bm5eXn6evt7uzs7Ozt7e3t7e3q6+jo6enp6ejp7Ovo5+bm5eTi4uLg397d3Nva2tnc4N3V0czIxcC4sa6xpZKGdm1aRjIgEAgICQsKCAcHIDdJWWZziZKZsLyXn6qxucHRzsfN08/MysfHyMrN0tTW2dvd3t/f4OLj5OTn5+Pi4eHi4+fn6err6uvr6+vq6uvw8O3s6Ojo6Onp6+vo6Ofm5eTj4uLh4N/e3t7e3t7d3Nzb3N7Vz8zHwbmxrrGlkoZ2bVtJNSQVCAgKCwkIBwsnPU1caHeJlJquvJ+ltb3D08rIy87S0M3Ly8vMztTa29zc3N3e3t/g4eLj5OTl6OLk5eTj5+jo6+zs6+rr6+zs7Ozr6evo5+bm6ezo6Ofn5uTj4+Ph4eDg4OHh4eDf39/e3dzZ1tvWz83IwLOxrqCPhXVrWkc3JRcICQsLCQgHDSxBUFxreYiTmavCu6+6wNLIyMvNz9DSzs3NztHV2dvc3d7f3dzd3d7f4OLj4+Pj6OLi4eHn6Ojr6+rq6urq6+vp6enq6ufl5Ojq5+jn5+bk4+Pi4uDf4OHh4eHh4OHh4N/d3NrW09fWzcrIwb2xm42EdGpcRzcnGAgJCwoICAcOL0NSXWx6h5Oht8nIrrXOx8jKzM3P0NLT0tHT19va2tvb2trZ1dDNz9HW19rc3+Lh6OXg4ubo6uzs6urr6+rs7Orq6uro5OLn6OXn5+fm5OPj4uHh4OHh4eDg4eHh4eHg397b2dfV0dXTycjGx7+mkoN0ZlxGOCkaCAoLCQgHBxE1SFZgcHmPqba+zM23ucDDycvMzs/R0dPW2Nna2tnW0s/OzMrHx8K9vL7Ey9Pa39/h5+Lj5unq7Ozr7Orr6+vs6+zs6eji5ubk5ubm5ePj4+Lh4eHh4OHg4ODg4OHh4eDe3NrZ2NXTztTNxcfKwbCnmYBrYks+LR4ICgoICAcIHERTYG5/la62u8HL0MK9pLzIy8vP0NPS0dPW19ja2NTQzMvJycbCvrm4trvGy9rf3+Pm6Obm5+nr7Ozs6uvr6+rq7u/s5+bn4+Xl5eXj4uLh4ODh4ODg4N/g4ODg4ODf393c2tjX1dLPyNLFy8rBtKqlm4h1Xko8KwkKCQgIBxE/XWx4i5uosbi8wsvT0LSnq73Jys/P0dLR0NLT1tjZ1dHNy8nHw767ubm7wMXN3N7e4uPk5eTn6ezr6+rq6uvr6+rp6ebo6eHh4+Pj4+Hh4eDg4eDg39/f39/f4N/f397c3Nva2NbU0c7JxtLPy8G4r6ukm4t5YE46CQkICAgNNVJpfo2Zoq21vL7EzNjKvbapqrzMzs/Q0NDNz9DU19fV087NyMTAvr28vsXDytTa3N3e39/n5efo6urr6+vq6urp6Ojo6Ovi4eDg4OHg4ODf3+Dg39/e39/f39/f39/e29vb2trY1tLQzcrI0tbPwby0sKmgk4RwWkIJCAgICSVJYnWKmJynr7i9wMXQ28vEv7WursLMzc3NzMvM0NHV19XTzszIwL6+u7vDxsnP2tnb2trb3eDn5ujq6urq6+rq6eno5+fq5eDg3t7e3t3d3t/g39/g3t7e397e397e3dvZ2dra2tnW09DNzMzR3NDCv7ezraSZinlmTQgICAgSOFVvg5Kan6myub7Bx9fX0cjEv7i1tb/LysjKycjO0NHU1tLPy8bEv767v8fHy9ba2trZ2Nnc3eXl5+nr6urr6urp6Ojn5+ng393b3N7d3Nze3t7e39/d3t7e3t3e3dzb2tnZ2NnZ2NbU0c/P0NTZ1MTAuLawqJ6PgHBWCAgIByBHY3iMlp2jq7S7wMLK2tbSzMrGw767tLnBw8TEx8nPz9LT0M3MysjEw8TGycrQ2NvZ19jY2Nja4ejn6+vr6urp6ejo6Obp5N7d2trb3Nra3N3d3t7d3d3d3d7d3Nza2dnZ2dnY19fW1tXU0dHP1NfYx8K6t7OroZSGeF8HCAcKL1ZugZGaoKeut7zAxNLX2dPPzMvJxb2zqai3vb3BxcrNztDNzc3OysjKxsrO09XW2NfV1dfX19rd6Ojq6uvq6uro6Ojo6Orh3Nra2dvb2dvc29vc3N7d3dzc3Nva2tjY2NfY1tbV1dXV1dTSzc3U2NTOw7y5ta6jmIt8aAcIBhA+YniGkZ2lq7G5vsHG19Xb1c/OzczJwbWsopyntLm+xcvLzc7Oz9HQz83N0dPT09PV1tTT0tLT1dri6Ojp6enp6Ofm5uXo5d7b2NjY2dna2dra2tnb3Nvb3Nza2djX19jX1tbU1NTS1NPU1M7LztTY1NXEvLu3r6WbkINvCAcGF0trfoyVn6iutLq/wcvU1tzY0s7OzMrEubCooJaVoa+5wsjJyMrM0tTU09TU1NLR0dPU0NDNy83Q1d/p6Onp6Ojn5uXl5Onj3tnX19bW19jZ2djY2tza29ra29jW1tbW19bV1NPS0tHQ0NLOysvO09nW08m+vLixqJ6ViHMHBgUfV3CDkZqjqbC1u8DC0dDY3NrU0s7OyMS9s6uhmZCOiZqsusPCxMbIzdHR0tLR0MzHxsnExsS/wcXP2+fo6enp6ejn5uXm6uTf2NbV1dbW1dfW1tjZ2tnZ2NbW1NTV1dbW1dLS0NHQz87NyMXJy87T29jQz7+7ubKroJmPeAcGBSpedImVnaWqsbe8wcTVz9jc3dbW0MzHv7y5r6Wbk5CLiJqdqa2usrG5vsbJx8TCw8LAxcPGxsXDydDc4+fn6Ono6Obl5efn5ODa1tbW1dPT1dTW19jY19bV1NPT09TU1NPS0M7Nzs7PyLy+w8bKztbc2c7Tv7y6tK2jm5GABgUGM2F3jJeepauwuL3CydPR19ze2djSy8G9vLiyqqCYlpWKlZ6mqK2tqa+4uL7CxcbGyMnJx8jHycvK0drj6Ojo6Onn5uTk6OXj3dfU1dTT0tLW1dXW1tTT0tHR0dDQ0tHRz83LysvLysKysbrBxMrR2dzZz9LBvLu1rqWdk4AFBQg4YXqPmJ+lq7K3vcLP0NLX3d/c2tTMwbi4trGvqaGcl5OSmqepqrCwsrm8u73EycjMzdHPzMrNz8/R2ePp6Ojo6ejm4+To4eDa1tXV09XW1dTV1NPSzs7Nzs7OzM3PzMzKycfIyMa6qquwt73CytPb3NnQz8a+u7awpp6VggUFCzphfZCYoKatsri9w9XO0tfc3+Hd1c3BtaywsbS0qKGblpWdoa2qr7W0uL+8v8LGy87Q0tTV1NTU19jb4+rn6Ojp5uXj5Ojg393c2dnX19XT09TQzs/Ly8vKy8jIysnHxcXFxcbAsaCepayxu8PL1t3b2NDMy768tq+mn5eGBQUOO2J/kJmgp62yuL7F0szT19vf4t/WzMG1ra2usLGtpJyVl6Wlp6qvuLm6vsC/wsXHztDU1dTV19nb3d7k6+fo5+jm5OLk5uDf3dnV09PT0tDQ0MvLy8fHx8bHw8fHwcDBwcC/u6qcnJ2hp6+7xM3Y3tzX0crQv7y2sKegmYcFBRM6Y3+RmaCnrrK5v8bKzNPX2t/i4tnNwLaysK6ur66om5mXpqmqqK66vLq8wsHDxcbLztTV09TW1tna3uTq6Ojo5+bk4+Tl4N/d2NPR0M/PzMzPycjIw8LAvr/Cv7i3uLW3tK6goqGcnaGjrbrGzdve3NbSytXBvLaxqaCahwUFFzlif5CZoaevtLvAx8vN09fa3uLk3M7Du7azrqypoqeclZWlrK6vr7S+vrzBwsXFxsrM0NPS1dXV19rf5efp6Ojn5uTj5OPj49zX09DNysjHycvDwMK/urm3urexrK2pqqeel5mbmaCjo6atucXP397b1tPLzMG7uLOropuIBQUbOmF/kJqhqK+1u8LIzc7T19rd4uThzsS/urOspqCYl6GWlp6utre3ubzBvsHExcbHy8zQ0c/R09XY2d7m6eno6Ojn5eTk5eXk3dfUzcnFu7vBwLSzs7e3sbSspqCdmZaWkZKSi5CboKGnq6+4x9Th39nW08zEwby5tKyinIkFBx46YH6PmaGosLa9xMrOz9TX2t3i5OTTxsC7ta6hmpqRmJmYlai0tbe7vcHCwMTGxsnMzdDQ0NHS1NfZ3uXn5+bm5+Xj4eHi4uLe1dLNx7qmkaCln5+hp6GjnZSOgn6CiImQlo6Rj5aeoqits7nK2eDf2dbTzMXBvru2rqOciQQLIDpde46Zoaivt77Hy87P09fa3eHk5dfKwbq1qKKemJKPio6Ro6yxtLm+wcXDxcfGyczN0dLR0tPT1dji5ufn5+fo5+Xj4uPk497U0s3Gt6OMl4l3f4+ZjYuBdnp5iYKLkIuEhoyTkp+mqq+0vs7b4N7Y1tLNxsPAvLewpJ2KBBAiO1t5jJihqa+3v8fMz9DT1trd4OPl2s/Euq+spaCblpGNg4SgqrC0ur3BxcjHycfL0c3R0tTU09XW2OHl5+fn5+no5ePi4+Pk3tTTzMGzq5ePh29ufYeDgoB8hoJ+d35+fYWDipGXm6Sqs7vFztzf3dnW0s7IxsG9ubGlnYoEFCQ7WXaKmKGpsLi/x83Oz9LW2d3f4ubc0Me5saqloZiZlpCAfZGlr7S8wMLGy8vNy8vR0dLR09TW1tja4OXn5+fn6Ofk4uHh4+Lc1dDLwLCll4d/eIWMjYeSgoaFe3Z4eHF9gYmIjZKWpLG5wcfO3t7d2dbTzsjGw7+6s6adigcXJTpWc4eVn6mwuL/Gzc/P0tbZ3N7j5d3Qx72xq6SfnZKUmIJ2iayvsrq/wsXKzc7Ozs3R09HT09bX2Nrf5efn5ufo5+Ti4uPj39rSzMnCsqSdio+UkJKHk5N9fH14hoNucX6Ah4WHj5qmtb3EyM/d3N3Y1dPOx8bFwLu1p56KCxooOlRvhJSfqLC4wMbMz9DS1dnb3eLk4NLEvrWso52ZjomMiH17ma60tbvAxMjKz8zNz9LT0M/S1dTX2d/l5ubm5ujn5OPi4eHe2dLLyMG4r6iWmJ2Uk5GPhnN1gH9+cG56gH1/iYqSnqmzvsTJz93c3NfV0czIx8TAvLWnnYsQHCo7U2uBkZ2nrrjAxsrOz9LV2Nvd4uPg0sK5trGlnpmPh4OGh4KIpLK2uLvAxsjOzs7N0dbT0dPT1Njb4OXm5ufn5+bj4+Lh4N7Z1M/NyL6xqKChnpyRkol8fYSBfnR1doCEfICHkJujprG9xMfO3tzb1tTRzMfFw8G9tqidixMfLDxSaH6PnKavuMDFyc7P0tbY2tzh4+HOwrmzsaujmpSQi4qGgYSarrW5ubvCxszQz87S1NLU1tjY2tvh5ebm5+bn5uPi4uHh3tfSy8nIw7SrpZyaiYyJjJOTj3h2eYCAgnl7hoqVnKKor7vAx9De3NrV09HMxsXEwb21qZ2KFSEuPFBle4yapK63v8XJzc3R1dfa3ODk4c++t7Suramln5yTkoZ9e4+lsbm8u77BxszMzdHT0tPT1tbW2N7k5ufn5ufn5eTk5OPe1M/KycrJwbGkiYJ8gXh1hZiFc3V+foGAgImUlpWaoaWpr77H097d2NbT0MvFxMPBvbarnIgXIzA+UGJ3iZikrbe/xcnLzc/T1tnb4OTg07uyrq6tq6qkoZKPjIWBhpSgsbu8wMHFys3Lz9PV09TV1dXY3+Pn5+bl5ubj5OTj4NzVz8rIx8O/r6OGhId9d3d8fX15bn2CjIWFjJSXmpiZm56ovcnY3d3Y1dPPy8XEwsG9tqychxglMkBQYXSFlqKst7/FycvNz9PW2dzg4t7WvrGrqaqrp6CcmJKNjX1xhJyktLfAxsXKzMzO0dPR0tTU1dff5Obm5eXm5ePi4+Lh39bRzMXDvrWqnpeTjoB+foBxdYGChYSMkZOWlZSUlJSWnKa6zNzd29fV0c7JxMTBwb23rZ2HGiYzQU9fcIKToKu3vsXJy8zO0tbZ3ODi3tHIsaulpKGfnpuXl4+IgnRxk5+us7vCzMzLy83O0M7Q0tLV2N/k5ubm5+fn5eTj4eDd2NHKxcK7squklJSXgXx6dn5/hIWNi4iOioqMjo2RmJidpLXT297Z1tTRzcjCw8HBvbatnYccKDNCUV9uf5Ceqra+xcjKy87R1dnc3+Ddz868rqagnJiRlpGMj4mBgHaHnaixvL3ByMrKzMvOzs/Q0tTX3uPk5eXm5+bj4eLg393Y0czHwbmtqqSOlJF/eHuBhoV+iYJ/gIKFgYCEjZOXm5+jtdba3dfV1NDMx8LDwcC9tq2ehh4qNEJSX218jZuqtr7Ex8nKzNDV2Nrf39nOy8m1p5+TiYWJj46NjX6BgoCWrbe7vL2/xsfKyczOzs/Q0tbc4uTk5OXm5eLh4N/e3tjSzMa/tKijnpCRk4qIi4Z9gIuIfn5+fHV5goCKkZecoK3D1Nvb19XT0cvGw8PBwLy2raCFICs2QlFgbXuLmqm1vMPHx8nMz9TX2d3e18vJx8KrmYuGhISAhYWIi4iHioqksLq8urvAxMbGy83P0NDS19zi5eXl5ubl4uHg4N/b1tDKw7uypKChl5CfkpCGhISAhoOEeXR0dnmBgYqTl5yqvcXQ29nX1NPRysXEw8HAvLWsoYchLDdDUmFteomYqbS8wsXIycvP1NbY3N7Zx8fCvrSXj4ODfHl7eHJ3goiMhouitLq+wMDDxcTJzNDPz9DW3OHl5eXl5eXi4ODf3trWzsXBu7SuqaOYmqGVmY+Gf355eHdyeXd4eoGEgImZpri+xs3Z2dfU0tDKxcXCwcC7tayhiCMsN0VTYW16iZmps7rAxMbIys/T1tfa3tvGwr26r6qTjIZ7dXZ8cWlyfoaFfJKmtbi7v8PFycrMzs3O0dfc4eTk5OXl4+Hf393d29bQycTBurKnn5mkmYeWkH5xaG1vdHiAdXV7g3+EjZ6wt77EytjZ19PSz8zGxcPBv7u0q6CIJC02Q1NhbnqJm6qyusDDxMfJztTV19je28a8u7GuqaiThHpya3F0bm1tbXV5eZOqtre+v8LFy87Q0dLS1tvg4+Tk5OPi4N7e3d3b083FwL22tqedm6KbjYV4ZGpwbWpubnNydn6Bh5Cdpq20u8DD2dnX09HPzcfFwsC+u7SroIokLjdBUWFteoqeqrK6v8LDx8jP09XW197aybmtrqmmoaOSfHdvaWpudXBpZ3BvcZGot727xsXJzc3Ozs/V2t/j4+Pj4+Hf3t3c2tfSzMbBu7azpZyboKOUd3hoZmhjZWhoa3J4fIWQmZ2jqa+4tcHY2dbS0c/MycTCv766tKyhiyQuN0BPX256jqCrs7m/wMLGyM/S1NbW3dnPtaWjqKSemZmQe3JybXBub2xnaWRgaJWmtbi1usPKysrKy9LY3uDi4uHh39zc29vZ1c7MxcO/tKqZj5STm5F4c2llaGdrbGtxb3qHj5OWm6Snpamxwdja1NLQzsvLxMK+vLm0rKKNJy42P0xdbn+Uoauzur6/wsXKztHU1dbc19Ozpp2doZyWkZCPgnRzcmplZmVnZWNZZo+ksa6ut8LGxsbJ0dff4eLj4+Ph4N7c29rWzcrFw8CvoZmDjJaWjn5vZWhzb2tqb3R7gIqLkJacnpiYpLDC19vU0c/Ny8vGwb67ubOto44tMzU/SVlthZejrLS6vb/CxMzO0NPV1trX0rqonZmUlpOPkZKOgHd4b2ZjYVxWYGRfdZ6qrq2wub3Aw8bP193f4eDh4d/c29nY19bNxr++wquZiHZ/iIyBZmVnZ2ltbHJ4gIaIjoyMkpGNj5ehrcfW2tTRz8zLysbAvbq4tK6lkTI6Pj5JVG6HmKWutbm9vsHEzc7Q0tPX2dbMxK2emJCMjZGJioyKhH95bmtoYFlcYm9yhKKtrq6zt72+w8zU297f39/g3tvZ2NfX1MrDwLu7oYiCgIGFhnJnYF9dYWx1dnqCg4qLi4p/fYWMlqCszNLY1dHOzMvJyMC9ure0rqiVNz9DQkdWbYqapq60uby/wMfMzs/Q0tfY08rFtKCWjYyKh4mIgn2Af3t4enZxamhtc3p6kayxrK2zuL3AydHY3d7e39/d29nX1tbTysPBvK6cgYOGhoB0amBdY2hmcHV6en6AiImDe3l6goiWorPN0tfV0s7Ny8rJwby5t7SuqZY7Q0hIS1ptipynr7W6vb7Ayc3OztDR2NjQyMG/pZWNi4WBgYB9end3dXJycXFsXGFsdnBvkK+1sbK1usHJz9Xc3dzd3d3a19fX19HJwLu4rZqFj5KSf3ZzbGtobHJwbXFydXR2cnR7enx/iJWmwMbR1tTSz8zMysnEvLi2s6+pmD5GS0xVXm2Fnqmwtbq8vcDMzM7OztHY2c/CwL2zlo+LiIWAdHh6dW9tcHRxcXtzY15caG57lae1t7W5vsjQ1dzd293d3NrY19jV08rEvbeynYqXoaWMfWtqa3FuaWhmaGtjYWZucnV6foKGmLS+ws3V1NPOzc3Kyca8ubazr6qZQEdNV19haoKhq7K2uby9xMzMzs3N0dnYzry+uremj4uKgntwa2Zqa2hpamdtbmxsZ158iH+DnLi3tri/ydDW29zc3d7d2tjX19fVzsvCvLennJiWnX9nY2lvaWZiXV1XWVpdYmdudHqAiZKrtLe/xNXU1M7NzcvJyL66trOwq5pDS1RdY2VqgKStsre5u73HzMzOzMzR2dnPvLe2sa6ejoh+dmpiX2FgY2NlYGFgWWJtanmUjoqasry8vcHIz9Tb2tvc3dzY2NfX1tPOyb65sqycloyNfWFeY2NdWE5NTlFWWVpgaG50eoOTpa+xs7m/1NPUzMzMy8nIwbq1srCrmkpUWWBmZ2t+p66zt7i7vsnMzc7MzNHZ2NG8sbCxqqqfiHxxbGVhWFdSVFZfZGFdZ2hyeImLiY+ls7a4v8fM0dja2trb2tfW1dXT0crFurSupo19fnhpV1lgV1BRSkxOUltZWl1gY25/kqKprq6vsb3U09PLy8zLycnEu7ezsKybUltfYmdrbH6rrrO3ubzAy8zNzszN0djY1Lyxq6+qpaSYfHFuY1tXUlBRUFFcVlpjXm90eYSTkJWutLa+wsfN1tjZ2tvZ19fV1dPRysG3sKydgnZzclJFRU5PUFdMTU9WWV1fYWNsd46coKisrKivvtTS0srKy8rJyce8uLOvq5xXYWNkam1vh62xtLa5vcPMzc/PzM3Q1tnXvbKsqqyloJaNeGtjX15eXlZRUVdQT1dgbWZgdI6SkKmwtr/ExczT1dfZ2tjV1NPT0tHIvrOvqJN1bmVqXUdGUEtPT0dKTVJUV1pkcHyCjZadpaikqrC/1NPQycnLysnJyL65tK+rnFxlaGhrbnGYrrK1uLu+x83Nz8/Nzc/T2djCta6ppZ+TjY6KeWRcWlVTU1VQUVVKVmliVlBmdnqElqOuu8PGytDT1dfZ19TT09LUz8S7sKmjjHhxYlxkUVVcUlBKS1JUUlFgbHR5hoeHjJmanKOttMPT08zHycvKycjJwbu2sqycX2lqaWxye6avs7W5vL/Jzc7Qz83NztHX1s24r6mhjoyNjIqFfGpZUU9UUFFYVlNZbGZcXWyDfHyIlai2wMTKz9HT1NfY09LS0tTOv7Wsp6OKfHVlYWJUYGFRTU1RVFJaY2hwd4CFgISFgJOapK65y9LSysfIycrJycnCvLizrp1ia21sbnSOq6+ztbm8wMvOz9DPzc3N0NPV0cCxp52Hf4OEgHp0c3FjWVNTXVRLS05WXWqPkoN1c4SUp7O9wsjO0dHS1djU0dLT0c++sKqkmIR5a2VlbXdyW1dTV2NwcHJtcXNxcnR5dW93jpqksMPM087KxsfKysjIyca8ubSwnmhucG9wfJ2tr7O2urzCzc3P0M/NzczO0NXPzLWml4mAeXR6enF0e3RuaFtZT0xITkxGS2V1dnJweo6ms7vFyM/S0dLV19TS0tTU0Mazq6icfXFxZWp9emleZGVkZWNob3FzcGxvbGVmbHWKlqW3yMzTy8nFxsnKycfIx724tbGgcXNzcnKJpKyvs7e7v8XOzc7PzszMzM3P1M/LwqeVioB5cmpueXt8dG5lYVxQSkhKSUNMUFxmZmlwiaa1vcTIz9PR0dTX09LS0tDMxLespZF8dnFscoRvaWFmaV5gXmFmamxlYFhaYGZteIyXrMDGz9HKyMTEx8rIxsfHv7m2saF6e3d2eZinq7CzuL2/yM3Nz8/OzMvLy8/TzsnCtpuNfXdxbm1ubHBvamReYGFhW11gXWBgYWlobHiEqLW7wsjO09LR1NbT0tHQ0MrDuLCpkoV2cHZ1f3dwaWVnY2piYWFcWVxgXFteYWh5jJ+zvsbPz8rGxMPFycfGxcfAuLSwooGDfHuJo6itr7O5vsHMzMzOz83LysnKztPNyMCzqpiAd3BtaGZeX2JoY2ZmZWRdZWdnbHBubnJjZH+hs7vCyM/V09HS1NPRz87NysG7tqWMh3Z6h3dyZ2VnaWNiY1RQT05QWWJhZmRkaICZqK+6xs/PysXDwsTIyMXExsO4s6+ih4yHjJmiqa2vtbq+w83Mzc7PzMrJx8jN08/EvLCppJF6dXRuaWJcUFNbYWJdVFdiW15ufH15aFxqeZizvMPJz9TT0dLU0tHPzMfDurywkICCfXd0Xl5XUFZYVVVIREdMTVBTWF5ia2p3k52iqLbC0NDJxMPBwsbIxMTExbi0rp+MkZKan6aqrLC2u7/GzcvMz8/LyMfGx83S0cSyrKejoJSAdm5nYVhUUFJOSEpOWVpfXW99d3BiWWqGn7O8wsfM0dXS0tPR0NHNxMC+uKV8cXZ4cGZbUlNKSkRFQ0JHREhJTFZWXGNpeouXl5uiqsTQ0MjDwsDBxsjFwsLFu7SvoJCZmp6lqquusbi8vsrLy8zPzcnHxsbHy9LSxbGkoaGfk5CBcGVfWFRSTkhDQkJMR1dhaG9jVUtNX4Kbr7e9wsrR0tPU09HPzsvEv7mxmWlda4Z0W1RTTkVJRUNFQUNDRU1QUFlkc32FjJSVlJWpyNDQxcLBwMHGyMXBwcK+tLGilaChpaaorLCzuLzBy8nJy8/Mx8bFxsbI0tPIsKKbn52SkI+CcmRZVVFKRUNDRUVGTV5jXVZOQ0RXfZensLW/yc7Q0tTTzszJxsO9saN+U1RdfHFUU1tIRkZIR0ZBQURDRk5ZY219f4GNlJCNlavLz87DwsHAwMTJxsHAwL+4sqKXpKiqqqqssLO4vMbJyMnMzsrFxcTFxsfP0c6xoZ2Xlo+JgHx7dmxZTUlERUpKREVFSlJTVk5GSFd/laOstsLGztDS1NHNy8nGwr6wj29TUFBha1xOU0hERkVIRklJSk9TXWRtbnFzfYmKi5GardDNysLAv7++w8jGwb++vruypJimqaqura+xsri+x8jHyszNysXFys/Y09DR07WnnJeVhnh6eHx9cGxiW09SSkhGSUZJT0pSVU1HVH6VpbK+xMbO0NLU0c3LycfFu7aad1tZU1lZY0lKQ0VIRUVLSlBWX2BjZmZobGhmg4iNlKC8zs3EwMC+vr7Cx8bCwL29vLOkmKaprK2vsbO2ucDGxsfKzc7JxMXNxMTFz9LTxKqdmZeJcm50c3Jra2hpZl1WTk1ISUtGR0pOTE9biJyrtr/DxMvP0tPQy8nIxsG6sKSGaWthXVdjTElBRkpOU1pXV11fXVxiYVtZXGJ6ho2ZsMXLysC/v76+vMDGxsPBvr28taSXp6msrrCytbm8wsTExsvOzcjExMzCwcLK0NDQtaCakIZzb2liaWhna2deYFpdZ2JjYVZUX2pmZ22Inam0vb/DytDT08/MysfGwrmroot8fG5paG1sYVhSUFJVXFtXWlxcVFJPU1Zfa3iHk6m7xMvEvr69vb27vsbHw8G+vby3o5ilqKutsLK2ub3DxMPGy83Nx8TCzcrOxs/H0M7CsJuLhnlsa2JeXF5iZWJjW1pbXltaVlZebmpkaHiNoKu3vcPIzNDQy8TExcbAu6eeiXqFd29tbXRrX1dTUFBUYltWT05NS0xTWV9vgZSlsLjExsG8w83Qx7q+xsfEwL++vLaklKGkp6yws7W3vcLExcjLzc3GwsLBx8zIxMbMzsK3q5aHfW9oYmBfWFVSV1tXVFJaVlJXV11pZmh1c3SUoK+yvcXJztDLwcDCwr6yn5iLfoWEc2NiX15eXFpWU01JSUdJSkxNU1ZaZoGToqWtt8PFvsHBvL66xb3GycXCwL68uKiUoKOnq66ws7e9wcPGx8rOzsXCwMHAwL/CxMrLw7eoppeDb2VoZ19ZVUxJRkZKTlJRT1paZHN2a2BiYG6JnK2+xMnOz8rCwcLBv6yZjoZ4dnR4bmRbVFhQR0RBQEBDRUpLTU9WW2l/kJWeo6q1xMS8xLm3t7fFvsXIx8K9u7q4qqCioqaqra+yur/CxcfJy83OxcC/v7+/v8HDycrBtaiknJeDdXBoYFlUTURAQ0hDRUNCRVBcaF9TVFtjZHqTrr3DyM3PysPBwMC+o5aJd25dXGBlY1lOSkpBOz5AQERFRUxSWmlzeoKLk5ifo7nFxLu8wsDCv7+/xcfEvru/wL6ws7yuqK2vsri7vL/CxszLy83Fv728vb2+wMHIycSup6Sak4+LgW9eV05NSURGREFHQ0NHWmh4X1VVWWtqf56wvsbJzczGwb/AwbugmY5/c19aWVxmZV1QS0dAOz0/QktNV2VrcXF3fYSJjJiqwcXEure6wsO7uMLFxr+9wb67uqumtsLFwLy4u7u9v7/Ex8vLy8a/vLu8u7y9v8bIybGnnpaTk4qCenZoWFBJRURFQkNBQEZYYmVfXl9ieX6arbTDyMnLycPAv8HGuqumlYh/Y15ZYmRnZmdaU0VDRktQWFtbXmRlbnZ7eoKNmqvHx8O6tre3uLi7w8XEv8O9uri4qaGys7S4ubq+vsHEw8DDx8rKxr67u7y7u7q9w8jKuaqbkZCPiH5xaWlmYlxUUlNJSUhMWmJhYmZvc3+IjJ2qsr/FycrGwb28wMO4r6yqmJB3b2JdYWZrcG9dVU5SUlFTVVdWWGFlb3l+gpCgtMTEwb+7ubm7u8HIxsTCxLy5t7SopqiprrKys7e7vcHGxMLGycvGwLq7vLu7uru+yMfFrZ6XjoZ+dGlkZF5cWVVZWFNZZWpvcnVvbW53g46VnqmvvsjKzcjDwr/Aw7WsqKqflYl8cWxqdXh0cl5VTExPUU9QTElNUV9seoSNlqrDwcG6uL3Av76+xsfDw8bHura0sKifp6apsLGxtri7vsPHxcXIzMvBu7q6urm5ub3CyMe3pZ2RhXprW1ZWV1lZWF9UUVRbamxxbWppYXeFiIeQpbO9w8bGv7m7vb7DsqqjoqCflH5wamlzdGxsXFdRTElGRENFSEtUXGyAipejv8LCvr/Av8HExsjLyMbFycu3srGyppmkqKmsr7C0uLm9wMPNx8jJzMi+u7i4t7i7vbu/wsSyoJKIemRcVlFPTE5PVVFSV19kZ3BpaGBmen9/g4uXobjAxcK6tbW3uruspZqXlpmci3xsamx0bmFZUVBFRENFRUZKTFNYcIaRprvBwLu5ubq9xMfL0dDMyMfHybyusKyimKGkpqutrLO0trm9v9DLy8fHyMG8ubq9vLe0tLa/wcGwmIt2ZVxVUE9PTExNTUlOVVddYl1gaHFveH+DiJSkt7/GxMO9uLq7uqOXl4+KhIV+fndoaGVhV09KTElFRUdIS01RVlxxk6W3wL23srGwrqyptcS+vMHGxMPFwbOpp5qTn6KjpamrsLKztbjDzsrJyczO0czJxsG6trW1tbS+wLqqlnNjXVhVUk5MTVBPTk9QVVlYYGtqcWtscniCmai4vcPCwcC5t7m4oZiRjIJ6cm1qZmZubWhhVlFNSkdGSEtOU1Vdb4eer769trGuqqimn562trOytL3CwMDCu6yilJKcn6CkpKaurrCxt8jKw8DBwsTKzr+7vcG8ure2tLG8vbOfh3BhWFhUUldTUlJPUFVWZnBnYmRiZGVsdH+gsrzAw8C/v7a2ubumoJqKeXZwaWFfXmFyeXdsYFZPTUVITVVeaHN6iaS7vLewraqnoZqcsrm3sa+usrnBv7y7tbCkjZmcn6Gip6amrbK+xsO9u7y+w8fIxLCpoqKjpauurLO3uauMdnFqYVlUVVdVVVNXanl9bGBgYWJkaGt0ka25vcHCvb+/tLW8v66rqI17dW5oYVxeXmZzfYB6cmhaU1VeZm1udHuSrrq2s6qpppyUlqaurauzr62tsbnBurTBsZaJk5aZnqKipKOnuMC/vbm4uMDBvbm+rpuVmZqboKWprbCwt5p+cWhpamVkW1hjc4CCfHFiXl1eZWx2fIycrLi7wcG8vb6zsrq4rq6rn457bWhkW1tdYG56g4WEhod+bmZobHJ3gpm3tLKrpKGZj42Sqqyxra6wqaqtsLi5ssG/roOPkpecnJ2goa65u725tbW5vb+5uLSmn42Nj5KZn6Kmrq+wqol5bWhkZWx8jI+Oh4KCdG5ub292eYaOkZqsuLnBwb6+vLi2u7esqaminpmPhoR7dnZzeH+FjYyLjY+NgndubniNrLGwraCalJCKiIqhqa+0sK2fmZ+lqbezu6+qfIiOk5SXmZuqtbS2ubGysra3vr23rKaeiYmKiouUmpyirKyumHxxbHCAjpGNioaDgXxycW5xd3uEj4+Mlqq1trm6raqrqa6zt7GknJuUi3lubmBhaHJ7hYyNjIqMjY+SlJCFh6SurauclY2MhoSDhIyepK+klJCQkZuhprK+uaF3fIGKlJuirK+vsLawrKqrqKant6+qooqDgoKChYmPl5mirKeklICIkpOPioeKiYuIfXl2c3FqY2NiaXGLnai3ubmwrrCur7K0sKGSjIN9cmZhWFNSUlZld4WPj46Mj4+Vn6m2s66ml5KMiYd/fn1/g4iJi4iIiomJiZWcnKGknHKAh5CYoKSnqauvsaioqKWilpKUmJSLgX17e3yAhoiMk5ekqqq0sKOXko6Li4qGgnRgWFROUFRQUWBmd5Weq7y6urO8t7Cwsbavo52OfXFmamRYUEpISElVX2d1h5abmJiktrm9u6+jlYqFfXp4enl9gIKCgICDg4KCgIuWl5SGX32IkJqbnqSoqayjo6GhnJGOi4qKiYR8d3Z2d3p/hIaNm6u5vLi2qJuanJeLfG1eSkhFRUNERUdPXWuBnqSvvru8uLu6s7KxubCkoJSEa2FZVk9JSElIS1RnaGpqcX+VqrS2tK6xr7CxsauimI+Oh356ent6eXt7eXZ1cnmNjoJebnyKk5idoaKfm5qanJOMiYaDhISCf3l2dXRzeIaWpq+xsLGws7S2rZuOfnFuaVpJRkRGRkVJUFlkdZGfqbW+vbm7trqwsLa/t6ygl4NzaF5WUE5QT09OWGxqanB8gYyapaeoqaqopaKfoJ+go6KfnI+Ce3Zyc3R1dHNxa26CfF9ocnmBhoqMj5GVlop+fn59fHx8fXt8hY6XoaWqqaano6Kmq6erraSeloyCeXN0X1BOTU1RUFNYYnmQnKSrs7q+uLWytayuury2s6ynmoR0ZFlRUFFXWFhkd3R6hoaNmZaLhYWKkpujoZ6al5OTmZmZnJyXkYyKhYB5cWtlYGZvW2NscHd8f4WOioB3c3VycnF1dXd/jJifo6CamJeWl5uho6CXjIWIlZWVm5uMf3xrVlVWW1pda32LkJafoKeyvb+5trmxrrC6wLetr6mlnpN+alpaXGFobISJhYuUk5SKgX57enl1bWdweYWPlpOPkJCSlJGPioaDe3NtZWJfXVZDWV9kbXR3e3hjaW93go2TlpiXmp2ZlZORkJCPkZaVkIJ6c3Z7e32BjZCQmZuYlIxxbG9yenh3gZCVlZmmq7S1trGmr6WkrbO9vbStqKmloJOHgoB+enWAk5GVnp2MgHx7eHZ1b2ZdWFZVVVZbZ3J6gYiPkZGOh3luaWRhW1ZUTC0/UFNWXGFiYV1nbG51eHuAhoqMkI+Ki42Qko+EcmJYV1xianB0dnl6goyPmpiZmYNubXFzb3GAi4aQoKutsbO2rJ2VlJujrLW6urevqamnlIB8fYGDip6gnpyWgX55eHRwamVeW1lWVFRSUVFRUE9NS01PUVZcaXRyXVdTSURAIisyQUtTW21fVV5mZ2pyf4ySkpOSjod/dGdbU1FSUVJTVVhdYGVrb3FzdoGQmJecn4l3enp2eHt9jpylqrG2tratpJ2do6asuby5tbKxrKummpKVmp+moZeUlYF4dHJvZ2BdW1tcWVRTUU9NTEpIR0VBPz4+PTw9PkJJQkE2MSwcISYrMTY/e2NudWtncnZvbGNdV1BNTExMTEtMTE5PUVFTVlhYWl5jZmlscHeLjpCTmJGBgH52hZGepKaqsbe1tLGnqqSlqKy3vbixrrGysKWgo6OhoJqWlZWCd3NuaGFeXVpZWVlVU09MSUdEQj89Ojc1NDEwLy0wMSwqKCUjHxQaHiImKCtdWVpgbGBFQkRBQEFAP0BBQkNEREZHSkxQUVFRVVhYXF5hZGVobXiKi4uNlZaQjJCYnqKipKu0u7i3tLCrq62usbvAvLWurq2qo6Kgn52alZaVhXZva2ljXFhZWlpbV1BMSENAPjs4NjMxLSonJCMiIiQkIBwaGhoXBw0UGx4gIiM/S1BTYDQ4NjAxMTEzNjg5Ozw8PkFERkpNUVJSU1VWWFpeYmdrbnWIi4uRlZeXm52foKeqrLC3vLy2ubK3sa+0wL62s7Csq6mmo5+dnZiUk4J2cG5pYl9ZVlZaWVNOSUM+OjY0MC0rJyQiIB4aGBcVDQkMEBESEhAGBwcJDhUZGxwbGykvICQhISIjJCcrLS8wMzU2OTw+QUVITFBSUVJTU1ZfY2hnanCFi4yRlZaYm6Kjo6WnrLjCwLzBtruztbnEwraxsK2ooqCgn56cl5KCenFsZmBbVVZWVlJPTEVBOzUwLCklIR8dHBoZFxURCwYGBgYGBwcHBgcHBwcHBwgKDA0MDAsJCQ4UFxocHiAiIyUpKiwvMzU4PEBDR0tOTk5OUldcYWRlaG6GjZGTl5ycmJygo6ewuLy7uMC/wraztb2+urKvraeioKCcm5iYiIF4cGdeWFNQUVBOSkVBOjYwKiUhHhwaGBcVFBENCgcGBgYGBgYGBgYFBgcHBwcHBwcHCAcHBwcHBwgNEhUYGRocHR4gISQoKy8zNjs/QkVHSk1OUFVZX2JmbHeJkpKVmpmanKGnq6uzuLWvqLetpKqyu7u3tbOuqKSkpZqZlY2IgXdvZFlRTUxIR0VBPDUvKiQfHBoYFhQSDgsIBwcGBgcGBgYHBgcGBwYGBwcHBwcHBwgICAgICAgICAgICAsPExYXGBkaHB4gIygsMDQ3Oj9DRkdJTVNYX2Zqc3yHjo6cm5udpKSkq7K2uLOooJ+nrrO7vrixrq+sqqilmZWPjIl/c2xhVkxIRD87OjUvKCMgHBkXFRIOCgcHBwcHBwcHBwcHBwcHBgYGBgYHBwcHBwcHBwgHBwcHBwcICAgHBwcHCQwPEhUWGBkcHSElKS0xNjs9QURHTlVcY2tye4CGipebnZyZnaWptLW1tK2tq6mrsbu8vrauqKOjoZ6XlZCOiH1xaFxQSUE7NS8rKSYgHBoXExAMCAcHBwcHBwYGBgYGBgYGBgYGBgYFBwcHBwcHBwcHBwcHBwcHBwcHBwgICAcHBwgICgwQExYYGhwfIigtMDU5PUJFTVZeZ295f4OHjJKTlJihpq+1tLW0s7Gura6zvL2/s62no6CdnJeUkIyGem9lV0tBODAnIyEhHhoXEw4KCAcHBwcGBgYGBgYGBgYGBgYGBgYGBgUHBwcHBwcICAcICAgHBwcHBwcHBwgICAgICAcHCAcJDBAUFxkcHyIlKzA2Oj9FT1hja3d+g4aLkJOTlp6ip7W5tbW5srGvrLW+wbqup6Ojn52alZGNiYJ3bWJTQzcqJCAbGhkXEwwJCAgIBwcHBwcHBgcHBwcHBgYGBgYGBgYGBQcICAgICAgICAgICAgHBwcICAcHBwcHCAgICAgICAgICAkOExYYGh0fJiwxNj5HU11pcnp/g4eNkJKWmp6krbS4uLy3trCsub27tK2mpKGempaTj4yHfnVrXUo2KSEdGBUTDwwJCAgICAcHBwcHBwcHBwcHBwcHBgYGBgYGBgYGBwgICAgICAgICAgICAgICAcICAcIBwcHBwcHBwcHBwgHBwgJCw0QExgdICYrMzxLV2VsdHmBg4mLj5SYnaWrrbK2vsC9sqy1ube2s6uln5qYlZGNiIF5cWdXPSkhGhMOCggICAkICAcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwYHCAgICAgICAgICAgICAgICAgICAgICAgICAcHBwcHBwcHCAgICAcIDBMYHB8mM0BSXWVudXuBhoqLjpeiqK6wrrC5u7Snp7O5vbm0sKmempWSjomDeXFoXk41IBILCAcHCAkICAcHBwcHBwgIBwcHBwcHBwcHBwcHBwcHBwcHBgcICAgICAgICAgICAgICAgICAgICAcICAgIBwcHBwcHBwcHCAgICAcICAsRFRomNUpSXmNudX2BiIqOlKSmrbSysrWyqKast7q9wLmxp52YkoyJg3xxZ11TRScMCQkIBwcHCAcHBwcHBwcHCAgHBwcHBwcHBwcHBwcHBwcHBwcGBgcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwYGBgYGBwcHBwgHBwgKERksPklTWmNrcXd9goeKm6WsqqeoqrCupKuvr7G1rKSakYyHgX12bWJYTj4yEQgJCQcGBQYGBgYHBwcHBwc9SwsHBwYGBwcGBgYGBgYGBgYGBgU=";
            }
            else {
                this.getImageFromService(this._image);
            }
        }
    };
    ThumbnailComponent.prototype.createImageFromBlob = function (image) {
        var _this = this;
        var reader = new FileReader();
        reader.addEventListener("load", function () {
            _this.thumbnailToShow = reader.result;
        }, false);
        if (image) {
            reader.readAsDataURL(image);
        }
    };
    ThumbnailComponent.prototype.getImageFromService = function (image) {
        var _this = this;
        if (image === null) {
            return;
        }
        this.isImageLoading = true;
        this.dicomImageService.getThumbnailFile(image).subscribe(function (data) {
            _this.createImageFromBlob(data);
            _this.isImageLoading = false;
        }, function (error) {
            _this.isImageLoading = false;
            console.log(error);
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _models_pssi__WEBPACK_IMPORTED_MODULE_1__["Image"]),
        __metadata("design:paramtypes", [_models_pssi__WEBPACK_IMPORTED_MODULE_1__["Image"]])
    ], ThumbnailComponent.prototype, "image", null);
    ThumbnailComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-thumbnail",
            template: __webpack_require__(/*! ./thumbnail.component.html */ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.html"),
            styles: [__webpack_require__(/*! ./thumbnail.component.css */ "./src/app/components/viewer-shell/navigation/thumbnail/thumbnail.component.css")]
        }),
        __metadata("design:paramtypes", [_services_image_selector_service__WEBPACK_IMPORTED_MODULE_3__["ImageSelectorService"],
            _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_4__["DicomImageService"],
            _services_worklist_service__WEBPACK_IMPORTED_MODULE_2__["WorklistService"]])
    ], ThumbnailComponent);
    return ThumbnailComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.css ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".saveImage {\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 60px;\r\n}\r\n\r\n.prevGroup, .nextGroup {\r\n    border: none;\r\n    height: 34px;\r\n    outline: none;\r\n    width: 34px;\r\n}\r\n\r\n.saveImage { background: url('Save_60_40_All.png') no-repeat left top; }\r\n\r\n.saveImage:hover { background: url('Save_60_40_All.png') no-repeat right top; }\r\n\r\n.saveImage:active { background: url('Save_60_40_All.png') no-repeat left bottom; }\r\n\r\n.saveImage:disabled { background: url('Save_60_40_All.png') no-repeat right bottom; }\r\n\r\n.prevGroup { background: url('left_all.png') no-repeat left top; }\r\n\r\n.prevGroup:hover { background: url('left_all.png') no-repeat right top; }\r\n\r\n.prevGroup:active { background: url('left_all.png') no-repeat right bottom; }\r\n\r\n.prevGroup:disabled { background: url('left_all.png') no-repeat left bottom; }\r\n\r\n.nextGroup { background: url('right_all.png') no-repeat left top; }\r\n\r\n.nextGroup:hover { background: url('right_all.png') no-repeat right top; }\r\n\r\n.nextGroup:active { background: url('right_all.png') no-repeat right bottom; }\r\n\r\n.nextGroup:disabled { background: url('right_all.png') no-repeat left bottom; }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLWJvdHRvbWJhci92aWV3ZXItYm90dG9tYmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWE7SUFDYixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWE7SUFDYixXQUFXO0FBQ2Y7O0FBRUEsYUFBYSx3REFBb0YsRUFBRTs7QUFDbkcsbUJBQW1CLHlEQUFxRixFQUFFOztBQUMxRyxvQkFBb0IsMkRBQXVGLEVBQUU7O0FBQzdHLHNCQUFzQiw0REFBd0YsRUFBRTs7QUFFaEgsYUFBYSxrREFBOEUsRUFBRTs7QUFDN0YsbUJBQW1CLG1EQUErRSxFQUFFOztBQUNwRyxvQkFBb0Isc0RBQWtGLEVBQUU7O0FBQ3hHLHNCQUFzQixxREFBaUYsRUFBRTs7QUFFekcsYUFBYSxtREFBK0UsRUFBRTs7QUFDOUYsbUJBQW1CLG9EQUFnRixFQUFFOztBQUNyRyxvQkFBb0IsdURBQW1GLEVBQUU7O0FBQ3pHLHNCQUFzQixzREFBa0YsRUFBRSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdmlld2VyLXNoZWxsL3ZpZXdlci1ib3R0b21iYXIvdmlld2VyLWJvdHRvbWJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNhdmVJbWFnZSB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDYwcHg7XHJcbn1cclxuXHJcbi5wcmV2R3JvdXAsIC5uZXh0R3JvdXAge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiAzNHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiAzNHB4O1xyXG59XHJcblxyXG4uc2F2ZUltYWdlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1NhdmVfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcbi5zYXZlSW1hZ2U6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vU2F2ZV82MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyB9XHJcbi5zYXZlSW1hZ2U6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1NhdmVfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcbi5zYXZlSW1hZ2U6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vU2F2ZV82MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4ucHJldkdyb3VwIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2xlZnRfYWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcbi5wcmV2R3JvdXA6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vbGVmdF9hbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyB9XHJcbi5wcmV2R3JvdXA6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2xlZnRfYWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG4ucHJldkdyb3VwOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2xlZnRfYWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4ubmV4dEdyb3VwIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JpZ2h0X2FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG4ubmV4dEdyb3VwOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JpZ2h0X2FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuLm5leHRHcm91cDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vcmlnaHRfYWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG4ubmV4dEdyb3VwOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JpZ2h0X2FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfSJdfQ== */"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<table>\r\n    <tr>\r\n        <td>\r\n            <button class=\"prevGroup\" role=\"button\" title=\"Previous Group\" (click)=\"onNavigateGroup(-1)\" [disabled]=\"disablePrev\"></button>\r\n        </td>\r\n        <td>\r\n            {{getGroupStatus()}}\r\n        </td>\r\n        <td>\r\n            <button class=\"nextGroup\" role=\"button\" title=\"Next Group\" (click)=\"onNavigateGroup(1)\" [disabled]=\"disableNext\"></button>\r\n        </td>\r\n        \r\n        <td>\r\n            <button class=\"saveImage\" role=\"button\" title=\"Save Image\" (click)=\"onSaveImage()\"></button>\r\n        </td>\r\n    </tr>\r\n</table>"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.ts ***!
  \****************************************************************************************/
/*! exports provided: ViewerBottombarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerBottombarComponent", function() { return ViewerBottombarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ViewerBottombarComponent = /** @class */ (function () {
    function ViewerBottombarComponent() {
        this.save = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.navigateGroup = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.pageIndex = 0;
        this.disablePrev = true;
        this.disableNext = true;
    }
    ViewerBottombarComponent.prototype.ngOnInit = function () {
    };
    ViewerBottombarComponent.prototype.onSaveImage = function () {
        this.save.emit(0);
    };
    ViewerBottombarComponent.prototype.onNavigateGroup = function (delta) {
        this.navigateGroup.emit(delta);
    };
    ViewerBottombarComponent.prototype.getGroupStatus = function () {
        this.disablePrev = this.pageIndex === 0;
        this.disableNext = this.pageIndex === this.pageCount - 1;
        return this.pageIndex + 1 + "/" + this.pageCount;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], ViewerBottombarComponent.prototype, "save", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], ViewerBottombarComponent.prototype, "navigateGroup", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], ViewerBottombarComponent.prototype, "pageIndex", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], ViewerBottombarComponent.prototype, "pageCount", void 0);
    ViewerBottombarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-viewer-bottombar',
            template: __webpack_require__(/*! ./viewer-bottombar.component.html */ "./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.html"),
            styles: [__webpack_require__(/*! ./viewer-bottombar.component.css */ "./src/app/components/viewer-shell/viewer-bottombar/viewer-bottombar.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], ViewerBottombarComponent);
    return ViewerBottombarComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-shell.component.css":
/*!********************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-shell.component.css ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".DivToolbar {\r\n    background-color: black;\r\n    color: #F5F5F5;\r\n    display: block;\r\n    height: 40px;\r\n    margin: 0 auto;\r\n    padding: 12px 12px 12px 12px;\r\n    width: 100%;\r\n}\r\n\r\n.DivViewerBack {\r\n    background-color: black;\r\n    color: #F5F5F5;\r\n    display: flex;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    padding: 1px;\r\n    width: 100%;\r\n}\r\n\r\n.DivOperationBar {\r\n    background-color: black;\r\n   \r\n    bottom: 0;\r\n    color: #F5F5F5;\r\n    display: block;\r\n    height: 40px;\r\n    margin: 2px auto;\r\n    position: fixed;\r\n    width: 100%;\r\n}\r\n\r\n/*#DivLeft\r\n{\r\n  display:block;\r\n  float:left;\r\n  width:200px;\r\n  margin:0 auto;\r\n  height: 650px;\r\n  padding: 12px 12px 12px 16px;\r\n  border-bottom: solid 4px #FFFFFF;\r\n  border-right: solid 4px #FFFFFF;\r\n  background-color: #000000;\r\n  color: #F5F5F5;\r\n}\r\n\r\n#DivRight\r\n{\r\n  display:block;\r\n  float:left;\r\n  width:744px;\r\n  margin:0 auto;\r\n  height: 650px;\r\n  padding: 12px 12px 12px 16px;\r\n  border-bottom: solid 4px #FFFFFF;\r\n  background-color: #000000;\r\n  color: #F5F5F5;\r\n}*/\r\n\r\n#divContainer {\r\n    bottom: 0px;\r\n    left: 0px;\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 40px;\r\n    border-bottom: 2px solid #666;\r\n}\r\n\r\n#panelStudyDash {\r\n    background-color: #808080;\r\n    border: none;\r\n    margin: 0px;\r\n    padding: 5px 10px;\r\n    visibility: visible;\r\n}\r\n\r\n#panelStudyDash button {\r\n    border: none;\r\n    height: 30px;\r\n    outline: none;\r\n    width: 100px;\r\n}\r\n\r\n#panelStudyDash .save-query {\r\n    cursor: pointer;\r\n    float: right;\r\n}\r\n\r\n#panelStudyDash .checkbox {\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n}\r\n\r\n#panelStudyDash #statusLabel { margin: 0px; }\r\n\r\n#divStudies {\r\n    margin-bottom: 0px;\r\n    min-height: 200px;\r\n    position: static;\r\n    width: 100%;\r\n}\r\n\r\n/*#divStudies::-webkit-scrollbar{\r\n    width:16px;\r\n    background-color:black;\r\n}\r\n\r\n#divStudies::-webkit-scrollbar-thumb{\r\n    background-color:#535353;\r\n    border-radius: 10px;\r\n}*/\r\n\r\n@media (min-width: 768px) {    \r\n    #panelStudyDash .checkbox { top: -2px; }\r\n\r\n    #panelStudyDash .checkbox label input { top: 2px; }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n    #divStudies {\r\n        border: none;\r\n        left: 1px;\r\n        position: absolute;\r\n        right: 1px;\r\n        top: 42px;\r\n        visibility: visible;\r\n    }\r\n\r\n    #panelStudyDash {\r\n        left: 1px;\r\n        padding: 5px 2px;\r\n        position: absolute;\r\n        right: 1px;\r\n        visibility: visible;\r\n    }\r\n\r\n    #panelStudyDash .form-group, .checkbox, button {\r\n        display: inline-block;\r\n        margin: 0px;\r\n    }\r\n\r\n    #panelStudyDash #statusLabel { display: none; }\r\n\r\n    #panelStudyDash .save-query { display: none; }\r\n\r\n    #panelStudyDash .checkbox {\r\n        margin-left: 5px;\r\n        margin-right: 5px;\r\n        top: -10px;\r\n    }\r\n\r\n    .sp_panel-container, .sp_panel-left, .sp_panel-right {\r\n        visibility: hidden;\r\n        z-index: 0;\r\n    }\r\n}\r\n\r\n#queryTree .node-queryTree { padding: 2px 2px; }\r\n\r\n.query { background: url('Query_All.png') no-repeat left top; }\r\n\r\n.query:active { background: url('Query_All.png') no-repeat right top; }\r\n\r\n.queryClear { background: url('ClearCondition_All.png') no-repeat left top; }\r\n\r\n.queryClear:active { background: url('ClearCondition_All.png') no-repeat right top; }\r\n\r\n/* horizontal panel*/\r\n\r\n.sp_panel-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    overflow: hidden;\r\n    /* avoid browser level touch actions */\r\n    /*xtouch-action: none;*/\r\n}\r\n\r\n.sp_panel-left {\r\n    -ms-overflow-style: none;\r\n    /*min-width: 1px;*/\r\n    /*white-space: nowrap;*/\r\n    background: #07090c;\r\n    display: flex;\r\n    flex: 0 0 auto;\r\n    flex-direction: column;\r\n    min-height: 200px;\r\n    overflow: -moz-hidden-unscrollable;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    /* only manually resize */\r\n    padding: 6px;\r\n    width: 200px;\r\n    /*color: white;*/\r\n}\r\n\r\n.sp_panel-left::-webkit-scrollbar { display: none; }\r\n\r\n.sp_splitter {\r\n    background: url('split_vertical_collapse.jpg') center center no-repeat #535353;\r\n    cursor: pointer;\r\n    flex: 0 0 auto;\r\n    min-height: 200px;\r\n    width: 8px;\r\n}\r\n\r\n.sp_panel-right {\r\n    background: black;\r\n    flex: 1 1 auto;\r\n    min-height: 200px;\r\n    min-width: 200px;\r\n    /* resizable */\r\n    padding-bottom: 80px;\r\n    width: 100%;\r\n}\r\n\r\n/* vertical panel */\r\n\r\n.sp_panel-container-vertical {\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n}\r\n\r\n.sp_panel-top {\r\n    flex: 0 0 auto;\r\n    /* only manually resize */\r\n    /*padding: 10px;*/\r\n    height: 70%;\r\n    min-height: 300px;\r\n    overflow-y: auto;\r\n    width: 100%;\r\n    /*white-space: nowrap;\r\n  background: #838383;\r\n  color: white;*/\r\n    z-index: 0;\r\n}\r\n\r\n.sp_splitter-horizontal {\r\n    background: url('split_horizontal_collapse.jpg') center center no-repeat #535353;\r\n    cursor: pointer;\r\n    flex: 0 0 auto;\r\n    height: 8px;\r\n    z-index: 2;\r\n}\r\n\r\n.sp_panel-bottom {\r\n    flex: 1 1 auto;\r\n    /* resizable */\r\n    /*padding: 10px;*/\r\n    min-height: 200px;\r\n    overflow-y: auto;\r\n    /*background: #eee;*/\r\n    z-index: 1;\r\n}\r\n\r\n.navbar-right { padding-right: 10px; }\r\n\r\n.sp_panel-right .table { white-space: nowrap; }\r\n\r\n#trStudiesHeader a { color: black; }\r\n\r\n#trSeriesHeader a { color: black; }\r\n\r\n#trStudiesQuery input[type=text] {\r\n    vertical-align: middle;\r\n    width: 100%;\r\n}\r\n\r\n#trStudiesQuery select { width: 100%; }\r\n\r\n#trStudiesQuery td:nth-child(n + 2) {\r\n    margin: 0px;\r\n    padding: 1px;\r\n    vertical-align: middle;\r\n}\r\n\r\n#trStudiesQuery .dropdown .btn {\r\n    min-width: 70px;\r\n    padding: 1px 6px;\r\n}\r\n\r\n#leftPanelTop { flex: 1 1 auto; }\r\n\r\n#leftPanelBottom {\r\n    flex: 0 0 auto;\r\n    height: 20%;\r\n}\r\n\r\n#formUploadImage input[type=file] { width: 600px; }\r\n\r\n#tblSeries td:nth-child(1) { text-align: center; }\r\n\r\n#tblSeries img {\r\n    height: 50px;\r\n    margin: auto;\r\n    width: 50px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXNoZWxsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1QkFBdUI7SUFDdkIsY0FBYztJQUNkLGNBQWM7SUFDZCxZQUFZO0lBQ1osY0FBYztJQUNkLDRCQUE0QjtJQUM1QixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx1QkFBdUI7SUFDdkIsY0FBYztJQUNkLGFBQWE7SUFDYixZQUFZO0lBQ1osY0FBYztJQUNkLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx1QkFBdUI7O0lBRXZCLFNBQVM7SUFDVCxjQUFjO0lBQ2QsY0FBYztJQUNkLFlBQVk7SUFDWixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLFdBQVc7QUFDZjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXlCRTs7QUFHRjtJQUNJLFdBQVc7SUFDWCxTQUFTO0lBQ1Qsa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixTQUFTO0lBQ1QsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7QUFDckI7O0FBRUEsK0JBQStCLFdBQVcsRUFBRTs7QUFFNUM7SUFDSSxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7Ozs7Ozs7O0VBUUU7O0FBRUY7SUFDSSw0QkFBNEIsU0FBUyxFQUFFOztJQUV2Qyx3Q0FBd0MsUUFBUSxFQUFFO0FBQ3REOztBQUVBO0lBQ0k7UUFDSSxZQUFZO1FBQ1osU0FBUztRQUNULGtCQUFrQjtRQUNsQixVQUFVO1FBQ1YsU0FBUztRQUNULG1CQUFtQjtJQUN2Qjs7SUFFQTtRQUNJLFNBQVM7UUFDVCxnQkFBZ0I7UUFDaEIsa0JBQWtCO1FBQ2xCLFVBQVU7UUFDVixtQkFBbUI7SUFDdkI7O0lBRUE7UUFDSSxxQkFBcUI7UUFDckIsV0FBVztJQUNmOztJQUVBLCtCQUErQixhQUFhLEVBQUU7O0lBRTlDLDhCQUE4QixhQUFhLEVBQUU7O0lBRTdDO1FBQ0ksZ0JBQWdCO1FBQ2hCLGlCQUFpQjtRQUNqQixVQUFVO0lBQ2Q7O0lBRUE7UUFDSSxrQkFBa0I7UUFDbEIsVUFBVTtJQUNkO0FBQ0o7O0FBRUEsNkJBQTZCLGdCQUFnQixFQUFFOztBQUUvQyxTQUFTLG1EQUE0RSxFQUFFOztBQUV2RixnQkFBZ0Isb0RBQTZFLEVBQUU7O0FBRS9GLGNBQWMsNERBQXFGLEVBQUU7O0FBRXJHLHFCQUFxQiw2REFBc0YsRUFBRTs7QUFFN0csb0JBQW9COztBQUVwQjtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHNDQUFzQztJQUN0Qyx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSx3QkFBd0I7SUFDeEIsa0JBQWtCO0lBQ2xCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLGNBQWM7SUFDZCxzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLGtDQUFrQztJQUNsQyxrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGdCQUFnQjtBQUNwQjs7QUFFQSxvQ0FBb0MsYUFBYSxFQUFFOztBQUVuRDtJQUNJLDhFQUF1RztJQUN2RyxlQUFlO0lBQ2YsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLG9CQUFvQjtJQUNwQixXQUFXO0FBQ2Y7O0FBR0EsbUJBQW1COztBQUVuQjtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsV0FBVztJQUNYOztnQkFFWTtJQUNaLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGdGQUF5RztJQUN6RyxlQUFlO0lBQ2YsY0FBYztJQUNkLFdBQVc7SUFDWCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixVQUFVO0FBQ2Q7O0FBRUEsZ0JBQWdCLG1CQUFtQixFQUFFOztBQUVyQyx5QkFBeUIsbUJBQW1CLEVBQUU7O0FBRTlDLHFCQUFxQixZQUFZLEVBQUU7O0FBRW5DLG9CQUFvQixZQUFZLEVBQUU7O0FBRWxDO0lBQ0ksc0JBQXNCO0lBQ3RCLFdBQVc7QUFDZjs7QUFFQSx5QkFBeUIsV0FBVyxFQUFFOztBQUV0QztJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQSxnQkFBZ0IsY0FBYyxFQUFFOztBQUVoQztJQUNJLGNBQWM7SUFDZCxXQUFXO0FBQ2Y7O0FBRUEsb0NBQW9DLFlBQVksRUFBRTs7QUFFbEQsNkJBQTZCLGtCQUFrQixFQUFFOztBQUVqRDtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osV0FBVztBQUNmIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXNoZWxsLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuRGl2VG9vbGJhciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDEycHggMTJweCAxMnB4IDEycHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLkRpdlZpZXdlckJhY2sge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XHJcbiAgICBjb2xvcjogI0Y1RjVGNTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uRGl2T3BlcmF0aW9uQmFyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICBcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGNvbG9yOiAjRjVGNUY1O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBtYXJnaW46IDJweCBhdXRvO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi8qI0RpdkxlZnRcclxue1xyXG4gIGRpc3BsYXk6YmxvY2s7XHJcbiAgZmxvYXQ6bGVmdDtcclxuICB3aWR0aDoyMDBweDtcclxuICBtYXJnaW46MCBhdXRvO1xyXG4gIGhlaWdodDogNjUwcHg7XHJcbiAgcGFkZGluZzogMTJweCAxMnB4IDEycHggMTZweDtcclxuICBib3JkZXItYm90dG9tOiBzb2xpZCA0cHggI0ZGRkZGRjtcclxuICBib3JkZXItcmlnaHQ6IHNvbGlkIDRweCAjRkZGRkZGO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6ICNGNUY1RjU7XHJcbn1cclxuXHJcbiNEaXZSaWdodFxyXG57XHJcbiAgZGlzcGxheTpibG9jaztcclxuICBmbG9hdDpsZWZ0O1xyXG4gIHdpZHRoOjc0NHB4O1xyXG4gIG1hcmdpbjowIGF1dG87XHJcbiAgaGVpZ2h0OiA2NTBweDtcclxuICBwYWRkaW5nOiAxMnB4IDEycHggMTJweCAxNnB4O1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDRweCAjRkZGRkZGO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6ICNGNUY1RjU7XHJcbn0qL1xyXG5cclxuXHJcbiNkaXZDb250YWluZXIge1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgdG9wOiA0MHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM2NjY7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODA4MDgwO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcclxuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCBidXR0b24ge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoIC5zYXZlLXF1ZXJ5IHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7XHJcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbn1cclxuXHJcbiNwYW5lbFN0dWR5RGFzaCAjc3RhdHVzTGFiZWwgeyBtYXJnaW46IDBweDsgfVxyXG5cclxuI2RpdlN0dWRpZXMge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBwb3NpdGlvbjogc3RhdGljO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi8qI2RpdlN0dWRpZXM6Oi13ZWJraXQtc2Nyb2xsYmFye1xyXG4gICAgd2lkdGg6MTZweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6YmxhY2s7XHJcbn1cclxuXHJcbiNkaXZTdHVkaWVzOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IzUzNTM1MztcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn0qL1xyXG5cclxuQG1lZGlhIChtaW4td2lkdGg6IDc2OHB4KSB7ICAgIFxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7IHRvcDogLTJweDsgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCAuY2hlY2tib3ggbGFiZWwgaW5wdXQgeyB0b3A6IDJweDsgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAgICNkaXZTdHVkaWVzIHtcclxuICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgbGVmdDogMXB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICByaWdodDogMXB4O1xyXG4gICAgICAgIHRvcDogNDJweDtcclxuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xyXG4gICAgfVxyXG5cclxuICAgICNwYW5lbFN0dWR5RGFzaCB7XHJcbiAgICAgICAgbGVmdDogMXB4O1xyXG4gICAgICAgIHBhZGRpbmc6IDVweCAycHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHJpZ2h0OiAxcHg7XHJcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgIH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLmZvcm0tZ3JvdXAsIC5jaGVja2JveCwgYnV0dG9uIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luOiAwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoICNzdGF0dXNMYWJlbCB7IGRpc3BsYXk6IG5vbmU7IH1cclxuXHJcbiAgICAjcGFuZWxTdHVkeURhc2ggLnNhdmUtcXVlcnkgeyBkaXNwbGF5OiBub25lOyB9XHJcblxyXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgICAgICB0b3A6IC0xMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5zcF9wYW5lbC1jb250YWluZXIsIC5zcF9wYW5lbC1sZWZ0LCAuc3BfcGFuZWwtcmlnaHQge1xyXG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgfVxyXG59XHJcblxyXG4jcXVlcnlUcmVlIC5ub2RlLXF1ZXJ5VHJlZSB7IHBhZGRpbmc6IDJweCAycHg7IH1cclxuXHJcbi5xdWVyeSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9RdWVyeV9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeTphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnF1ZXJ5Q2xlYXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vQ2xlYXJDb25kaXRpb25fQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucXVlcnlDbGVhcjphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vQ2xlYXJDb25kaXRpb25fQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLyogaG9yaXpvbnRhbCBwYW5lbCovXHJcblxyXG4uc3BfcGFuZWwtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIC8qIGF2b2lkIGJyb3dzZXIgbGV2ZWwgdG91Y2ggYWN0aW9ucyAqL1xyXG4gICAgLyp4dG91Y2gtYWN0aW9uOiBub25lOyovXHJcbn1cclxuXHJcbi5zcF9wYW5lbC1sZWZ0IHtcclxuICAgIC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZTtcclxuICAgIC8qbWluLXdpZHRoOiAxcHg7Ki9cclxuICAgIC8qd2hpdGUtc3BhY2U6IG5vd3JhcDsqL1xyXG4gICAgYmFja2dyb3VuZDogIzA3MDkwYztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4OiAwIDAgYXV0bztcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIG92ZXJmbG93OiAtbW96LWhpZGRlbi11bnNjcm9sbGFibGU7XHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIHBhZGRpbmc6IDZweDtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIC8qY29sb3I6IHdoaXRlOyovXHJcbn1cclxuXHJcbi5zcF9wYW5lbC1sZWZ0Ojotd2Via2l0LXNjcm9sbGJhciB7IGRpc3BsYXk6IG5vbmU7IH1cclxuXHJcbi5zcF9zcGxpdHRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc3BsaXRfdmVydGljYWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcclxuICAgIHdpZHRoOiA4cHg7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1yaWdodCB7XHJcbiAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgIGZsZXg6IDEgMSBhdXRvO1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBtaW4td2lkdGg6IDIwMHB4O1xyXG4gICAgLyogcmVzaXphYmxlICovXHJcbiAgICBwYWRkaW5nLWJvdHRvbTogODBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuLyogdmVydGljYWwgcGFuZWwgKi9cclxuXHJcbi5zcF9wYW5lbC1jb250YWluZXItdmVydGljYWwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4uc3BfcGFuZWwtdG9wIHtcclxuICAgIGZsZXg6IDAgMCBhdXRvO1xyXG4gICAgLyogb25seSBtYW51YWxseSByZXNpemUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgaGVpZ2h0OiA3MCU7XHJcbiAgICBtaW4taGVpZ2h0OiAzMDBweDtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIC8qd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICBiYWNrZ3JvdW5kOiAjODM4MzgzO1xyXG4gIGNvbG9yOiB3aGl0ZTsqL1xyXG4gICAgei1pbmRleDogMDtcclxufVxyXG5cclxuLnNwX3NwbGl0dGVyLWhvcml6b250YWwge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NwbGl0X2hvcml6b250YWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCAjNTM1MzUzO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDhweDtcclxuICAgIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbi5zcF9wYW5lbC1ib3R0b20ge1xyXG4gICAgZmxleDogMSAxIGF1dG87XHJcbiAgICAvKiByZXNpemFibGUgKi9cclxuICAgIC8qcGFkZGluZzogMTBweDsqL1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgLypiYWNrZ3JvdW5kOiAjZWVlOyovXHJcbiAgICB6LWluZGV4OiAxO1xyXG59XHJcblxyXG4ubmF2YmFyLXJpZ2h0IHsgcGFkZGluZy1yaWdodDogMTBweDsgfVxyXG5cclxuLnNwX3BhbmVsLXJpZ2h0IC50YWJsZSB7IHdoaXRlLXNwYWNlOiBub3dyYXA7IH1cclxuXHJcbiN0clN0dWRpZXNIZWFkZXIgYSB7IGNvbG9yOiBibGFjazsgfVxyXG5cclxuI3RyU2VyaWVzSGVhZGVyIGEgeyBjb2xvcjogYmxhY2s7IH1cclxuXHJcbiN0clN0dWRpZXNRdWVyeSBpbnB1dFt0eXBlPXRleHRdIHtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuI3RyU3R1ZGllc1F1ZXJ5IHNlbGVjdCB7IHdpZHRoOiAxMDAlOyB9XHJcblxyXG4jdHJTdHVkaWVzUXVlcnkgdGQ6bnRoLWNoaWxkKG4gKyAyKSB7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDFweDtcclxuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbn1cclxuXHJcbiN0clN0dWRpZXNRdWVyeSAuZHJvcGRvd24gLmJ0biB7XHJcbiAgICBtaW4td2lkdGg6IDcwcHg7XHJcbiAgICBwYWRkaW5nOiAxcHggNnB4O1xyXG59XHJcblxyXG4jbGVmdFBhbmVsVG9wIHsgZmxleDogMSAxIGF1dG87IH1cclxuXHJcbiNsZWZ0UGFuZWxCb3R0b20ge1xyXG4gICAgZmxleDogMCAwIGF1dG87XHJcbiAgICBoZWlnaHQ6IDIwJTtcclxufVxyXG5cclxuI2Zvcm1VcGxvYWRJbWFnZSBpbnB1dFt0eXBlPWZpbGVdIHsgd2lkdGg6IDYwMHB4OyB9XHJcblxyXG4jdGJsU2VyaWVzIHRkOm50aC1jaGlsZCgxKSB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxyXG5cclxuI3RibFNlcmllcyBpbWcge1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-shell.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-shell.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [style.visibility]=\"viewerShellData.hide? 'hidden' : 'visible'\" id=\"divContainer\" class=\"sp_panel-container\">\r\n    <div class=\"sp_panel-left\">\r\n        <app-navigation [viewerShellData]=\"viewerShellData\" (layout)=\"onChangeGroupLayout($event)\"></app-navigation>\r\n    </div>\r\n\r\n    <div class=\"sp_splitter\">\r\n    </div>\r\n\r\n    <div class=\"sp_panel-right\">\r\n        <div class=\"DivToolbar\">\r\n            <app-viewer-toolbar></app-viewer-toolbar>\r\n        </div>\r\n\r\n        <div class=\"DivViewerBack\">\r\n            <div class=\"div-flex-column\" *ngFor=\"let b of Arr(viewerShellData.groupMatrix.colCount).fill(1); let colIndex = index\">\r\n                <div class=\"div-flex-row\" *ngFor=\"let a of Arr(viewerShellData.groupMatrix.rowCount).fill(1); let rowIndex = index\">\r\n                    <app-group-viewer [groupData]=\"getGroupData(rowIndex, colIndex)\" class=\"div-flex-row\">\r\n                    </app-group-viewer>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"DivOperationBar\">\r\n            <app-viewer-bottombar (save)=\"onSaveImage($event)\" [pageIndex]=\"pageIndex\" [pageCount]=\"pageCount\" (navigateGroup)=\"onNavigateGroup($event)\"></app-viewer-bottombar>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-shell.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-shell.component.ts ***!
  \*******************************************************************/
/*! exports provided: ViewerShellComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerShellComponent", function() { return ViewerShellComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _group_viewer_group_viewer_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./group-viewer/group-viewer.component */ "./src/app/components/viewer-shell/group-viewer/group-viewer.component.ts");
/* harmony import */ var _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
/* harmony import */ var _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/hanging-protocol.service */ "./src/app/services/hanging-protocol.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ViewerShellComponent = /** @class */ (function () {
    function ViewerShellComponent(shellNavigatorService, hangingProtocolService, logService) {
        var _this = this;
        this.shellNavigatorService = shellNavigatorService;
        this.hangingProtocolService = hangingProtocolService;
        this.logService = logService;
        this.Arr = Array; //Array type captured in a variable
        this.pageIndex = 0;
        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(function (viewerShellData) {
            _this.viewerShellData.hide =
                (viewerShellData === null || viewerShellData.getId() !== _this.viewerShellData.getId());
        });
    }
    ViewerShellComponent.prototype.ngOnInit = function () {
        this.onChangeGroupLayout(this.viewerShellData.defaultGroupHangingProtocol);
    };
    ViewerShellComponent.prototype.ngAfterViewInit = function () {
        var self = this;
        $(".sp_panel-left").spResizable({
            handleSelector: ".sp_splitter",
            resizeHeight: false
        });
        $(window).resize(function () {
            self.onResize();
        });
        this.onResize();
    };
    ViewerShellComponent.prototype.onChangeGroupLayout = function (groupHangingProtocolNumber) {
        if (this.childGroups) {
            this.childGroups.forEach(function (child) { return child.setHeight(0); });
        }
        this.hangingProtocolService.applyGroupHangingProtocol(this.viewerShellData, groupHangingProtocolNumber);
        this.pageIndex = 0;
        this.pageCount = this.viewerShellData.getPageCount();
        this.onResize();
    };
    ViewerShellComponent.prototype.onResize = function () {
        //if (this.viewerShellData.hide)
        //    return;
        if (!this.childGroups)
            return;
        if (this.childGroups) {
            this.childGroups.forEach(function (child) { return child.setHeight(0); });
        }
        this.logService.debug("Viewer: onResize()");
        this.childGroups.forEach(function (groupViewer) {
            groupViewer.onResize();
        });
    };
    ViewerShellComponent.prototype.getGroupData = function (rowIndex, colIndex) {
        return this.viewerShellData.getGroup(this.pageIndex, rowIndex, colIndex);
    };
    ViewerShellComponent.prototype.onSaveImage = function (event) {
        this.childGroups.forEach(function (groupViewer) {
            if (groupViewer.selected) {
                groupViewer.saveSelectedImage();
            }
        });
    };
    ViewerShellComponent.prototype.onNavigateGroup = function (delta) {
        this.pageIndex += delta;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChildren"])(_group_viewer_group_viewer_component__WEBPACK_IMPORTED_MODULE_1__["GroupViewerComponent"]),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["QueryList"])
    ], ViewerShellComponent.prototype, "childGroups", void 0);
    ViewerShellComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-viewer-shell",
            template: __webpack_require__(/*! ./viewer-shell.component.html */ "./src/app/components/viewer-shell/viewer-shell.component.html"),
            styles: [__webpack_require__(/*! ./viewer-shell.component.css */ "./src/app/components/viewer-shell/viewer-shell.component.css")]
        }),
        __metadata("design:paramtypes", [_services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_2__["ShellNavigatorService"],
            _services_hanging_protocol_service__WEBPACK_IMPORTED_MODULE_3__["HangingProtocolService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_4__["LogService"]])
    ], ViewerShellComponent);
    return ViewerShellComponent;
}());



/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.css ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".imageOperate-div {\r\n    height: 44px;\r\n    margin-left: -20px;\r\n    margin-top: -10px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXRvb2xiYXIvdmlld2VyLXRvb2xiYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsaUJBQWlCO0FBQ3JCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy92aWV3ZXItc2hlbGwvdmlld2VyLXRvb2xiYXIvdmlld2VyLXRvb2xiYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pbWFnZU9wZXJhdGUtZGl2IHtcclxuICAgIGhlaWdodDogNDRweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMjBweDtcclxuICAgIG1hcmdpbi10b3A6IC0xMHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--<button class=\"image-button\" (click)=\"onRotate(30)\">Rotate</button>\r\n<button class=\"image-button\" (click)=\"onAddRuler()\">Ruler</button>\r\n-->\r\n\r\n<div class=\"container-fluid\">\r\n    <div class=\"row imageOperate-div\">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"selectPanButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"zoomButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"magnifyButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"wlButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"selectAnnotationButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\"/>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"fitButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"rotateFlipButtonMenuList\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\"/>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"resetButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"keyImageButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\"/>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"markerButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"simpleAnnotation1ButtonMenu\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"simpleAnnotation2ButtonMenu\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"extendAnnotation1ButtonMenu\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu [menuButtonList]=\"extendAnnotation2ButtonMenu\"></app-dropdown-button-menu>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\" />\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"showAnnotationButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"showOverlayButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"showRulerButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <app-dropdown-button-menu-button [buttonData]=\"showGraphicOverlayButtonMenu\" [isTopButton]=\"true\" [showArrow]=\"false\"></app-dropdown-button-menu-button>\r\n                </td>\r\n                <td>\r\n                    <img [src]=\"getButtonDivideSrc()\" style=\"margin-top: -24px\"/>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>\r\n<!--\r\n<div class=\"collapse navbar-collapse\" id=\"navTopToggle\">\r\n    <ul id=\"navBarGroup\" class=\"nav navbar-nav\">\r\n        <li class=\"\">\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnSelect\" alt=\"Select\" title=\"Select\" src=\"../../../../assets/img/Toolbar/selection/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnPan\" alt=\"Pan\" title=\"Pan\" src=\"../../../../assets/img/Toolbar/Pan/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li class=\"dropdown\">\r\n            <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <img class=\"btnRotate\" alt=\"RotateCCW\" title=\"RotateCCW\" src=\"../../../../assets/img/Toolbar/Rotateccw/normal/bitmap_h.gif\" />\r\n            </a>\r\n            <ul class=\"dropdown-menu swith-menu\">\r\n                <li>\r\n                    <img class=\"btnRotate\" alt=\"RotateCCW\" title=\"RotateCCW\" src=\"../../../../assets/img/Toolbar/Rotateccw/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnRotate\" alt=\"RotateCW\" title=\"RotateCW\" src=\"../../../../assets/img/Toolbar/Rotatecw/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnRotate\" alt=\"VFlip\" title=\"VFlip\" src=\"../../../../assets/img/Toolbar/FlipV/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnRotate\" alt=\"HFlip\" title=\"HFlip\" src=\"../../../../assets/img/Toolbar/FlipH/normal/bitmap_h.gif\" />\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li class=\"dropdown\">\r\n            <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <img class=\"btnZoom\" alt=\"Zoom\" title=\"Zoom\" src=\"../../../../assets/img/Toolbar/Zoom/normal/bitmap_h.gif\" />\r\n            </a>\r\n            <ul class=\"dropdown-menu swith-menu\">\r\n                <li>\r\n                    <img class=\"btnZoom\" alt=\"Zoom\" title=\"Zoom\" src=\"../../../../assets/img/Toolbar/Zoom/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnZoom\" alt=\"MagnifyX2\" title=\"MagnifyX2\" src=\"../../../../assets/img/Toolbar/magnify2/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnZoom\" alt=\"MagnifyX4\" title=\"MagnifyX4\" src=\"../../../../assets/img/Toolbar/magnify4/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnZoom\" alt=\"RoiZoom\" title=\"ROI Zoom\" src=\"../../../../assets/img/Toolbar/rectzoom/normal/bitmap_h.gif\" />\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li class=\"dropdown\">\r\n            <a class=\"dropdown-toggle nav navbar-collapse\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                <img class=\"btnScoutLine\" alt=\"ScoutLine\" title=\"ScoutLine\" src=\"../../../../assets/img/Toolbar/scoutline_set/normal/bitmap_h.gif\" />\r\n            </a>\r\n            <ul class=\"dropdown-menu swith-menu\">\r\n                <li>\r\n                    <img class=\"btnScoutLine\" alt=\"ScoutLine\" title=\"Set ScoutLine\" src=\"../../../../assets/img/Toolbar/scoutline_set/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnScoutLine\" alt=\"ScoutLineAll\" title=\"Set ScoutLine All\" src=\"../../../../assets/img/Toolbar/scoutline_set_all/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnScoutLine\" alt=\"ScoutLineSrc\" title=\"Set ScoutLine Source\" src=\"../../../../assets/img/Toolbar/scoutline_src_set/normal/bitmap_h.gif\" />\r\n                </li>\r\n                <li>\r\n                    <img class=\"btnScoutLine\" alt=\"ScoutLineDest\" title=\"Set ScoutLine Destination\" src=\"../../../../assets/img/Toolbar/scoutline_dst_set/normal/bitmap_h.gif\" />\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnWL\" alt=\"W/L\" title=\"W/L\" src=\"../../../../assets/img/Toolbar/WL/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnInvert\" alt=\"Invert\" title=\"Invert\" src=\"../../../../assets/img/Toolbar/Invert/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnReset\" alt=\"TrueSize\" title=\"TrueSize\" src=\"../../../../assets/img/Toolbar/Reset/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li class=\"dropdown\">\r\n            <a class=\"nav\">\r\n                <img title=\"Markers\" src=\"../../../../assets/img/Toolbar/ann_stamp/normal/bitmap.gif\" />\r\n            </a>\r\n            <ul class=\"dropdown-menu\">\r\n                <li id=\"liMarkerTab\">\r\n                    <ul class=\"nav nav-tabs nav-justified\">\r\n                        <li class=\"active\"><a id=\"tabMarkerPanel1\" data-toggle=\"tab\" href=\"#divMarkerPanel1\">Favorites</a></li>\r\n                        <li><a id=\"tabMarkerPanel2\" data-toggle=\"tab\" href=\"#divMarkerPanel2\">Panel 2</a></li>\r\n                        <li><a id=\"tabMarkerPanel3\" data-toggle=\"tab\" href=\"#divMarkerPanel3\">Panel 3</a></li>\r\n                    </ul>\r\n                    <div class=\"tab-content\">\r\n                        <div id=\"divMarkerPanel1\" class=\"tab-pane in active\">\r\n                            <div>\r\n                                <table class=\"table table-bordered table-marker\">\r\n                                    <tbody id=\"tblMarkerTable1\"></tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"divMarkerPanel2\" class=\"tab-pane\">\r\n                            <table class=\"table table-bordered table-marker\">\r\n                                <tbody id=\"tblMarkerTable2\"></tbody>\r\n                            </table>\r\n                        </div>\r\n                        <div id=\"divMarkerPanel3\" class=\"tab-pane\">\r\n                            <table class=\"table table-bordered table-marker\">\r\n                                <tbody id=\"tblMarkerTable3\"></tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnBestFit\" alt=\"BestFit\" title=\"BestFit\" src=\"../../../../assets/img/Toolbar/fitwindow/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnAddRect\" alt=\"annRect\" title=\"Rect\" src=\"../../../../assets/img/Toolbar/ann_rectangle/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnAddRuler\" alt=\"annLine\" title=\"Ruler\" src=\"../../../../assets/img/Toolbar/Ruler/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnAddCurve\" alt=\"annCurve\" title=\"Curve\" src=\"../../../../assets/img/Toolbar/ann_cervicalcurve/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnAddAngle\" alt=\"annAngle\" title=\"Angle\" src=\"../../../../assets/img/Toolbar/ann_angle/normal/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnShowOverlay\" alt=\"ShowOverlay\" title=\"Show Overlay\" src=\"../../../../assets/img/Toolbar/showoverlay/down/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnShowAnnotation\" alt=\"ShowAnnotation\" title=\"Show Annotation\" src=\"../../../../assets/img/Toolbar/showannotation/down/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnShowRuler\" alt=\"ShowRuler\" title=\"Show Ruler\" src=\"../../../../assets/img/Toolbar/showruler/down/bitmap.gif\" />\r\n            </a>\r\n        </li>\r\n    </ul>\r\n    <ul class=\"nav navbar-nav\">\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnDelete\" alt=\"Delete\" title=\"Delete\" src=\"../../../../assets/img/Toolbar/Delete.png\" />\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#\" class=\"nav\">\r\n                <img class=\"btnSave\" alt=\"Save\" title=\"Save\" src=\"../../../../assets/img/Toolbar/Save.png\" />\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</div>\r\n-->\r\n"

/***/ }),

/***/ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.ts ***!
  \************************************************************************************/
/*! exports provided: ViewerToolbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerToolbarComponent", function() { return ViewerToolbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_image_selector_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/image-selector.service */ "./src/app/services/image-selector.service.ts");
/* harmony import */ var _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/view-context.service */ "./src/app/services/view-context.service.ts");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/annotation */ "./src/app/models/annotation.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ViewerToolbarComponent = /** @class */ (function () {
    function ViewerToolbarComponent(imageSelectorService, viewContext, configurationService) {
        this.imageSelectorService = imageSelectorService;
        this.viewContext = viewContext;
        this.configurationService = configurationService;
        this.selectPanButtonMenuList = [
            { name: "selection", tip: "Select", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Select } },
            { name: "Pan", tip: "Pan", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Pan } }
        ];
        this.rotateFlipButtonMenuList = [
            { name: "FlipH", tip: "Flip Horizontal", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Flip, data: false } },
            { name: "FlipV", tip: "Flip Vertical", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Flip, data: true } },
            { name: "Rotatecw", tip: "Rotate CW", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Rotate, data: { angle: 90 } } },
            { name: "Rotateccw", tip: "Rotate CCW", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Rotate, data: { angle: -90 } } }
        ];
        this.zoomButtonMenuList = [
            { name: "Zoom", tip: "Zoom", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Zoom } },
            { name: "rectzoom", tip: "ROI Zoom", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].RoiZoom } }
        ];
        this.magnifyButtonMenuList = [
            { name: "magnify2", tip: "Magnify X 2", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Magnify, 2) } },
            { name: "magnify4", tip: "Magnify X 4", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Magnify, 4) } },
            { name: "magnify8", tip: "Magnify X 8", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].Magnify, 8) } }
        ];
        this.fitButtonMenuList = [
            { name: "fitheight", tip: "Fit Height", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].FitHeight, data: null } },
            { name: "fitoriginal", tip: "Fit Original", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].FitOriginal, data: null } },
            { name: "fitwidth", tip: "Fit Width", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].FitWidth, data: null } },
            { name: "fitwindow", tip: "Scale to Fit", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].FitWindow, data: null } }
        ];
        this.wlButtonMenuList = [
            { name: "WL", tip: "W/L", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].WL } },
            { name: "ROI", tip: "ROI W/L", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].RoiWl } },
            { name: "ManualWL", tip: "Manual W/L", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ManualWL, data: null } },
            { name: "Invert", tip: "Invert", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Invert, data: null } }
        ];
        this.keyImageButtonMenu = {
            name: "SetKeyImage", tip: "Key Image", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ToggleKeyImage, data: null }
        };
        this.resetButtonMenu = {
            name: "Reset", tip: "Reset", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].Reset, data: null }
        };
        this.showAnnotationButtonMenu = {
            name: "showannotation", tip: "Show Annotation", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ShowAnnotation, data: null }
        };
        this.showOverlayButtonMenu = {
            name: "showoverlay", tip: "Show Overlay", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ShowOverlay, data: null }
        };
        this.showRulerButtonMenu = {
            name: "showruler", tip: "Show Ruler", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ShowRuler, data: null }
        };
        this.showGraphicOverlayButtonMenu = {
            name: "showgraphicoverlay", tip: "Show Graphic Overlay", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].ShowGraphicOverlay, data: null }
        };
        this.selectAnnotationButtonMenu = {
            name: "ann_selection", tip: "Select Annotation", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].SelectAnn }
        };
        this.simpleAnnotation1ButtonMenu = [
            { name: "ann_line", tip: "Line", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].LineExt) } },
            { name: "ann_angle", tip: "Angle", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Protractor) } },
            { name: "ann_arrow", tip: "Arrow", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Arrow) } },
            { name: "ann_vaxis", tip: "Vertical Axis", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Vaxis) } },
            { name: "ann_humanmarkspot", tip: "Mark Spot", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].MarkSpot) } },
            { name: "ann_freearea", tip: "Free Area", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].FreeArea) } },
            { name: "ann_text", tip: "Text", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Text) } }
        ];
        this.simpleAnnotation2ButtonMenu = [
            { name: "ann_ellipse", tip: "Eclipse", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Ellipse) } },
            { name: "ann_polygon", tip: "Polygon", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Polygon) } },
            { name: "ann_rectangle", tip: "Rectangle", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Rect) } },
            { name: "ann_ruler", tip: "Ruler", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Ruler) } }
        ];
        this.extendAnnotation1ButtonMenu = [
            { name: "ann_cervicalcurve", tip: "Cervical Curve", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].CervicalCurve) } },
            { name: "ann_lumbarcurve", tip: "Lumbar Curve", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].LumbarCurve) } }
        ];
        this.extendAnnotation2ButtonMenu = [
            { name: "ann_heartchestratio", tip: "Cardiothoracic Ratio", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].HeartChestRatio) } }
        ];
        this.markerButtonMenu = {
            name: "ann_stamp", tip: "Markers", operationData: { type: _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["OperationEnum"].SetContext, data: new _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContext"](_services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextEnum"].CreateAnn, _models_annotation__WEBPACK_IMPORTED_MODULE_4__["AnnType"].Stamp) }
        };
        this.buttonDivideSrc = this.configurationService.getBaseUrl() + "assets/img/DicomViewer/fenge2.png";
    }
    ViewerToolbarComponent.prototype.ngOnInit = function () {
    };
    ViewerToolbarComponent.prototype.getButtonDivideSrc = function () {
        return this.buttonDivideSrc;
    };
    ViewerToolbarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-viewer-toolbar",
            template: __webpack_require__(/*! ./viewer-toolbar.component.html */ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.html"),
            styles: [__webpack_require__(/*! ./viewer-toolbar.component.css */ "./src/app/components/viewer-shell/viewer-toolbar/viewer-toolbar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_image_selector_service__WEBPACK_IMPORTED_MODULE_1__["ImageSelectorService"],
            _services_view_context_service__WEBPACK_IMPORTED_MODULE_2__["ViewContextService"],
            _services_configuration_service__WEBPACK_IMPORTED_MODULE_3__["ConfigurationService"]])
    ], ViewerToolbarComponent);
    return ViewerToolbarComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.css ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".loadImage, .loadKeyImage, .setRead, .setUnread, .changeImageSeriesOrder, .reassign, .transfer, .tagEdit, .deletePrevent, .deleteAllow, .delete, .import {\r\n    border: none;\r\n    height: 40px;\r\n    outline: none;\r\n    width: 40px;\r\n}\r\n\r\n.loadImage { background: url('LoadImage_40_40_All.png') no-repeat left top; }\r\n\r\n.loadImage:hover { background: url('LoadImage_40_40_All.png') no-repeat right top; }\r\n\r\n.loadImage:active { background: url('LoadImage_40_40_All.png') no-repeat left bottom; }\r\n\r\n.loadImage:disabled { background: url('LoadImage_40_40_All.png') no-repeat right bottom; }\r\n\r\n.loadKeyImage { background: url('loadKeyImage_40_40_All.png') no-repeat left top; }\r\n\r\n.loadKeyImage:hover { background: url('loadKeyImage_40_40_All.png') no-repeat right top; }\r\n\r\n.loadKeyImage:active { background: url('loadKeyImage_40_40_All.png') no-repeat left bottom; }\r\n\r\n.loadKeyImage:disabled { background: url('loadKeyImage_40_40_All.png') no-repeat right bottom; }\r\n\r\n.setRead { background: url('setRead_40_40_All.png') no-repeat left top; }\r\n\r\n.setRead:hover { background: url('setRead_40_40_All.png') no-repeat right top; }\r\n\r\n.setRead:active { background: url('setRead_40_40_All.png') no-repeat left bottom; }\r\n\r\n.setRead:disabled { background: url('setRead_40_40_All.png') no-repeat right bottom; }\r\n\r\n.setUnread { background: url('setUnread_40_40_All.png') no-repeat left top; }\r\n\r\n.setUnread:hover { background: url('setUnread_40_40_All.png') no-repeat right top; }\r\n\r\n.setUnread:active { background: url('setUnread_40_40_All.png') no-repeat left bottom; }\r\n\r\n.setUnread:disabled { background: url('setUnread_40_40_All.png') no-repeat right bottom; }\r\n\r\n.changeImageSeriesOrder { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat left top; }\r\n\r\n.changeImageSeriesOrder:hover { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat right top; }\r\n\r\n.changeImageSeriesOrder:active { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat left bottom; }\r\n\r\n.changeImageSeriesOrder:disabled { background: url('changeImageSeriesOrder_40_40_All.png') no-repeat right bottom; }\r\n\r\n.reassign { background: url('reassign_40_40_All.png') no-repeat left top; }\r\n\r\n.reassign:hover { background: url('reassign_40_40_All.png') no-repeat right top; }\r\n\r\n.reassign:active { background: url('reassign_40_40_All.png') no-repeat left bottom; }\r\n\r\n.reassign:disabled { background: url('reassign_40_40_All.png') no-repeat right bottom; }\r\n\r\n.transfer { background: url('transferImage_40_40_All.png') no-repeat left top; }\r\n\r\n.transfer:hover { background: url('transferImage_40_40_All.png') no-repeat right top; }\r\n\r\n.transfer:active { background: url('transferImage_40_40_All.png') no-repeat left bottom; }\r\n\r\n.transfer:disabled { background: url('transferImage_40_40_All.png') no-repeat right bottom; }\r\n\r\n.tagEdit { background: url('tagEdit_40_40_All.png') no-repeat left top; }\r\n\r\n.tagEdit:hover { background: url('tagEdit_40_40_All.png') no-repeat right top; }\r\n\r\n.tagEdit:active { background: url('tagEdit_40_40_All.png') no-repeat left bottom; }\r\n\r\n.tagEdit:disabled { background: url('tagEdit_40_40_All.png') no-repeat right bottom; }\r\n\r\n.deletePrevent { background: url('deletePrevent_40_40_All.png') no-repeat left top; }\r\n\r\n.deletePrevent:hover { background: url('deletePrevent_40_40_All.png') no-repeat right top; }\r\n\r\n.deletePrevent:active { background: url('deletePrevent_40_40_All.png') no-repeat left bottom; }\r\n\r\n.deletePrevent:disabled { background: url('deletePrevent_40_40_All.png') no-repeat right bottom; }\r\n\r\n.deleteAllow { background: url('deleteAllow_40_40_All.png') no-repeat left top; }\r\n\r\n.deleteAllow:hover { background: url('deleteAllow_40_40_All.png') no-repeat right top; }\r\n\r\n.deleteAllow:active { background: url('deleteAllow_40_40_All.png') no-repeat left bottom; }\r\n\r\n.deleteAllow:disabled { background: url('deleteAllow_40_40_All.png') no-repeat right bottom; }\r\n\r\n.delete { background: url('delete_40_40_All.png') no-repeat left top; }\r\n\r\n.delete:hover { background: url('delete_40_40_All.png') no-repeat right top; }\r\n\r\n.delete:active { background: url('delete_40_40_All.png') no-repeat left bottom; }\r\n\r\n.delete:disabled { background: url('delete_40_40_All.png') no-repeat right bottom; }\r\n\r\n.import { background: url('import_40_40_All.png') no-repeat left top; }\r\n\r\n.import:hover { background: url('import_40_40_All.png') no-repeat right top; }\r\n\r\n.import:active { background: url('import_40_40_All.png') no-repeat left bottom; }\r\n\r\n.import:disabled { background: url('import_40_40_All.png') no-repeat right bottom; }\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9vcGVyYXRlLXRvb2xiYXIvb3BlcmF0ZS10b29sYmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtJQUNaLGFBQWE7SUFDYixXQUFXO0FBQ2Y7O0FBRUEsYUFBYSw2REFBeUYsRUFBRTs7QUFFeEcsbUJBQW1CLDhEQUEwRixFQUFFOztBQUUvRyxvQkFBb0IsZ0VBQTRGLEVBQUU7O0FBRWxILHNCQUFzQixpRUFBNkYsRUFBRTs7QUFFckgsZ0JBQWdCLGdFQUE0RixFQUFFOztBQUU5RyxzQkFBc0IsaUVBQTZGLEVBQUU7O0FBRXJILHVCQUF1QixtRUFBK0YsRUFBRTs7QUFFeEgseUJBQXlCLG9FQUFnRyxFQUFFOztBQUUzSCxXQUFXLDJEQUF1RixFQUFFOztBQUVwRyxpQkFBaUIsNERBQXdGLEVBQUU7O0FBRTNHLGtCQUFrQiw4REFBMEYsRUFBRTs7QUFFOUcsb0JBQW9CLCtEQUEyRixFQUFFOztBQUVqSCxhQUFhLDZEQUF5RixFQUFFOztBQUV4RyxtQkFBbUIsOERBQTBGLEVBQUU7O0FBRS9HLG9CQUFvQixnRUFBNEYsRUFBRTs7QUFFbEgsc0JBQXNCLGlFQUE2RixFQUFFOztBQUVySCwwQkFBMEIsMEVBQXNHLEVBQUU7O0FBRWxJLGdDQUFnQywyRUFBdUcsRUFBRTs7QUFFekksaUNBQWlDLDZFQUF5RyxFQUFFOztBQUU1SSxtQ0FBbUMsOEVBQTBHLEVBQUU7O0FBRS9JLFlBQVksNERBQXdGLEVBQUU7O0FBRXRHLGtCQUFrQiw2REFBeUYsRUFBRTs7QUFFN0csbUJBQW1CLCtEQUEyRixFQUFFOztBQUVoSCxxQkFBcUIsZ0VBQTRGLEVBQUU7O0FBRW5ILFlBQVksaUVBQTZGLEVBQUU7O0FBRTNHLGtCQUFrQixrRUFBOEYsRUFBRTs7QUFFbEgsbUJBQW1CLG9FQUFnRyxFQUFFOztBQUVySCxxQkFBcUIscUVBQWlHLEVBQUU7O0FBRXhILFdBQVcsMkRBQXVGLEVBQUU7O0FBRXBHLGlCQUFpQiw0REFBd0YsRUFBRTs7QUFFM0csa0JBQWtCLDhEQUEwRixFQUFFOztBQUU5RyxvQkFBb0IsK0RBQTJGLEVBQUU7O0FBRWpILGlCQUFpQixpRUFBNkYsRUFBRTs7QUFFaEgsdUJBQXVCLGtFQUE4RixFQUFFOztBQUV2SCx3QkFBd0Isb0VBQWdHLEVBQUU7O0FBRTFILDBCQUEwQixxRUFBaUcsRUFBRTs7QUFFN0gsZUFBZSwrREFBMkYsRUFBRTs7QUFFNUcscUJBQXFCLGdFQUE0RixFQUFFOztBQUVuSCxzQkFBc0Isa0VBQThGLEVBQUU7O0FBRXRILHdCQUF3QixtRUFBK0YsRUFBRTs7QUFFekgsVUFBVSwwREFBc0YsRUFBRTs7QUFFbEcsZ0JBQWdCLDJEQUF1RixFQUFFOztBQUV6RyxpQkFBaUIsNkRBQXlGLEVBQUU7O0FBRTVHLG1CQUFtQiw4REFBMEYsRUFBRTs7QUFFL0csVUFBVSwwREFBc0YsRUFBRTs7QUFFbEcsZ0JBQWdCLDJEQUF1RixFQUFFOztBQUV6RyxpQkFBaUIsNkRBQXlGLEVBQUU7O0FBRTVHLG1CQUFtQiw4REFBMEYsRUFBRSIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvd29ya2xpc3Qtc2hlbGwvb3BlcmF0ZS10b29sYmFyL29wZXJhdGUtdG9vbGJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvYWRJbWFnZSwgLmxvYWRLZXlJbWFnZSwgLnNldFJlYWQsIC5zZXRVbnJlYWQsIC5jaGFuZ2VJbWFnZVNlcmllc09yZGVyLCAucmVhc3NpZ24sIC50cmFuc2ZlciwgLnRhZ0VkaXQsIC5kZWxldGVQcmV2ZW50LCAuZGVsZXRlQWxsb3csIC5kZWxldGUsIC5pbXBvcnQge1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIHdpZHRoOiA0MHB4O1xyXG59XHJcblxyXG4ubG9hZEltYWdlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0xvYWRJbWFnZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5sb2FkSW1hZ2U6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vTG9hZEltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5sb2FkSW1hZ2U6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0xvYWRJbWFnZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5sb2FkSW1hZ2U6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vTG9hZEltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5sb2FkS2V5SW1hZ2UgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vbG9hZEtleUltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9sb2FkS2V5SW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vbG9hZEtleUltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmxvYWRLZXlJbWFnZTpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9sb2FkS2V5SW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLnNldFJlYWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0UmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5zZXRSZWFkOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnNldFJlYWQ6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4uc2V0UmVhZDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5zZXRVbnJlYWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnNldFVucmVhZDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnNldFVucmVhZDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnNldFVucmVhZDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLmNoYW5nZUltYWdlU2VyaWVzT3JkZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vY2hhbmdlSW1hZ2VTZXJpZXNPcmRlcl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5jaGFuZ2VJbWFnZVNlcmllc09yZGVyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2NoYW5nZUltYWdlU2VyaWVzT3JkZXJfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmNoYW5nZUltYWdlU2VyaWVzT3JkZXI6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2NoYW5nZUltYWdlU2VyaWVzT3JkZXJfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4uY2hhbmdlSW1hZ2VTZXJpZXNPcmRlcjpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9jaGFuZ2VJbWFnZVNlcmllc09yZGVyXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5yZWFzc2lnbiB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9yZWFzc2lnbl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5yZWFzc2lnbjpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9yZWFzc2lnbl80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyB9XHJcblxyXG4ucmVhc3NpZ246YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JlYXNzaWduXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnJlYXNzaWduOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3JlYXNzaWduXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi50cmFuc2ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90cmFuc2ZlckltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLnRyYW5zZmVyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RyYW5zZmVySW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnRyYW5zZmVyOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90cmFuc2ZlckltYWdlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLnRyYW5zZmVyOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RyYW5zZmVySW1hZ2VfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG5cclxuLnRhZ0VkaXQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vdGFnRWRpdF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi50YWdFZGl0OmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RhZ0VkaXRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnRhZ0VkaXQ6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3RhZ0VkaXRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XHJcblxyXG4udGFnRWRpdDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi90YWdFZGl0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5kZWxldGVQcmV2ZW50IHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZVByZXZlbnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uZGVsZXRlUHJldmVudDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVQcmV2ZW50XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5kZWxldGVQcmV2ZW50OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVQcmV2ZW50XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmRlbGV0ZVByZXZlbnQ6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlUHJldmVudF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4uZGVsZXRlQWxsb3cgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlQWxsb3dfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4uZGVsZXRlQWxsb3c6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlQWxsb3dfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmRlbGV0ZUFsbG93OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVBbGxvd180MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5kZWxldGVBbGxvdzpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9kZWxldGVBbGxvd180MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4uZGVsZXRlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5kZWxldGU6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5kZWxldGU6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL2RlbGV0ZV80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207IH1cclxuXHJcbi5kZWxldGU6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vZGVsZXRlXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IH1cclxuXHJcbi5pbXBvcnQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vaW1wb3J0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxyXG5cclxuLmltcG9ydDpob3ZlciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9pbXBvcnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLmltcG9ydDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vaW1wb3J0XzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgfVxyXG5cclxuLmltcG9ydDpkaXNhYmxlZCB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9pbXBvcnRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<table>\r\n    <tr>\r\n        <td>\r\n            <button class=\"loadImage\" role=\"button\" title=\"Load Image\" (click)=\"onLoadImage()\" [disabled]=\"worklistService.bDisableLoadImageButton\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"loadKeyImage\" role=\"button\" title=\"Load Key Image\" (click)=\"onLoadKeyImage()\" [disabled]=\"worklistService.bDisableLoadKeyImage\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"setRead\" role=\"button\" title=\"Set Read\" (click)=\"onSetRead()\" [disabled]=\"worklistService.bDisableSetReadBtn\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"setUnread\" role=\"button\" title=\"Set Unread\" (click)=\"onSetUnread()\" [disabled]=\"worklistService.bDisableSetUnreadBtn\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"changeImageSeriesOrder\" role=\"button\" title=\"Change Image Series Order\" (click)=\"onChangeImageSeriesOrder()\" [disabled]=\"worklistService.bDisableChangeImageSeriesOrder\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"reassign\" role=\"button\" title=\"Reassign\" (click)=\"onReassign()\" [disabled]=\"worklistService.bDisableReassign\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"transfer\" role=\"button\" title=\"Export/Transfer\" (click)=\"onTransfer()\" [disabled]=\"worklistService.bDisableTransfer\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"tagEdit\" role=\"button\" title=\"Patient Edit\" (click)=\"onTagEdit()\" [disabled]=\"worklistService.bDisableTagEdit\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"deletePrevent\" role=\"button\" title=\"Prevent Delete Study\" (click)=\"onDeletePrevent()\" [disabled]=\"worklistService.bDisableDeletePreventBtn\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"deleteAllow\" role=\"button\" title=\"Allow Delete Study\" (click)=\"onDeleteAllow()\" [disabled]=\"worklistService.bDisableDeleteAllowBtn\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"delete\" role=\"button\" title=\"Delete Study\" (click)=\"onDeleteStudy()\" [disabled]=\"worklistService.bDisableDeleteStudy\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"import\" role=\"button\" title=\"Import\" (click)=\"onImport()\"></button>\r\n        </td>\r\n    </tr>\r\n</table>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.ts ***!
  \****************************************************************************************/
/*! exports provided: OperateToolbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperateToolbarComponent", function() { return OperateToolbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
/* harmony import */ var _worklist_patient_edit_patient_edit_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../worklist/patient-edit/patient-edit.component */ "./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.ts");
/* harmony import */ var _worklist_export_study_export_study_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../worklist/export-study/export-study.component */ "./src/app/components/worklist-shell/worklist/export-study/export-study.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var OperateToolbarComponent = /** @class */ (function () {
    function OperateToolbarComponent(worklistService, dialogService) {
        this.worklistService = worklistService;
        this.dialogService = dialogService;
        this.disableLoadImageButton = false;
    }
    OperateToolbarComponent.prototype.ngOnInit = function () {
    };
    OperateToolbarComponent.prototype.onLoadImage = function () {
        this.worklistService.onShowAllCheckedStudy();
    };
    OperateToolbarComponent.prototype.onLoadKeyImage = function () {
        this.worklistService.onLoadKeyImage();
    };
    OperateToolbarComponent.prototype.onSetRead = function () {
        this.worklistService.onSetRead();
    };
    OperateToolbarComponent.prototype.onSetUnread = function () {
        this.worklistService.onSetUnread();
    };
    OperateToolbarComponent.prototype.onChangeImageSeriesOrder = function () {
    };
    OperateToolbarComponent.prototype.onReassign = function () {
    };
    OperateToolbarComponent.prototype.onTransfer = function () {
        this.dialogService.showDialog(_worklist_export_study_export_study_component__WEBPACK_IMPORTED_MODULE_5__["ExportStudyComponent"], this.worklistService.checkedStudies).subscribe(function (val) {
            //this.getStudyDate(val);
        });
    };
    OperateToolbarComponent.prototype.onTagEdit = function () {
        this.dialogService.showDialog(_worklist_patient_edit_patient_edit_component__WEBPACK_IMPORTED_MODULE_4__["PatientEditComponent"], this.worklistService.checkedSingleStudy).subscribe(function (val) {
            //this.getStudyDate(val);
        });
    };
    OperateToolbarComponent.prototype.onDeletePrevent = function () {
        this.worklistService.onDeletePrevent();
    };
    OperateToolbarComponent.prototype.onDeleteAllow = function () {
        this.worklistService.onDeleteAllow();
    };
    OperateToolbarComponent.prototype.onDeleteStudy = function () {
        var _this = this;
        var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxContent"]();
        content.title = "Deletion Reason";
        content.messageText = "WARNING:The report of the deleted study cannot be restored.";
        content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input;
        this.dialogService.showMessageBox(content).subscribe(function (val) { return _this.getMessageBoxValue(val); });
    };
    OperateToolbarComponent.prototype.getMessageBoxValue = function (val) {
        if (val.dialogResult == _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Ok) {
            this.worklistService.onDeleteStudy(val.valueInput);
        }
    };
    OperateToolbarComponent.prototype.onImport = function () {
    };
    OperateToolbarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-operate-toolbar",
            template: __webpack_require__(/*! ./operate-toolbar.component.html */ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.html"),
            styles: [__webpack_require__(/*! ./operate-toolbar.component.css */ "./src/app/components/worklist-shell/operate-toolbar/operate-toolbar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_1__["WorklistService"], _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], OperateToolbarComponent);
    return OperateToolbarComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.css ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mat-dialog-container {\r\n    background-color: #555;\r\n    height: 250px;\r\n    padding: 2px 2px;\r\n    width: 250px;\r\n}\r\n\r\n.shortcut-header {\r\n    background-color: #555555;\r\n    border-radius: 3px;\r\n    color: white;\r\n    padding: 4px;\r\n    width: 100%;\r\n}\r\n\r\n.shortcut-header-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    color: transparent;\r\n    outline: none;\r\n    padding: 4px;\r\n}\r\n\r\n.shortcut-header:hover { color: #F90; }\r\n\r\n.shortcut-header:hover .shortcut-header-button {\r\n    background-color: #444;\r\n    border: solid 1px #888;\r\n    border-radius: 2px;\r\n    color: #F90;\r\n    margin-top: -2px;\r\n}\r\n\r\n.shortcut-header:hover .shortcut-header-button:active { color: red; }\r\n\r\n.shortcut-item {\r\n    background-color: inherit;\r\n    border-radius: 3px;\r\n    color: white;\r\n    padding-bottom: 3px;\r\n    padding-left: 24px;\r\n    padding-top: 3px;\r\n    width: 100%;\r\n}\r\n\r\n.shortcut-name-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    border-width: 0px;\r\n    color: inherit;\r\n    outline: none;\r\n}\r\n\r\n.shortcut-item:hover {\r\n    background-color: #999;\r\n    color: #ff9900;\r\n}\r\n\r\n.shortcut-item:hover .shortcut-close-button {\r\n    background-color: #666;\r\n    border: solid 1px #aaa;\r\n    border-radius: 2px;\r\n    color: #F90;\r\n    margin-right: 2px;\r\n    margin-top: -1px;\r\n}\r\n\r\n.shortcut-item:hover .shortcut-name-button:hover { color: red; }\r\n\r\n.shortcut-item:hover .shortcut-close-button:active { color: red; }\r\n\r\n.shortcut-close-button {\r\n    background-color: transparent;\r\n    border: none;\r\n    color: transparent;\r\n    outline: none;\r\n    padding: 4px;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9xdWVyeS1zaG9ydGN1dC9xdWVyeS1zaG9ydGN1dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtBQUNoQjs7QUFFQSx5QkFBeUIsV0FBVyxFQUFFOztBQUV0QztJQUNJLHNCQUFzQjtJQUN0QixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxnQkFBZ0I7QUFDcEI7O0FBRUEsd0RBQXdELFVBQVUsRUFBRTs7QUFFcEU7SUFDSSx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7QUFDcEI7O0FBRUEsbURBQW1ELFVBQVUsRUFBRTs7QUFFL0QscURBQXFELFVBQVUsRUFBRTs7QUFFakU7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsWUFBWTtBQUNoQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvd29ya2xpc3Qtc2hlbGwvcXVlcnktc2hvcnRjdXQvcXVlcnktc2hvcnRjdXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZGlhbG9nLWNvbnRhaW5lciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1O1xyXG4gICAgaGVpZ2h0OiAyNTBweDtcclxuICAgIHBhZGRpbmc6IDJweCAycHg7XHJcbiAgICB3aWR0aDogMjUwcHg7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1oZWFkZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTU1NTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDRweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiA0cHg7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1oZWFkZXI6aG92ZXIgeyBjb2xvcjogI0Y5MDsgfVxyXG5cclxuLnNob3J0Y3V0LWhlYWRlcjpob3ZlciAuc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDQ0O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggIzg4ODtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGNvbG9yOiAjRjkwO1xyXG4gICAgbWFyZ2luLXRvcDogLTJweDtcclxufVxyXG5cclxuLnNob3J0Y3V0LWhlYWRlcjpob3ZlciAuc2hvcnRjdXQtaGVhZGVyLWJ1dHRvbjphY3RpdmUgeyBjb2xvcjogcmVkOyB9XHJcblxyXG4uc2hvcnRjdXQtaXRlbSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDNweDtcclxuICAgIHBhZGRpbmctbGVmdDogMjRweDtcclxuICAgIHBhZGRpbmctdG9wOiAzcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXdpZHRoOiAwcHg7XHJcbiAgICBjb2xvcjogaW5oZXJpdDtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuXHJcbi5zaG9ydGN1dC1pdGVtOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5OTk7XHJcbiAgICBjb2xvcjogI2ZmOTkwMDtcclxufVxyXG5cclxuLnNob3J0Y3V0LWl0ZW06aG92ZXIgLnNob3J0Y3V0LWNsb3NlLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2O1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggI2FhYTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGNvbG9yOiAjRjkwO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtMXB4O1xyXG59XHJcblxyXG4uc2hvcnRjdXQtaXRlbTpob3ZlciAuc2hvcnRjdXQtbmFtZS1idXR0b246aG92ZXIgeyBjb2xvcjogcmVkOyB9XHJcblxyXG4uc2hvcnRjdXQtaXRlbTpob3ZlciAuc2hvcnRjdXQtY2xvc2UtYnV0dG9uOmFjdGl2ZSB7IGNvbG9yOiByZWQ7IH1cclxuXHJcbi5zaG9ydGN1dC1jbG9zZS1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBjb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        <div class=\"shortcut-header\">\r\n            <i class=\"glyphicon glyphicon-hdd\"></i>\r\n            <button class=\"shortcut-name-button\" style=\"cursor: default\">Local Data Source</button>\r\n            <button class=\"pull-right glyphicon glyphicon-refresh shortcut-header-button\"\r\n                    title=\"Refresh shortcut\" (click)=\"onRefreshShortcut()\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"shortcut-item\">\r\n            <i class=\"glyphicon glyphicon-list-alt\"></i>\r\n            <button class=\"shortcut-name-button\" (click)=\"onQueryAllStudies()\">All</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"shortcut-item\">\r\n            <i class=\"glyphicon glyphicon-star-empty\"></i>\r\n            <button class=\"shortcut-name-button\" (click)=\"onQueryTodayStudy()\">Today</button>\r\n        </div>\r\n    </div>\r\n    <div *ngFor=\"let shortcut of allShortcuts\" class=\"row\">\r\n        <div class=\"shortcut-item\">\r\n            <i class=\"glyphicon glyphicon-search\"></i>\r\n            <button class=\"shortcut-name-button\" (click)=\"onQuery(shortcut)\">{{shortcut.name}}</button>\r\n            <button class=\"pull-right glyphicon glyphicon-remove shortcut-close-button\"\r\n                    title=\"Delete shortcut\" (click)=\"onDeleteShortcut(shortcut)\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div *ngFor=\"let shortcut of worklistService.shortcuts\" class=\"row\">\r\n        <div class=\"shortcut-item\">\r\n            <i class=\"glyphicon glyphicon-search\"></i>\r\n            <button class=\"shortcut-name-button\" (click)=\"onQuery(shortcut)\">{{shortcut.name}}</button>\r\n            <button class=\"pull-right glyphicon glyphicon-remove shortcut-close-button\"\r\n                    title=\"Delete shortcut\" (click)=\"onDeleteShortcut(shortcut)\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"shortcut-header\">\r\n            <i class=\"glyphicon glyphicon-cloud\"></i>\r\n            <button class=\"shortcut-name-button\" style=\"cursor: default\">Third-Party Pacs</button>\r\n            <button class=\"pull-right glyphicon glyphicon-refresh shortcut-header-button\"\r\n                    title=\"Refresh third-party Pacs\" (click)=\"onRefreshThirdpartyPacs()\">\r\n            </button>\r\n            <button class=\"pull-right glyphicon glyphicon-plus shortcut-header-button\"\r\n                    title=\"Register a new third-party Pacs\" (click)=\"onRefreshThirdpartyPacs()\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.ts ***!
  \**************************************************************************************/
/*! exports provided: QueryShortcutComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryShortcutComponent", function() { return QueryShortcutComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var QueryShortcutComponent = /** @class */ (function () {
    function QueryShortcutComponent(worklistService, dialogService) {
        this.worklistService = worklistService;
        this.dialogService = dialogService;
        this.allShortcuts = [];
    }
    QueryShortcutComponent.prototype.ngOnInit = function () {
        this.onRefreshShortcut();
    };
    QueryShortcutComponent.prototype.onQuery = function (shortcut) {
        this.worklistService.onQueryStudyByShortcut(shortcut);
    };
    QueryShortcutComponent.prototype.onQueryTodayStudy = function () {
        this.worklistService.onQueryTodayStudy();
    };
    QueryShortcutComponent.prototype.onQueryAllStudies = function () {
        this.worklistService.onQueryAllStudies();
    };
    QueryShortcutComponent.prototype.onDeleteShortcut = function (shortcut) {
        var _this = this;
        var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxContent"]();
        content.title = "Confirm Delete";
        content.messageText = "Are you sure to delete this shortcut?";
        content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Question;
        this.dialogService.showMessageBox(content).subscribe(function (val) { return _this.onConfirmDeleteCallback(val, shortcut); });
    };
    QueryShortcutComponent.prototype.onConfirmDeleteCallback = function (val, shortcut) {
        if (val.dialogResult === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["DialogResult"].Yes) {
            this.worklistService.onDeleteShortcut(shortcut);
            //alert('delete shortcut ' + shortcut.name);
        }
    };
    QueryShortcutComponent.prototype.onRefreshShortcut = function () {
        // this.databaseService.getShortcuts().subscribe(shortcuts => this.allShortcuts = shortcuts);
    };
    QueryShortcutComponent.prototype.onRefreshThirdpartyPacs = function () {
    };
    QueryShortcutComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-query-shortcut",
            template: __webpack_require__(/*! ./query-shortcut.component.html */ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.html"),
            styles: [__webpack_require__(/*! ./query-shortcut.component.css */ "./src/app/components/worklist-shell/query-shortcut/query-shortcut.component.css")]
        }),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_1__["WorklistService"], _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], QueryShortcutComponent);
    return QueryShortcutComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.css ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".query, .queryClear, .querySave {\r\n    border: none;\r\n    height: 30px;\r\n    outline: none;\r\n    width: 100px;\r\n}\r\n\r\n.query { background: url('Query_All.png') no-repeat left top; }\r\n\r\n.query:hover { background: url('Query_All.png') no-repeat right top; }\r\n\r\n.query:active { background: url('Query_All.png') no-repeat right bottom; }\r\n\r\n.queryClear { background: url('ClearCondition_All.png') no-repeat left top; }\r\n\r\n.queryClear:hover { background: url('ClearCondition_All.png') no-repeat right top; }\r\n\r\n.queryClear:active { background: url('ClearCondition_All.png') no-repeat right bottom; }\r\n\r\n.querySave { background: url('Query_Save.png') no-repeat left top; }\r\n\r\n.querySave:hover { background: url('Query_Save.png') no-repeat right top; }\r\n\r\n.querySave:active { background: url('Query_Save.png') no-repeat right bottom; }\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9xdWVyeS10b29sYmFyL3F1ZXJ5LXRvb2xiYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUEsU0FBUyxtREFBK0UsRUFBRTs7QUFFMUYsZUFBZSxvREFBZ0YsRUFBRTs7QUFFakcsZ0JBQWdCLHVEQUFtRixFQUFFOztBQUVyRyxjQUFjLDREQUF3RixFQUFFOztBQUV4RyxvQkFBb0IsNkRBQXlGLEVBQUU7O0FBRS9HLHFCQUFxQixnRUFBNEYsRUFBRTs7QUFFbkgsYUFBYSxvREFBZ0YsRUFBRTs7QUFFL0YsbUJBQW1CLHFEQUFpRixFQUFFOztBQUV0RyxvQkFBb0Isd0RBQW9GLEVBQUUiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3F1ZXJ5LXRvb2xiYXIvcXVlcnktdG9vbGJhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnF1ZXJ5LCAucXVlcnlDbGVhciwgLnF1ZXJ5U2F2ZSB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG59XHJcblxyXG4ucXVlcnkgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XHJcblxyXG4ucXVlcnk6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgfVxyXG5cclxuLnF1ZXJ5OmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9RdWVyeV9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4ucXVlcnlDbGVhciB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9DbGVhckNvbmRpdGlvbl9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeUNsZWFyOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0NsZWFyQ29uZGl0aW9uX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5xdWVyeUNsZWFyOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9DbGVhckNvbmRpdGlvbl9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XHJcblxyXG4ucXVlcnlTYXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1F1ZXJ5X1NhdmUucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IH1cclxuXHJcbi5xdWVyeVNhdmU6aG92ZXIgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vUXVlcnlfU2F2ZS5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cclxuXHJcbi5xdWVyeVNhdmU6YWN0aXZlIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1F1ZXJ5X1NhdmUucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9Il19 */"

/***/ }),

/***/ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<table>\r\n    <tr>\r\n        <td>\r\n            <button class=\"query\" role=\"button\" title=\"Query\" (click)=\"onQuery()\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"queryClear\" role=\"button\" title=\"Clear Condition\" (click)=\"onClearCondition()\"></button>\r\n        </td>\r\n        <td>\r\n            <button class=\"querySave\" role=\"button\" title=\"Save Shortcut\" (click)=\"onSaveShortcut()\"></button>\r\n        </td>\r\n\r\n        <td style=\"padding-left: 6px\">\r\n            <div class=\"checkbox\">\r\n                <label>\r\n                    <input type=\"checkbox\" [(ngModel)]=\"worklistService.showHistoryStudies\"/>Show History Study\r\n                </label>\r\n            </div>\r\n        </td>\r\n        <td style=\"padding-left: 6px\">\r\n            <div class=\"checkbox\">\r\n                <label>\r\n                    <input type=\"checkbox\" [ngModel]=\"worklistService.isUsingLocalTestData()\"(click)=\"onChangeDataSource($event)\"/>Using Local Test Data\r\n                </label>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n</table>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.ts ***!
  \************************************************************************************/
/*! exports provided: QueryToolbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryToolbarComponent", function() { return QueryToolbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _models_shortcut__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../models/shortcut */ "./src/app/models/shortcut.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var QueryToolbarComponent = /** @class */ (function () {
    function QueryToolbarComponent(worklistService, dialogService) {
        this.worklistService = worklistService;
        this.dialogService = dialogService;
    }
    QueryToolbarComponent.prototype.ngOnInit = function () {
    };
    QueryToolbarComponent.prototype.onChangeDataSource = function (event) {
        this.worklistService.setDataSource(event.target.checked ? _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["DataSource"].LocalTestData : _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["DataSource"].MiniPacs);
    };
    QueryToolbarComponent.prototype.onQuery = function () {
        this.worklistService.onQueryStudies(1);
    };
    QueryToolbarComponent.prototype.onClearCondition = function () {
        this.worklistService.onCleanCondition();
    };
    QueryToolbarComponent.prototype.onSaveShortcut = function () {
        var _this = this;
        var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["MessageBoxContent"]();
        content.title = "Add Shortcut";
        content.messageText = "Please input the name of the shortcut:";
        content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["MessageBoxType"].Input;
        this.dialogService.showMessageBox(content).subscribe(function (val) { return _this.onSaveShortcutCallback(val); });
    };
    QueryToolbarComponent.prototype.onSaveShortcutCallback = function (val) {
        if (val.dialogResult === _models_messageBox__WEBPACK_IMPORTED_MODULE_4__["DialogResult"].Ok) {
            //const shortcut = new Shortcut();
            //shortcut.name = "test";
            this.worklistService.onSaveShortcut(val.valueInput);
        }
    };
    QueryToolbarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-query-toolbar",
            template: __webpack_require__(/*! ./query-toolbar.component.html */ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.html"),
            styles: [__webpack_require__(/*! ./query-toolbar.component.css */ "./src/app/components/worklist-shell/query-toolbar/query-toolbar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_1__["WorklistService"], _services_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], QueryToolbarComponent);
    return QueryToolbarComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/worklist-shell.component.html":
/*!*************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist-shell.component.html ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div [style.visibility]=\"hideMe? 'hidden' : 'visible'\" id=\"divContainer\" class=\"sp_panel-container\">\r\n\r\n    <div class=\"sp_panel-left\">\r\n        <app-query-shortcut></app-query-shortcut>\r\n    </div>\r\n\r\n    <div class=\"sp_splitter\">\r\n    </div>\r\n\r\n    <div class=\"sp_panel-right\">\r\n        <div class=\"studyQueryToolbar\">\r\n            <app-query-toolbar></app-query-toolbar>\r\n        </div>\r\n\r\n        <div id=\"div-scroll\">\r\n            <app-worklist></app-worklist>\r\n        </div>\r\n\r\n        <div class=\"studyOpertionToolbar\">\r\n            <app-operate-toolbar></app-operate-toolbar>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist-shell.component.less":
/*!*************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist-shell.component.less ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*@black: #000;\n@orange: orange;\n@gray: #555;\n@silver: #aaa;\n@white: #fff;*/\n/*.theme-dark {\n    @background-color : @black;\n    @underline-color : @orange;\n    @border-color : @silver;\n    @container-background-color : @gray;\n    @disable-color : @gray;\n    @font-color : @white;\n    .change-dark(@background-color);\n}\n\n\n.theme-light {\n    @background-color : @white;\n    @underline-color : @orange;\n    @border-color : @white;\n    @disable-color : @white;\n    @container-background-color : @white;\n    @font-color: @black;\n    .change-dark(@background-color);\n}*/\n#div-scroll {\n  height: 100%;\n  overflow: auto;\n  width: 100%;\n}\n#div-scroll::-webkit-scrollbar {\n  background-color: #333;\n  width: 12px;\n}\n#div-scroll::-webkit-scrollbar-thumb {\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n  background-color: #555;\n  border-radius: 10px;\n}\n#div-scroll::-webkit-scrollbar-corner {\n  background-color: dimgray;\n}\n#divContainer {\n  border-bottom: 2px solid #666;\n  bottom: 0px;\n  left: 0px;\n  position: absolute;\n  right: 0px;\n  top: 40px;\n}\n.studyQueryToolbar {\n  background-color: #000;\n  /*color: #F5F5F5;*/\n  display: block;\n  height: 40px;\n  margin: 0 auto;\n  padding: 3px;\n  width: 100%;\n}\n.studyOpertionToolbar {\n  background-color: #000;\n  border-bottom: 2px solid #333;\n  border-top: 1px solid #555;\n  bottom: 0;\n  /*color: #F5F5F5;*/\n  display: block;\n  height: 48px;\n  margin: 0 auto;\n  padding: 4px;\n  position: fixed;\n  width: 100%;\n}\n#panelStudyDash {\n  background-color: #000;\n  border: none;\n  margin: 0px;\n  padding: 5px 10px;\n  visibility: visible;\n}\n#panelStudyDash button {\n  border: none;\n  height: 30px;\n  outline: none;\n  width: 100px;\n}\n#panelStudyDash .save-query {\n  cursor: pointer;\n  float: right;\n}\n#panelStudyDash .checkbox {\n  margin-left: 5px;\n  margin-right: 5px;\n}\n#panelStudyDash #statusLabel {\n  margin: 0px;\n}\n#divStudies {\n  margin-bottom: 0px;\n  min-height: 200px;\n  position: static;\n  width: 100%;\n}\n/*#divStudies::-webkit-scrollbar{\n    width:16px;\n    background-color:black;\n}\n\n#divStudies::-webkit-scrollbar-thumb{\n    background-color:#535353;\n    border-radius: 10px;\n}*/\n@media (min-width: 768px) {\n  #panelStudyDash .checkbox {\n    top: -2px;\n  }\n  #panelStudyDash .checkbox label input {\n    top: 2px;\n  }\n}\n@media (max-width: 768px) {\n  #divStudies {\n    border: none;\n    left: 1px;\n    position: absolute;\n    right: 1px;\n    top: 42px;\n    visibility: visible;\n  }\n  #panelStudyDash {\n    left: 1px;\n    padding: 5px 2px;\n    position: absolute;\n    right: 1px;\n    visibility: visible;\n  }\n  #panelStudyDash .form-group,\n  .checkbox,\n  button {\n    display: inline-block;\n    margin: 0px;\n  }\n  #panelStudyDash #statusLabel {\n    display: none;\n  }\n  #panelStudyDash .save-query {\n    display: none;\n  }\n  #panelStudyDash .checkbox {\n    margin-left: 5px;\n    margin-right: 5px;\n    top: -10px;\n  }\n  .sp_panel-container,\n  .sp_panel-left,\n  .sp_panel-right {\n    visibility: hidden;\n    z-index: 0;\n  }\n}\n/* horizontal panel*/\n.sp_panel-container {\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  /* avoid browser level touch actions */\n  /*xtouch-action: none;*/\n}\n.sp_panel-left {\n  /*min-width: 1px;*/\n  /*white-space: nowrap;*/\n  background: #000;\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  min-height: 200px;\n  overflow: hidden;\n  /* only manually resize */\n  padding: 4px;\n  width: 200px;\n  /*color: white;*/\n}\n.sp_splitter {\n  background: url('split_vertical_collapse.jpg') center center no-repeat #555;\n  cursor: pointer;\n  flex: 0 0 auto;\n  min-height: 200px;\n  width: 8px;\n}\n.sp_panel-right {\n  background: #000;\n  color: #fff;\n  min-height: 200px;\n  min-width: 200px;\n  padding-bottom: 100px;\n  width: 100%;\n}\n/* vertical panel */\n.sp_panel-container-vertical {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n.sp_panel-top {\n  flex: 0 0 auto;\n  /* only manually resize */\n  /*padding: 10px;*/\n  height: 70%;\n  min-height: 300px;\n  overflow-y: auto;\n  width: 100%;\n  /*white-space: nowrap;\n    background: #838383;\n    color: white;*/\n  z-index: 0;\n}\n.sp_splitter-horizontal {\n  background: url('split_horizontal_collapse.jpg') center center no-repeat #555;\n  cursor: pointer;\n  flex: 0 0 auto;\n  height: 8px;\n  z-index: 2;\n}\n.sp_panel-bottom {\n  flex: 1 1 auto;\n  /* resizable */\n  /*padding: 10px;*/\n  min-height: 200px;\n  overflow-y: auto;\n  /*background: #eee;*/\n  z-index: 1;\n}\n.navbar-right {\n  padding-right: 10px;\n}\n.sp_panel-right .table {\n  white-space: nowrap;\n}\n#trStudiesHeader a {\n  color: #000;\n}\n#trSeriesHeader a {\n  color: #000;\n}\n#leftPanelTop {\n  flex: 1 1 auto;\n}\n#leftPanelBottom {\n  flex: 0 0 auto;\n  height: 20%;\n}\n#formUploadImage input[type=file] {\n  width: 600px;\n}\n#tblSeries td:nth-child(1) {\n  text-align: center;\n}\n#tblSeries img {\n  height: 50px;\n  margin: auto;\n  width: 50px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC1zaGVsbC5jb21wb25lbnQubGVzcyIsInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC9EOi9Xb3JrL0dpdC9JbWFnZVN1aXRlL1dlYlBhY3MvQ3NoLkltYWdlU3VpdGUuV2ViQ2xpZW50L3NyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC1zaGVsbC5jb21wb25lbnQubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztjQUljO0FBQ2Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFtQkU7QUN0QkY7RUFDSSxZQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7QUR3Qko7QUNyQkE7RUFDSSxzQkFBQTtFQUNBLFdBQUE7QUR1Qko7QUNwQkE7RUFDSSxvREFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QURzQko7QUNuQkE7RUFBd0MseUJBQUE7QURzQnhDO0FDcEJBO0VBQ0ksNkJBQUE7RUFDQSxXQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFNBQUE7QURzQko7QUNuQkE7RUFDSSxzQkFBQTtFRHFCRixrQkFBa0I7RUNuQmhCLGNBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FEcUJKO0FDbEJBO0VBQ0ksc0JBQUE7RUFDQSw2QkFBQTtFQUNBLDBCQUFBO0VBQ0EsU0FBQTtFRG9CRixrQkFBa0I7RUNsQmhCLGNBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtBRG9CSjtBQ2pCQTtFQUNJLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FEbUJKO0FDaEJBO0VBQ0ksWUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtBRGtCSjtBQ2ZBO0VBQ0ksZUFBQTtFQUNBLFlBQUE7QURpQko7QUNkQTtFQUNJLGdCQUFBO0VBQ0EsaUJBQUE7QURnQko7QUNiQTtFQUErQixXQUFBO0FEZ0IvQjtBQ2RBO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBRGdCSjtBQUNBOzs7Ozs7OztFQVFFO0FDWkY7RUFDSTtJQUE0QixTQUFBO0VEZTlCO0VDYkU7SUFBd0MsUUFBQTtFRGdCMUM7QUFDRjtBQ2RBO0VBQ0k7SUFDSSxZQUFBO0lBQ0EsU0FBQTtJQUNBLGtCQUFBO0lBQ0EsVUFBQTtJQUNBLFNBQUE7SUFDQSxtQkFBQTtFRGdCTjtFQ2JFO0lBQ0ksU0FBQTtJQUNBLGdCQUFBO0lBQ0Esa0JBQUE7SUFDQSxVQUFBO0lBQ0EsbUJBQUE7RURlTjtFQ1pFOzs7SUFDSSxxQkFBQTtJQUNBLFdBQUE7RURnQk47RUNiRTtJQUErQixhQUFBO0VEZ0JqQztFQ2RFO0lBQThCLGFBQUE7RURpQmhDO0VDZkU7SUFDSSxnQkFBQTtJQUNBLGlCQUFBO0lBQ0EsVUFBQTtFRGlCTjtFQ2RFOzs7SUFDSSxrQkFBQTtJQUNBLFVBQUE7RURrQk47QUFDRjtBQUNBLG9CQUFvQjtBQ2RwQjtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VEZ0JGLHNDQUFzQztFQUN0Qyx1QkFBdUI7QUFDekI7QUNiQTtFRGVFLGtCQUFrQjtFQUNsQix1QkFBdUI7RUNickIsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLHNCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFRGVGLHlCQUF5QjtFQ2J2QixZQUFBO0VBQ0EsWUFBQTtFRGVGLGdCQUFnQjtBQUNsQjtBQ1pBO0VBQ0ksMkVBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0VBQ0EsVUFBQTtBRGNKO0FDWEE7RUFDSSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0FEYUo7QUFDQSxtQkFBbUI7QUNSbkI7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtBRFVKO0FDUEE7RUFDSSxjQUFBO0VEU0YseUJBQXlCO0VBQ3pCLGlCQUFpQjtFQ1BmLFdBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFRFNGOztrQkFFZ0I7RUNQZCxVQUFBO0FEU0o7QUNOQTtFQUNJLDZFQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtBRFFKO0FDTEE7RUFDSSxjQUFBO0VET0YsY0FBYztFQUNkLGlCQUFpQjtFQ0xmLGlCQUFBO0VBQ0EsZ0JBQUE7RURPRixvQkFBb0I7RUNMbEIsVUFBQTtBRE9KO0FDSkE7RUFBZ0IsbUJBQUE7QURPaEI7QUNMQTtFQUF5QixtQkFBQTtBRFF6QjtBQ05BO0VBQXFCLFdBQUE7QURTckI7QUNQQTtFQUFvQixXQUFBO0FEVXBCO0FDUEE7RUFBZ0IsY0FBQTtBRFVoQjtBQ1JBO0VBQ0ksY0FBQTtFQUNBLFdBQUE7QURVSjtBQ1BBO0VBQW9DLFlBQUE7QURVcEM7QUNSQTtFQUE2QixrQkFBQTtBRFc3QjtBQ1RBO0VBQ0ksWUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FEV0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3dvcmtsaXN0LXNoZWxsLmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiLypAYmxhY2s6ICMwMDA7XG5Ab3JhbmdlOiBvcmFuZ2U7XG5AZ3JheTogIzU1NTtcbkBzaWx2ZXI6ICNhYWE7XG5Ad2hpdGU6ICNmZmY7Ki9cbi8qLnRoZW1lLWRhcmsge1xuICAgIEBiYWNrZ3JvdW5kLWNvbG9yIDogQGJsYWNrO1xuICAgIEB1bmRlcmxpbmUtY29sb3IgOiBAb3JhbmdlO1xuICAgIEBib3JkZXItY29sb3IgOiBAc2lsdmVyO1xuICAgIEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvciA6IEBncmF5O1xuICAgIEBkaXNhYmxlLWNvbG9yIDogQGdyYXk7XG4gICAgQGZvbnQtY29sb3IgOiBAd2hpdGU7XG4gICAgLmNoYW5nZS1kYXJrKEBiYWNrZ3JvdW5kLWNvbG9yKTtcbn1cblxuXG4udGhlbWUtbGlnaHQge1xuICAgIEBiYWNrZ3JvdW5kLWNvbG9yIDogQHdoaXRlO1xuICAgIEB1bmRlcmxpbmUtY29sb3IgOiBAb3JhbmdlO1xuICAgIEBib3JkZXItY29sb3IgOiBAd2hpdGU7XG4gICAgQGRpc2FibGUtY29sb3IgOiBAd2hpdGU7XG4gICAgQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yIDogQHdoaXRlO1xuICAgIEBmb250LWNvbG9yOiBAYmxhY2s7XG4gICAgLmNoYW5nZS1kYXJrKEBiYWNrZ3JvdW5kLWNvbG9yKTtcbn0qL1xuI2Rpdi1zY3JvbGwge1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93OiBhdXRvO1xuICB3aWR0aDogMTAwJTtcbn1cbiNkaXYtc2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XG4gIHdpZHRoOiAxMnB4O1xufVxuI2Rpdi1zY3JvbGw6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cbiNkaXYtc2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBkaW1ncmF5O1xufVxuI2RpdkNvbnRhaW5lciB7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjNjY2O1xuICBib3R0b206IDBweDtcbiAgbGVmdDogMHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwcHg7XG4gIHRvcDogNDBweDtcbn1cbi5zdHVkeVF1ZXJ5VG9vbGJhciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gIC8qY29sb3I6ICNGNUY1RjU7Ki9cbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogNDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHBhZGRpbmc6IDNweDtcbiAgd2lkdGg6IDEwMCU7XG59XG4uc3R1ZHlPcGVydGlvblRvb2xiYXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzMzMztcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM1NTU7XG4gIGJvdHRvbTogMDtcbiAgLypjb2xvcjogI0Y1RjVGNTsqL1xuICBkaXNwbGF5OiBibG9jaztcbiAgaGVpZ2h0OiA0OHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZzogNHB4O1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHdpZHRoOiAxMDAlO1xufVxuI3BhbmVsU3R1ZHlEYXNoIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcbiAgYm9yZGVyOiBub25lO1xuICBtYXJnaW46IDBweDtcbiAgcGFkZGluZzogNXB4IDEwcHg7XG4gIHZpc2liaWxpdHk6IHZpc2libGU7XG59XG4jcGFuZWxTdHVkeURhc2ggYnV0dG9uIHtcbiAgYm9yZGVyOiBub25lO1xuICBoZWlnaHQ6IDMwcHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIHdpZHRoOiAxMDBweDtcbn1cbiNwYW5lbFN0dWR5RGFzaCAuc2F2ZS1xdWVyeSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuI3BhbmVsU3R1ZHlEYXNoICNzdGF0dXNMYWJlbCB7XG4gIG1hcmdpbjogMHB4O1xufVxuI2RpdlN0dWRpZXMge1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICBwb3NpdGlvbjogc3RhdGljO1xuICB3aWR0aDogMTAwJTtcbn1cbi8qI2RpdlN0dWRpZXM6Oi13ZWJraXQtc2Nyb2xsYmFye1xuICAgIHdpZHRoOjE2cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjpibGFjaztcbn1cblxuI2RpdlN0dWRpZXM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie1xuICAgIGJhY2tncm91bmQtY29sb3I6IzUzNTM1MztcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xufSovXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcbiAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7XG4gICAgdG9wOiAtMnB4O1xuICB9XG4gICNwYW5lbFN0dWR5RGFzaCAuY2hlY2tib3ggbGFiZWwgaW5wdXQge1xuICAgIHRvcDogMnB4O1xuICB9XG59XG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgI2RpdlN0dWRpZXMge1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBsZWZ0OiAxcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAxcHg7XG4gICAgdG9wOiA0MnB4O1xuICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gIH1cbiAgI3BhbmVsU3R1ZHlEYXNoIHtcbiAgICBsZWZ0OiAxcHg7XG4gICAgcGFkZGluZzogNXB4IDJweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDFweDtcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICB9XG4gICNwYW5lbFN0dWR5RGFzaCAuZm9ybS1ncm91cCxcbiAgLmNoZWNrYm94LFxuICBidXR0b24ge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBtYXJnaW46IDBweDtcbiAgfVxuICAjcGFuZWxTdHVkeURhc2ggI3N0YXR1c0xhYmVsIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG4gICNwYW5lbFN0dWR5RGFzaCAuc2F2ZS1xdWVyeSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuICAjcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHtcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgIHRvcDogLTEwcHg7XG4gIH1cbiAgLnNwX3BhbmVsLWNvbnRhaW5lcixcbiAgLnNwX3BhbmVsLWxlZnQsXG4gIC5zcF9wYW5lbC1yaWdodCB7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgIHotaW5kZXg6IDA7XG4gIH1cbn1cbi8qIGhvcml6b250YWwgcGFuZWwqL1xuLnNwX3BhbmVsLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIC8qIGF2b2lkIGJyb3dzZXIgbGV2ZWwgdG91Y2ggYWN0aW9ucyAqL1xuICAvKnh0b3VjaC1hY3Rpb246IG5vbmU7Ki9cbn1cbi5zcF9wYW5lbC1sZWZ0IHtcbiAgLyptaW4td2lkdGg6IDFweDsqL1xuICAvKndoaXRlLXNwYWNlOiBub3dyYXA7Ki9cbiAgYmFja2dyb3VuZDogIzAwMDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleDogMCAwIGF1dG87XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICAvKiBvbmx5IG1hbnVhbGx5IHJlc2l6ZSAqL1xuICBwYWRkaW5nOiA0cHg7XG4gIHdpZHRoOiAyMDBweDtcbiAgLypjb2xvcjogd2hpdGU7Ki9cbn1cbi5zcF9zcGxpdHRlciB7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zcGxpdF92ZXJ0aWNhbF9jb2xsYXBzZS5qcGcpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0ICM1NTU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZmxleDogMCAwIGF1dG87XG4gIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICB3aWR0aDogOHB4O1xufVxuLnNwX3BhbmVsLXJpZ2h0IHtcbiAgYmFja2dyb3VuZDogIzAwMDtcbiAgY29sb3I6ICNmZmY7XG4gIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICBtaW4td2lkdGg6IDIwMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMTAwcHg7XG4gIHdpZHRoOiAxMDAlO1xufVxuLyogdmVydGljYWwgcGFuZWwgKi9cbi5zcF9wYW5lbC1jb250YWluZXItdmVydGljYWwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLnNwX3BhbmVsLXRvcCB7XG4gIGZsZXg6IDAgMCBhdXRvO1xuICAvKiBvbmx5IG1hbnVhbGx5IHJlc2l6ZSAqL1xuICAvKnBhZGRpbmc6IDEwcHg7Ki9cbiAgaGVpZ2h0OiA3MCU7XG4gIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICB3aWR0aDogMTAwJTtcbiAgLyp3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGJhY2tncm91bmQ6ICM4MzgzODM7XG4gICAgY29sb3I6IHdoaXRlOyovXG4gIHotaW5kZXg6IDA7XG59XG4uc3Bfc3BsaXR0ZXItaG9yaXpvbnRhbCB7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zcGxpdF9ob3Jpem9udGFsX2NvbGxhcHNlLmpwZykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQgIzU1NTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmbGV4OiAwIDAgYXV0bztcbiAgaGVpZ2h0OiA4cHg7XG4gIHotaW5kZXg6IDI7XG59XG4uc3BfcGFuZWwtYm90dG9tIHtcbiAgZmxleDogMSAxIGF1dG87XG4gIC8qIHJlc2l6YWJsZSAqL1xuICAvKnBhZGRpbmc6IDEwcHg7Ki9cbiAgbWluLWhlaWdodDogMjAwcHg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIC8qYmFja2dyb3VuZDogI2VlZTsqL1xuICB6LWluZGV4OiAxO1xufVxuLm5hdmJhci1yaWdodCB7XG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG59XG4uc3BfcGFuZWwtcmlnaHQgLnRhYmxlIHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cbiN0clN0dWRpZXNIZWFkZXIgYSB7XG4gIGNvbG9yOiAjMDAwO1xufVxuI3RyU2VyaWVzSGVhZGVyIGEge1xuICBjb2xvcjogIzAwMDtcbn1cbiNsZWZ0UGFuZWxUb3Age1xuICBmbGV4OiAxIDEgYXV0bztcbn1cbiNsZWZ0UGFuZWxCb3R0b20ge1xuICBmbGV4OiAwIDAgYXV0bztcbiAgaGVpZ2h0OiAyMCU7XG59XG4jZm9ybVVwbG9hZEltYWdlIGlucHV0W3R5cGU9ZmlsZV0ge1xuICB3aWR0aDogNjAwcHg7XG59XG4jdGJsU2VyaWVzIHRkOm50aC1jaGlsZCgxKSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiN0YmxTZXJpZXMgaW1nIHtcbiAgaGVpZ2h0OiA1MHB4O1xuICBtYXJnaW46IGF1dG87XG4gIHdpZHRoOiA1MHB4O1xufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vdGhlbWVzLmxlc3MnO1xuXG4jZGl2LXNjcm9sbCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG92ZXJmbG93OiBhdXRvO1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4jZGl2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IEBib3JkZXItY29sb3I7XG4gICAgd2lkdGg6IDEycHg7XG59XG5cbiNkaXYtc2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgLjMpO1xuICAgIGJhY2tncm91bmQtY29sb3I6IEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvcjtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuXG4jZGl2LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyIHsgYmFja2dyb3VuZC1jb2xvcjogZGltZ3JheTsgfVxuXG4jZGl2Q29udGFpbmVyIHtcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzY2NjtcbiAgICBib3R0b206IDBweDtcbiAgICBsZWZ0OiAwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAwcHg7XG4gICAgdG9wOiA0MHB4O1xufVxuXG4uc3R1ZHlRdWVyeVRvb2xiYXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IEBiYWNrZ3JvdW5kLWNvbG9yO1xuICAgIC8qY29sb3I6ICNGNUY1RjU7Ki9cbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgcGFkZGluZzogM3B4O1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4uc3R1ZHlPcGVydGlvblRvb2xiYXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IEBiYWNrZ3JvdW5kLWNvbG9yO1xuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCBAYm9yZGVyLWNvbG9yO1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCBAY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I7XG4gICAgYm90dG9tOiAwO1xuICAgIC8qY29sb3I6ICNGNUY1RjU7Ki9cbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgcGFkZGluZzogNHB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuI3BhbmVsU3R1ZHlEYXNoIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBAYmFja2dyb3VuZC1jb2xvcjtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgbWFyZ2luOiAwcHg7XG4gICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbn1cblxuI3BhbmVsU3R1ZHlEYXNoIGJ1dHRvbiB7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGhlaWdodDogMzBweDtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIHdpZHRoOiAxMDBweDtcbn1cblxuI3BhbmVsU3R1ZHlEYXNoIC5zYXZlLXF1ZXJ5IHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4jcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHtcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4jcGFuZWxTdHVkeURhc2ggI3N0YXR1c0xhYmVsIHsgbWFyZ2luOiAwcHg7IH1cblxuI2RpdlN0dWRpZXMge1xuICAgIG1hcmdpbi1ib3R0b206IDBweDtcbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgICBwb3NpdGlvbjogc3RhdGljO1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4vKiNkaXZTdHVkaWVzOjotd2Via2l0LXNjcm9sbGJhcntcbiAgICB3aWR0aDoxNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6YmxhY2s7XG59XG5cbiNkaXZTdHVkaWVzOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiM1MzUzNTM7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbn0qL1xuXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsgICAgXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCB7IHRvcDogLTJweDsgfVxuXG4gICAgI3BhbmVsU3R1ZHlEYXNoIC5jaGVja2JveCBsYWJlbCBpbnB1dCB7IHRvcDogMnB4OyB9XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICNkaXZTdHVkaWVzIHtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBsZWZ0OiAxcHg7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgcmlnaHQ6IDFweDtcbiAgICAgICAgdG9wOiA0MnB4O1xuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgIH1cblxuICAgICNwYW5lbFN0dWR5RGFzaCB7XG4gICAgICAgIGxlZnQ6IDFweDtcbiAgICAgICAgcGFkZGluZzogNXB4IDJweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICByaWdodDogMXB4O1xuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgIH1cblxuICAgICNwYW5lbFN0dWR5RGFzaCAuZm9ybS1ncm91cCwgLmNoZWNrYm94LCBidXR0b24ge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1hcmdpbjogMHB4O1xuICAgIH1cblxuICAgICNwYW5lbFN0dWR5RGFzaCAjc3RhdHVzTGFiZWwgeyBkaXNwbGF5OiBub25lOyB9XG5cbiAgICAjcGFuZWxTdHVkeURhc2ggLnNhdmUtcXVlcnkgeyBkaXNwbGF5OiBub25lOyB9XG5cbiAgICAjcGFuZWxTdHVkeURhc2ggLmNoZWNrYm94IHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICAgIHRvcDogLTEwcHg7XG4gICAgfVxuXG4gICAgLnNwX3BhbmVsLWNvbnRhaW5lciwgLnNwX3BhbmVsLWxlZnQsIC5zcF9wYW5lbC1yaWdodCB7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICB9XG59XG5cbi8qIGhvcml6b250YWwgcGFuZWwqL1xuXG4uc3BfcGFuZWwtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAvKiBhdm9pZCBicm93c2VyIGxldmVsIHRvdWNoIGFjdGlvbnMgKi9cbiAgICAvKnh0b3VjaC1hY3Rpb246IG5vbmU7Ki9cbn1cblxuLnNwX3BhbmVsLWxlZnQge1xuICAgIC8qbWluLXdpZHRoOiAxcHg7Ki9cbiAgICAvKndoaXRlLXNwYWNlOiBub3dyYXA7Ki9cbiAgICBiYWNrZ3JvdW5kOiBAYmFja2dyb3VuZC1jb2xvcjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXg6IDAgMCBhdXRvO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgbWluLWhlaWdodDogMjAwcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAvKiBvbmx5IG1hbnVhbGx5IHJlc2l6ZSAqL1xuICAgIHBhZGRpbmc6IDRweDtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgLypjb2xvcjogd2hpdGU7Ki9cbn1cblxuLnNwX3NwbGl0dGVyIHtcbiAgICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc3BsaXRfdmVydGljYWxfY29sbGFwc2UuanBnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdCBAY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGZsZXg6IDAgMCBhdXRvO1xuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgIHdpZHRoOiA4cHg7XG59XG5cbi5zcF9wYW5lbC1yaWdodCB7XG4gICAgYmFja2dyb3VuZDogQGJhY2tncm91bmQtY29sb3I7XG4gICAgY29sb3I6IEBmb250LWNvbG9yO1xuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgcGFkZGluZy1ib3R0b206IDEwMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG5cbi8qIHZlcnRpY2FsIHBhbmVsICovXG5cbi5zcF9wYW5lbC1jb250YWluZXItdmVydGljYWwge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uc3BfcGFuZWwtdG9wIHtcbiAgICBmbGV4OiAwIDAgYXV0bztcbiAgICAvKiBvbmx5IG1hbnVhbGx5IHJlc2l6ZSAqL1xuICAgIC8qcGFkZGluZzogMTBweDsqL1xuICAgIGhlaWdodDogNzAlO1xuICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgLyp3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGJhY2tncm91bmQ6ICM4MzgzODM7XG4gICAgY29sb3I6IHdoaXRlOyovXG4gICAgei1pbmRleDogMDtcbn1cblxuLnNwX3NwbGl0dGVyLWhvcml6b250YWwge1xuICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zcGxpdF9ob3Jpem9udGFsX2NvbGxhcHNlLmpwZykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQgQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBmbGV4OiAwIDAgYXV0bztcbiAgICBoZWlnaHQ6IDhweDtcbiAgICB6LWluZGV4OiAyO1xufVxuXG4uc3BfcGFuZWwtYm90dG9tIHtcbiAgICBmbGV4OiAxIDEgYXV0bztcbiAgICAvKiByZXNpemFibGUgKi9cbiAgICAvKnBhZGRpbmc6IDEwcHg7Ki9cbiAgICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgIC8qYmFja2dyb3VuZDogI2VlZTsqL1xuICAgIHotaW5kZXg6IDE7XG59XG5cbi5uYXZiYXItcmlnaHQgeyBwYWRkaW5nLXJpZ2h0OiAxMHB4OyB9XG5cbi5zcF9wYW5lbC1yaWdodCAudGFibGUgeyB3aGl0ZS1zcGFjZTogbm93cmFwOyB9XG5cbiN0clN0dWRpZXNIZWFkZXIgYSB7IGNvbG9yOiBAYmFja2dyb3VuZC1jb2xvcjsgfVxuXG4jdHJTZXJpZXNIZWFkZXIgYSB7IGNvbG9yOiBAYmFja2dyb3VuZC1jb2xvcjsgfVxuXG5cbiNsZWZ0UGFuZWxUb3AgeyBmbGV4OiAxIDEgYXV0bzsgfVxuXG4jbGVmdFBhbmVsQm90dG9tIHtcbiAgICBmbGV4OiAwIDAgYXV0bztcbiAgICBoZWlnaHQ6IDIwJTtcbn1cblxuI2Zvcm1VcGxvYWRJbWFnZSBpbnB1dFt0eXBlPWZpbGVdIHsgd2lkdGg6IDYwMHB4OyB9XG5cbiN0YmxTZXJpZXMgdGQ6bnRoLWNoaWxkKDEpIHsgdGV4dC1hbGlnbjogY2VudGVyOyB9XG5cbiN0YmxTZXJpZXMgaW1nIHtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIHdpZHRoOiA1MHB4O1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist-shell.component.ts":
/*!***********************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist-shell.component.ts ***!
  \***********************************************************************/
/*! exports provided: WorklistShellComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorklistShellComponent", function() { return WorklistShellComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var WorklistShellComponent = /** @class */ (function () {
    function WorklistShellComponent(shellNavigatorService) {
        var _this = this;
        this.shellNavigatorService = shellNavigatorService;
        this.hideMe = false;
        this.subscriptionShellNavigated = shellNavigatorService.shellSelected$.subscribe(function (viewerShellData) {
            _this.hideMe = viewerShellData !== null;
        });
    }
    WorklistShellComponent.prototype.ngOnInit = function () {
    };
    WorklistShellComponent.prototype.ngAfterViewInit = function () {
        $(".sp_panel-left").spResizable({
            handleSelector: ".sp_splitter",
            resizeHeight: false
        });
    };
    WorklistShellComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-worklist-shell",
            template: __webpack_require__(/*! ./worklist-shell.component.html */ "./src/app/components/worklist-shell/worklist-shell.component.html"),
            styles: [__webpack_require__(/*! ./worklist-shell.component.less */ "./src/app/components/worklist-shell/worklist-shell.component.less")]
        }),
        __metadata("design:paramtypes", [_services_shell_navigator_service__WEBPACK_IMPORTED_MODULE_1__["ShellNavigatorService"]])
    ], WorklistShellComponent);
    return WorklistShellComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/export-study/export-study.component.html":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/export-study/export-study.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1 mat-dialog-title\r\n    cdkDrag\r\n    cdkDragRootElement=\".cdk-overlay-pane\"\r\n    cdkDragHandle>\r\n    Export Study\r\n</h1>\r\n<mat-dialog-content>\r\n    <div id=\"body-content\">\r\n        <div id=\"multi-study-instance\" [hidden]=\"studyNumber==1\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th id=\"checkbox-row\">\r\n                            <input type=\"checkbox\" disabled=\"disabled\" checked=\"checked\"/>\r\n                        </th>\r\n                        <th>\r\n                            Patient ID\r\n                        </th>\r\n                        <th>\r\n                            Patient Name\r\n                        </th>\r\n                        <th>\r\n                            Exam Type\r\n                        </th>\r\n                        <th>\r\n                            Accession No\r\n                        </th>\r\n                        <th>\r\n                            Study Date Time\r\n                        </th>\r\n                        <th>\r\n                            Image Count\r\n                        </th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let value of studies\">\r\n                        <td>\r\n                            <input type=\"checkbox\" disabled=\"disabled\" checked=\"checked\"/>\r\n                        </td>\r\n                        <td>{{value.patient.patientId}}</td>\r\n\r\n                        <td>{{value.patient.patientName}}</td>\r\n\r\n                        <td></td>\r\n\r\n                        <td>{{value.accessionNo}}</td>\r\n\r\n                        <td>{{value.studyDate}}</td>\r\n\r\n                        <td>{{value.studyTime}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div id=\"single-study-instance\" [hidden]=\"studyNumber!=1\">\r\n            <table>\r\n                <tr>\r\n                    <td id=\"single-study-info\">\r\n                        <div id=\"human-license\">\r\n                            <div>\r\n                                Patient Name : {{study.patient.patientName}}\r\n                            </div>\r\n                            <div>\r\n                                Patient ID : {{study.patient.patientId}}\r\n                            </div>\r\n                            <div>\r\n                                Accession Number : {{study.accessionNo}}\r\n                            </div>\r\n                            <div>\r\n                                Study Date : {{study.studyDate}}\r\n                            </div>\r\n                            <div>\r\n                                Study Time : {{study.studyTime}}\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td id=\"container\">\r\n                        <div *ngFor=\"let thumbnail of thumbnails\">\r\n                            <table>\r\n                                <tr>\r\n                                    <td width=\"20px\">\r\n                                        <input type=\"checkbox\" />\r\n                                    </td>\r\n                                    <td class=\"td-image\">\r\n                                        <img [src]=\"thumbnail\" />\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td></td>\r\n                    <td>\r\n                        <div class=\"checkbox\">\r\n                            <label>\r\n                                <input type=\"checkbox\" />\r\n                                Check All\r\n                            </label>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n    <mat-divider></mat-divider><br>\r\n    <div id=\"transfer-content\">\r\n        <div id=\"icon-container\">\r\n            <button id=\"pacs-button\" class=\"pacs-icon icon-button\" (click)=\"onPacsIconClick()\"></button>\r\n            <button id=\"media-button\" class=\"media-icon icon-button\" (click)=\"onMediaIconClick()\"></button>\r\n        </div>\r\n        <div id=\"tab-mask-content\">\r\n            <div id=\"pacs-tab\">\r\n\r\n            </div>\r\n            <div id=\"media-tab\">\r\n                <div id=\"export-format-area\">\r\n                    <div>\r\n                        Export Format :\r\n                    </div>\r\n                    <select id=\"export-format-type\">\r\n                        <option>\r\n                            DICOM\r\n                        </option>\r\n                        <option>\r\n                            JPEG\r\n                        </option>\r\n                        <option>\r\n                            PDF\r\n                        </option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <table>\r\n                        <tr>\r\n                            <td>\r\n                                <div class=\"checkbox\">\r\n                                    <label>\r\n                                        <input type=\"checkbox\" />\r\n                                        Remove Patient Info\r\n                                    </label>\r\n                                </div>\r\n                            </td>\r\n                            <td class=\"second-td\">\r\n                                <div class=\"checkbox\">\r\n                                    <label>\r\n                                        <input type=\"checkbox\" />\r\n                                        Remove Institution Name\r\n                                    </label>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <div class=\"checkbox\">\r\n                                    <label>\r\n                                        <input type=\"checkbox\" />\r\n                                        Include CD Viewer\r\n                                    </label>\r\n                                </div>\r\n                            </td>\r\n                            <td class=\"second-td\">\r\n                                <div class=\"checkbox\">\r\n                                    <label>\r\n                                        <input type=\"checkbox\" />\r\n                                        Include CD Burning Tool\r\n                                    </label>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n    <button class=\"mat-raised-button\" (click)=\"onCancelClick()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n    <button class=\"mat-raised-button\" (click)=\"onOkClick()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Ok\r\n    </button>\r\n</mat-dialog-actions>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/export-study/export-study.component.less":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/export-study/export-study.component.less ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*@black: #000;\n@orange: orange;\n@gray: #555;\n@silver: #aaa;\n@white: #fff;*/\n/*.theme-dark {\n    @background-color : @black;\n    @underline-color : @orange;\n    @border-color : @silver;\n    @container-background-color : @gray;\n    @disable-color : @gray;\n    @font-color : @white;\n    .change-dark(@background-color);\n}\n\n\n.theme-light {\n    @background-color : @white;\n    @underline-color : @orange;\n    @border-color : @white;\n    @disable-color : @white;\n    @container-background-color : @white;\n    @font-color: @black;\n    .change-dark(@background-color);\n}*/\n#body-content {\n  width: 750px;\n  min-height: 200px;\n  max-height: 300px;\n}\n#multi-study-instance {\n  width: 750px;\n  max-height: 290px;\n  overflow: auto;\n}\n#multi-study-instance th {\n  padding: 3px;\n  border: 1px solid #333;\n  min-width: 100px;\n  background: #444;\n}\n#multi-study-instance td {\n  padding: 3px;\n  border: 1px solid #333;\n  min-width: 100px;\n  /*color: @container-background-color;*/\n}\n#multi-study-instance th,\n#multi-study-instance td:first-child {\n  min-width: 20px;\n}\n#multi-study-instance tr:nth-child(odd) {\n  background-color: #181818;\n}\n#multi-study-instance tr:nth-child(even) {\n  background-color: #000;\n}\n#single-study-instance {\n  width: 700px;\n}\n.mat-dialog-title {\n  border-bottom: 1px solid orange;\n  color: orange;\n  font-size: 15px;\n  margin: -24px -24px 0px -24px;\n  min-width: 200px;\n  padding: 1px 10px;\n}\n.mat-dialog-content {\n  color: #fff;\n  font-size: 15px;\n  height: 800px;\n  min-width: 650px;\n  padding: 10px 10px;\n}\n.mat-dialog-actions {\n  margin-right: -12px;\n}\n.mat-form-field {\n  width: 100%;\n}\n.mat-raised-button {\n  background-color: #555;\n  border: 1px solid #777;\n  border-radius: 3px;\n  color: #fff;\n  font-size: 13px;\n  margin-left: 6px;\n  padding: 1px;\n  width: 100px;\n}\n.mat-raised-button:disabled:hover {\n  color: #555;\n}\n.mat-raised-button:hover {\n  color: orange;\n}\n.mat-dialog-actions {\n  flex-direction: row-reverse;\n}\n.matInput {\n  caret-color: orange;\n  color: green;\n}\n.mat-input-element {\n  width: 100%;\n  caret-color: orange;\n}\ninput {\n  background: #000;\n  caret-color: orange;\n  border: 1px solid #000;\n}\ninput:focus {\n  /*outline: none !important;*/\n  border-bottom: 1px solid orange;\n}\ninput:disabled {\n  color: #555;\n}\n/*::-webkit-inner-spin-button { display: none; }*/\nselect {\n  background-color: #000;\n  border: 1px solid #333;\n  width: 100%;\n}\n#single-study-info {\n  width: 300px;\n}\n#container {\n  left: 350px;\n  display: flex;\n  flex-wrap: wrap;\n  width: 500px;\n}\n#human-license {\n  width: 300px;\n}\n#icon-container {\n  display: flex;\n  border-bottom: 1px solid #333;\n}\n.pacs-icon {\n  background: url('Transfer_60_40_All.png') no-repeat left top;\n}\n.pacs-icon:hover {\n  background: url('Transfer_60_40_All.png') no-repeat right top;\n}\n.pacs-icon:active {\n  background: url('Transfer_60_40_All.png') no-repeat left bottom;\n}\n.pacs-icon:disabled {\n  background: url('Transfer_60_40_All.png') no-repeat right bottom;\n}\n.media-icon {\n  background: url('Export_60_40_All.png') no-repeat left top;\n}\n.media-icon:hover {\n  background: url('Export_60_40_All.png') no-repeat right top;\n}\n.media-icon:active {\n  background: url('Export_60_40_All.png') no-repeat left bottom;\n}\n.media-icon:disabled {\n  background: url('Export_60_40_All.png') no-repeat right bottom;\n}\n.icon-button {\n  border: none;\n  width: 60px;\n  height: 40px;\n}\n.icon-button:focus {\n  outline: none;\n}\n#export-format-area {\n  display: flex;\n  margin-top: 20px;\n}\n#export-format-type {\n  width: 100px;\n  margin-left: 100px;\n}\n#transfer-row {\n  display: flex;\n}\n.td-image {\n  padding-right: 5px;\n}\n.second-td {\n  padding-left: 50px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC9leHBvcnQtc3R1ZHkvZXhwb3J0LXN0dWR5LmNvbXBvbmVudC5sZXNzIiwic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3dvcmtsaXN0L2V4cG9ydC1zdHVkeS9EOi9Xb3JrL0dpdC9JbWFnZVN1aXRlL1dlYlBhY3MvQ3NoLkltYWdlU3VpdGUuV2ViQ2xpZW50L3NyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC9leHBvcnQtc3R1ZHkvZXhwb3J0LXN0dWR5LmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O2NBSWM7QUFDZDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQW1CRTtBQ3RCRjtFQUNJLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0FEd0JKO0FDckJBO0VBQ0ksWUFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtBRHVCSjtBQzFCQTtFQU1RLFlBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUR1QlI7QUNoQ0E7RUFhUSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtFRHNCTixzQ0FBc0M7QUFDeEM7QUN0Q0E7O0VBb0JRLGVBQUE7QURzQlI7QUMxQ0E7RUF3Qk0seUJBQUE7QURxQk47QUM3Q0E7RUE0Qk0sc0JBQUE7QURvQk47QUNmQTtFQUNJLFlBQUE7QURpQko7QUNkQTtFQUNJLCtCQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSw2QkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QURnQko7QUNiQTtFQUNJLFdBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QURlSjtBQ1pBO0VBQXNCLG1CQUFBO0FEZXRCO0FDYkE7RUFDSSxXQUFBO0FEZUo7QUNaQTtFQUNJLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBRGNKO0FDWEE7RUFBb0MsV0FBQTtBRGNwQztBQ1pBO0VBQTJCLGFBQUE7QURlM0I7QUNiQTtFQUFzQiwyQkFBQTtBRGdCdEI7QUNkQTtFQUNJLG1CQUFBO0VBQ0EsWUFBQTtBRGdCSjtBQ2JBO0VBQ0ksV0FBQTtFQUNBLG1CQUFBO0FEZUo7QUNSQTtFQUNJLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtBRFVKO0FDUEE7RURTRSw0QkFBNEI7RUNQMUIsK0JBQUE7QURTSjtBQ05BO0VBQ0ksV0FBQTtBRFFKO0FBQ0EsaURBQWlEO0FDSmpEO0VBQ0ksc0JBQUE7RUFDQSxzQkFBQTtFQUNBLFdBQUE7QURNSjtBQ0hBO0VBQ0ksWUFBQTtBREtKO0FDRkE7RUFDSSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FESUo7QUNEQTtFQUNJLFlBQUE7QURHSjtBQ0FBO0VBQ0ksYUFBQTtFQUNBLDZCQUFBO0FERUo7QUNDQTtFQUFhLDREQUFBO0FERWI7QUNBQTtFQUFtQiw2REFBQTtBREduQjtBQ0RBO0VBQW9CLCtEQUFBO0FESXBCO0FDRkE7RUFBc0IsZ0VBQUE7QURLdEI7QUNIQTtFQUFjLDBEQUFBO0FETWQ7QUNKQTtFQUFvQiwyREFBQTtBRE9wQjtBQ0xBO0VBQXFCLDZEQUFBO0FEUXJCO0FDTkE7RUFBdUIsOERBQUE7QURTdkI7QUNQQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBRFNKO0FDSkE7RUFDSSxhQUFBO0FETUo7QUNIQTtFQUNJLGFBQUE7RUFDQSxnQkFBQTtBREtKO0FDRkE7RUFDSSxZQUFBO0VBQ0Esa0JBQUE7QURJSjtBQ0RBO0VBQ0ksYUFBQTtBREdKO0FDQUE7RUFDSSxrQkFBQTtBREVKO0FDQ0E7RUFDSSxrQkFBQTtBRENKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC9leHBvcnQtc3R1ZHkvZXhwb3J0LXN0dWR5LmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiLypAYmxhY2s6ICMwMDA7XG5Ab3JhbmdlOiBvcmFuZ2U7XG5AZ3JheTogIzU1NTtcbkBzaWx2ZXI6ICNhYWE7XG5Ad2hpdGU6ICNmZmY7Ki9cbi8qLnRoZW1lLWRhcmsge1xuICAgIEBiYWNrZ3JvdW5kLWNvbG9yIDogQGJsYWNrO1xuICAgIEB1bmRlcmxpbmUtY29sb3IgOiBAb3JhbmdlO1xuICAgIEBib3JkZXItY29sb3IgOiBAc2lsdmVyO1xuICAgIEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvciA6IEBncmF5O1xuICAgIEBkaXNhYmxlLWNvbG9yIDogQGdyYXk7XG4gICAgQGZvbnQtY29sb3IgOiBAd2hpdGU7XG4gICAgLmNoYW5nZS1kYXJrKEBiYWNrZ3JvdW5kLWNvbG9yKTtcbn1cblxuXG4udGhlbWUtbGlnaHQge1xuICAgIEBiYWNrZ3JvdW5kLWNvbG9yIDogQHdoaXRlO1xuICAgIEB1bmRlcmxpbmUtY29sb3IgOiBAb3JhbmdlO1xuICAgIEBib3JkZXItY29sb3IgOiBAd2hpdGU7XG4gICAgQGRpc2FibGUtY29sb3IgOiBAd2hpdGU7XG4gICAgQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yIDogQHdoaXRlO1xuICAgIEBmb250LWNvbG9yOiBAYmxhY2s7XG4gICAgLmNoYW5nZS1kYXJrKEBiYWNrZ3JvdW5kLWNvbG9yKTtcbn0qL1xuI2JvZHktY29udGVudCB7XG4gIHdpZHRoOiA3NTBweDtcbiAgbWluLWhlaWdodDogMjAwcHg7XG4gIG1heC1oZWlnaHQ6IDMwMHB4O1xufVxuI211bHRpLXN0dWR5LWluc3RhbmNlIHtcbiAgd2lkdGg6IDc1MHB4O1xuICBtYXgtaGVpZ2h0OiAyOTBweDtcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG4jbXVsdGktc3R1ZHktaW5zdGFuY2UgdGgge1xuICBwYWRkaW5nOiAzcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XG4gIG1pbi13aWR0aDogMTAwcHg7XG4gIGJhY2tncm91bmQ6ICM0NDQ7XG59XG4jbXVsdGktc3R1ZHktaW5zdGFuY2UgdGQge1xuICBwYWRkaW5nOiAzcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XG4gIG1pbi13aWR0aDogMTAwcHg7XG4gIC8qY29sb3I6IEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvcjsqL1xufVxuI211bHRpLXN0dWR5LWluc3RhbmNlIHRoLFxuI211bHRpLXN0dWR5LWluc3RhbmNlIHRkOmZpcnN0LWNoaWxkIHtcbiAgbWluLXdpZHRoOiAyMHB4O1xufVxuI211bHRpLXN0dWR5LWluc3RhbmNlIHRyOm50aC1jaGlsZChvZGQpIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE4MTgxODtcbn1cbiNtdWx0aS1zdHVkeS1pbnN0YW5jZSB0cjpudGgtY2hpbGQoZXZlbikge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xufVxuI3NpbmdsZS1zdHVkeS1pbnN0YW5jZSB7XG4gIHdpZHRoOiA3MDBweDtcbn1cbi5tYXQtZGlhbG9nLXRpdGxlIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIG9yYW5nZTtcbiAgY29sb3I6IG9yYW5nZTtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBtYXJnaW46IC0yNHB4IC0yNHB4IDBweCAtMjRweDtcbiAgbWluLXdpZHRoOiAyMDBweDtcbiAgcGFkZGluZzogMXB4IDEwcHg7XG59XG4ubWF0LWRpYWxvZy1jb250ZW50IHtcbiAgY29sb3I6ICNmZmY7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgaGVpZ2h0OiA4MDBweDtcbiAgbWluLXdpZHRoOiA2NTBweDtcbiAgcGFkZGluZzogMTBweCAxMHB4O1xufVxuLm1hdC1kaWFsb2ctYWN0aW9ucyB7XG4gIG1hcmdpbi1yaWdodDogLTEycHg7XG59XG4ubWF0LWZvcm0tZmllbGQge1xuICB3aWR0aDogMTAwJTtcbn1cbi5tYXQtcmFpc2VkLWJ1dHRvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM1NTU7XG4gIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgY29sb3I6ICNmZmY7XG4gIGZvbnQtc2l6ZTogMTNweDtcbiAgbWFyZ2luLWxlZnQ6IDZweDtcbiAgcGFkZGluZzogMXB4O1xuICB3aWR0aDogMTAwcHg7XG59XG4ubWF0LXJhaXNlZC1idXR0b246ZGlzYWJsZWQ6aG92ZXIge1xuICBjb2xvcjogIzU1NTtcbn1cbi5tYXQtcmFpc2VkLWJ1dHRvbjpob3ZlciB7XG4gIGNvbG9yOiBvcmFuZ2U7XG59XG4ubWF0LWRpYWxvZy1hY3Rpb25zIHtcbiAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xufVxuLm1hdElucHV0IHtcbiAgY2FyZXQtY29sb3I6IG9yYW5nZTtcbiAgY29sb3I6IGdyZWVuO1xufVxuLm1hdC1pbnB1dC1lbGVtZW50IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGNhcmV0LWNvbG9yOiBvcmFuZ2U7XG59XG5pbnB1dCB7XG4gIGJhY2tncm91bmQ6ICMwMDA7XG4gIGNhcmV0LWNvbG9yOiBvcmFuZ2U7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDA7XG59XG5pbnB1dDpmb2N1cyB7XG4gIC8qb3V0bGluZTogbm9uZSAhaW1wb3J0YW50OyovXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBvcmFuZ2U7XG59XG5pbnB1dDpkaXNhYmxlZCB7XG4gIGNvbG9yOiAjNTU1O1xufVxuLyo6Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24geyBkaXNwbGF5OiBub25lOyB9Ki9cbnNlbGVjdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XG4gIHdpZHRoOiAxMDAlO1xufVxuI3NpbmdsZS1zdHVkeS1pbmZvIHtcbiAgd2lkdGg6IDMwMHB4O1xufVxuI2NvbnRhaW5lciB7XG4gIGxlZnQ6IDM1MHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIHdpZHRoOiA1MDBweDtcbn1cbiNodW1hbi1saWNlbnNlIHtcbiAgd2lkdGg6IDMwMHB4O1xufVxuI2ljb24tY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMzM7XG59XG4ucGFjcy1pY29uIHtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1RyYW5zZmVyXzYwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDtcbn1cbi5wYWNzLWljb246aG92ZXIge1xuICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vVHJhbnNmZXJfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDtcbn1cbi5wYWNzLWljb246YWN0aXZlIHtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1RyYW5zZmVyXzYwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTtcbn1cbi5wYWNzLWljb246ZGlzYWJsZWQge1xuICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vVHJhbnNmZXJfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTtcbn1cbi5tZWRpYS1pY29uIHtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0V4cG9ydF82MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7XG59XG4ubWVkaWEtaWNvbjpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9FeHBvcnRfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDtcbn1cbi5tZWRpYS1pY29uOmFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9FeHBvcnRfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tO1xufVxuLm1lZGlhLWljb246ZGlzYWJsZWQge1xuICBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vRXhwb3J0XzYwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207XG59XG4uaWNvbi1idXR0b24ge1xuICBib3JkZXI6IG5vbmU7XG4gIHdpZHRoOiA2MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG59XG4uaWNvbi1idXR0b246Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xufVxuI2V4cG9ydC1mb3JtYXQtYXJlYSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG59XG4jZXhwb3J0LWZvcm1hdC10eXBlIHtcbiAgd2lkdGg6IDEwMHB4O1xuICBtYXJnaW4tbGVmdDogMTAwcHg7XG59XG4jdHJhbnNmZXItcm93IHtcbiAgZGlzcGxheTogZmxleDtcbn1cbi50ZC1pbWFnZSB7XG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcbn1cbi5zZWNvbmQtdGQge1xuICBwYWRkaW5nLWxlZnQ6IDUwcHg7XG59XG4iLCJAaW1wb3J0IFwiLi4vLi4vLi4vLi4vLi4vdGhlbWVzLmxlc3NcIjtcblxuI2JvZHktY29udGVudCB7XG4gICAgd2lkdGg6IDc1MHB4O1xuICAgIG1pbi1oZWlnaHQgOiAyMDBweDtcbiAgICBtYXgtaGVpZ2h0IDogMzAwcHg7XG59XG5cbiNtdWx0aS1zdHVkeS1pbnN0YW5jZSB7XG4gICAgd2lkdGg6IDc1MHB4O1xuICAgIG1heC1oZWlnaHQ6IDI5MHB4O1xuICAgIG92ZXJmbG93OmF1dG87XG5cbiAgICB0aCB7XG4gICAgICAgIHBhZGRpbmc6IDNweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgQGJvcmRlci1jb2xvcjtcbiAgICAgICAgbWluLXdpZHRoOiAxMDBweDtcbiAgICAgICAgYmFja2dyb3VuZDogQGhlYWRlci1iYWNrZ3JvdW5kLWNvbG9yO1xuICAgIH1cblxuICAgIHRkIHtcbiAgICAgICAgcGFkZGluZzogM3B4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBAYm9yZGVyLWNvbG9yO1xuICAgICAgICBtaW4td2lkdGg6IDEwMHB4O1xuICAgICAgICAvKmNvbG9yOiBAY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I7Ki9cbiAgICB9XG5cbiAgICB0aCwgdGQ6Zmlyc3QtY2hpbGQge1xuICAgICAgICBtaW4td2lkdGg6IDIwcHg7XG4gICAgfVxuXG4gICAgdHI6bnRoLWNoaWxkKG9kZCl7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBAb2RkLXRyLWNvbG9yO1xuICAgIH1cblxuICAgIHRyOm50aC1jaGlsZChldmVuKXtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IEBiYWNrZ3JvdW5kLWNvbG9yO1xuICAgIH1cbn1cblxuXG4jc2luZ2xlLXN0dWR5LWluc3RhbmNlIHtcbiAgICB3aWR0aDogNzAwcHg7XG59ICAgXG5cbi5tYXQtZGlhbG9nLXRpdGxlIHtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgQHVuZGVybGluZS1jb2xvcjtcbiAgICBjb2xvcjogQHVuZGVybGluZS1jb2xvcjtcbiAgICBmb250LXNpemU6IDE1cHg7XG4gICAgbWFyZ2luOiAtMjRweCAtMjRweCAwcHggLTI0cHg7XG4gICAgbWluLXdpZHRoOiAyMDBweDtcbiAgICBwYWRkaW5nOiAxcHggMTBweDtcbn1cblxuLm1hdC1kaWFsb2ctY29udGVudCB7XG4gICAgY29sb3I6IEBmb250LWNvbG9yO1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICBoZWlnaHQ6IDgwMHB4O1xuICAgIG1pbi13aWR0aDogNjUwcHg7XG4gICAgcGFkZGluZzogMTBweCAxMHB4O1xufVxuXG4ubWF0LWRpYWxvZy1hY3Rpb25zIHsgbWFyZ2luLXJpZ2h0OiAtMTJweDsgfVxuXG4ubWF0LWZvcm0tZmllbGQge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4ubWF0LXJhaXNlZC1idXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvcjtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzc3O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBjb2xvcjogQGZvbnQtY29sb3I7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XG4gICAgcGFkZGluZzogMXB4O1xuICAgIHdpZHRoOiAxMDBweDtcbn1cblxuLm1hdC1yYWlzZWQtYnV0dG9uOmRpc2FibGVkOmhvdmVyIHsgY29sb3I6IEBkaXNhYmxlLWNvbG9yOyB9XG5cbi5tYXQtcmFpc2VkLWJ1dHRvbjpob3ZlciB7IGNvbG9yOiBAdW5kZXJsaW5lLWNvbG9yOyB9XG5cbi5tYXQtZGlhbG9nLWFjdGlvbnMgeyBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7IH1cblxuLm1hdElucHV0IHtcbiAgICBjYXJldC1jb2xvcjogQHVuZGVybGluZS1jb2xvcjtcbiAgICBjb2xvcjogZ3JlZW47XG59XG5cbi5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgY2FyZXQtY29sb3I6IEB1bmRlcmxpbmUtY29sb3I7XG59XG5cbnRhYmxlIHtcblxufVxuXG5pbnB1dCB7XG4gICAgYmFja2dyb3VuZDogQGJhY2tncm91bmQtY29sb3I7XG4gICAgY2FyZXQtY29sb3I6QHVuZGVybGluZS1jb2xvcjtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBAYmFja2dyb3VuZC1jb2xvcjtcbn1cblxuaW5wdXQ6Zm9jdXN7XG4gICAgLypvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7Ki9cbiAgICBib3JkZXItYm90dG9tOjFweCBzb2xpZCBAdW5kZXJsaW5lLWNvbG9yO1xufVxuXG5pbnB1dDpkaXNhYmxlZHtcbiAgICBjb2xvcjogQGRpc2FibGUtY29sb3I7XG59XG5cbi8qOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHsgZGlzcGxheTogbm9uZTsgfSovXG5cbnNlbGVjdCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGJhY2tncm91bmQtY29sb3I7XG4gICAgYm9yZGVyOiAxcHggc29saWQgQGJvcmRlci1jb2xvcjtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuI3NpbmdsZS1zdHVkeS1pbmZvIHtcbiAgICB3aWR0aDogMzAwcHg7XG59XG5cbiNjb250YWluZXIge1xuICAgIGxlZnQ6MzUwcHg7XG4gICAgZGlzcGxheTpmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICB3aWR0aDogNTAwcHg7XG59XG5cbiNodW1hbi1saWNlbnNlIHtcbiAgICB3aWR0aDogMzAwcHg7XG59XG5cbiNpY29uLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTpmbGV4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBAYm9yZGVyLWNvbG9yO1xufVxuXG4ucGFjcy1pY29uIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1RyYW5zZmVyXzYwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDsgfVxuXG4ucGFjcy1pY29uOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL1RyYW5zZmVyXzYwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCB0b3A7IH1cblxuLnBhY3MtaWNvbjphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vVHJhbnNmZXJfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XG5cbi5wYWNzLWljb246ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vVHJhbnNmZXJfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgfVxuXG4ubWVkaWEtaWNvbiB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9FeHBvcnRfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wOyB9XG5cbi5tZWRpYS1pY29uOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0V4cG9ydF82MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyB9XG5cbi5tZWRpYS1pY29uOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9FeHBvcnRfNjBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgYm90dG9tOyB9XG5cbi5tZWRpYS1pY29uOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL0V4cG9ydF82MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tOyB9XG5cbi5pY29uLWJ1dHRvbiB7XG4gICAgYm9yZGVyOm5vbmU7XG4gICAgd2lkdGg6NjBweDtcbiAgICBoZWlnaHQ6NDBweDtcblxuXG59XG5cbi5pY29uLWJ1dHRvbjpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZTtcbn1cblxuI2V4cG9ydC1mb3JtYXQtYXJlYXtcbiAgICBkaXNwbGF5OmZsZXg7XG4gICAgbWFyZ2luLXRvcDoyMHB4O1xufVxuXG4jZXhwb3J0LWZvcm1hdC10eXBlIHtcbiAgICB3aWR0aDoxMDBweDtcbiAgICBtYXJnaW4tbGVmdDogMTAwcHg7XG59XG5cbiN0cmFuc2Zlci1yb3cge1xuICAgIGRpc3BsYXk6ZmxleDtcbn1cblxuLnRkLWltYWdlIHtcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG59XG5cbi5zZWNvbmQtdGQge1xuICAgIHBhZGRpbmctbGVmdDo1MHB4O1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/export-study/export-study.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/export-study/export-study.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: ExportStudyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExportStudyComponent", function() { return ExportStudyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_pssi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../models/pssi */ "./src/app/models/pssi.ts");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_database_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../services/database.service */ "./src/app/services/database.service.ts");
/* harmony import */ var _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../services/dicom-image.service */ "./src/app/services/dicom-image.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};







var ExportStudyComponent = /** @class */ (function () {
    function ExportStudyComponent(worklistService, databaseService, dicomImageService, dialogRef, studies, dialogService) {
        this.worklistService = worklistService;
        this.databaseService = databaseService;
        this.dicomImageService = dicomImageService;
        this.dialogRef = dialogRef;
        this.dialogService = dialogService;
        this.studyNumber = 0;
        this.studyNumber = studies.length;
        this.studies = new Array();
        this.studies = studies;
        this.study = studies[0];
        this.seriesList = new Array();
        this.seriesList = this.study.seriesList;
        this.imageList = new Array();
        this.imageList = this.seriesList[0].imageList;
        this._image = new _models_pssi__WEBPACK_IMPORTED_MODULE_3__["Image"]();
        this._image.id = this.seriesList[0].seriesNo;
        this.thumbnails = new Array();
        // Remove Study in Series for circular json issue
        for (var i = 0; i < this.study.seriesList.length; i++) {
            var seriesTemp = this.study.seriesList[i];
            seriesTemp.study = new _models_pssi__WEBPACK_IMPORTED_MODULE_3__["Study"]();
            this.study.seriesList[i] = seriesTemp;
        }
        this.refreshImage();
    }
    ExportStudyComponent.prototype.ngOnInit = function () {
    };
    ExportStudyComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    ExportStudyComponent.prototype.onOkClick = function () {
        this.worklistService.onTransferStudy(this.study);
        this.dialogRef.close();
    };
    ExportStudyComponent.prototype.refreshImage = function () {
        var _this = this;
        this.databaseService.getStudy(this.study.id).subscribe(function (data) {
            for (var _i = 0, _a = data.seriesList; _i < _a.length; _i++) {
                var series = _a[_i];
                for (var _b = 0, _c = series.imageList; _b < _c.length; _b++) {
                    var image = _c[_b];
                    _this.getImageFromService(image);
                }
            }
        }, function (error) {
            console.log(error);
        });
    };
    ExportStudyComponent.prototype.createImageFromBlob = function (image) {
        var _this = this;
        var reader = new FileReader();
        reader.addEventListener("load", function () {
            _this.thumbnailToShow = reader.result;
            _this.thumbnails.push(_this.thumbnailToShow);
        }, false);
        if (image) {
            reader.readAsDataURL(image);
        }
    };
    ExportStudyComponent.prototype.getImageFromService = function (image) {
        var _this = this;
        this.dicomImageService.getThumbnailFile(image).subscribe(function (data) {
            _this.createImageFromBlob(data);
        }, function (error) {
            console.log(error);
        });
    };
    ExportStudyComponent.prototype.onPacsIconClick = function () {
    };
    ExportStudyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-export-study',
            template: __webpack_require__(/*! ./export-study.component.html */ "./src/app/components/worklist-shell/worklist/export-study/export-study.component.html"),
            styles: [__webpack_require__(/*! ./export-study.component.less */ "./src/app/components/worklist-shell/worklist/export-study/export-study.component.less")]
        }),
        __param(4, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_4__["WorklistService"],
            _services_database_service__WEBPACK_IMPORTED_MODULE_5__["DatabaseService"],
            _services_dicom_image_service__WEBPACK_IMPORTED_MODULE_6__["DicomImageService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"], Array, _services_dialog_service__WEBPACK_IMPORTED_MODULE_1__["DialogService"]])
    ], ExportStudyComponent);
    return ExportStudyComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.html":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.html ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1 mat-dialog-title\r\n    cdkDrag\r\n    cdkDragRootElement=\".cdk-overlay-pane\"\r\n    cdkDragHandle>\r\n    Patient Edit\r\n</h1>\r\n<mat-dialog-content>\r\n    <mat-list>\r\n        <table>\r\n            <tr>\r\n                <td>Family Name</td>\r\n                <td>Given Name</td>\r\n                <td>Middle Name</td>\r\n            </tr>\r\n            <tr>\r\n                <td style=\"width: 200px\">\r\n                    <input [(ngModel)]=\"study.patient.lastName\"/>\r\n                </td>\r\n                <td style=\"width: 200px\">\r\n                    <input [(ngModel)]=\"study.patient.firstName\" />\r\n                </td>\r\n                <td style=\"width: 200px\">\r\n                    <input [(ngModel)]=\"study.patient.middleName\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>Patient ID</td>\r\n                <td>Date of Birth</td>\r\n                <td>Gender</td>\r\n            </tr>\r\n            <tr>\r\n                <td style=\"width: 200px\">\r\n                    <input [(ngModel)]=\"patientId\"/>\r\n                </td>\r\n                <td style=\"width: 200px\">\r\n                    <mat-form-field>\r\n                        <input matInput [matDatepicker]=\"picker1\" [(ngModel)]=\"patientBirthDate\"/>\r\n                        <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n                        <mat-datepicker #picker1></mat-datepicker>\r\n                    </mat-form-field>\r\n                </td>\r\n                <td style=\"width: 200px\">\r\n                    <select [(ngModel)]=\"study.patient.patientSex\">\r\n                        <option *ngFor=\"let val of patientSexColumn.valueList | keyvalue\" [ngValue]=\"val.key.toUpperCase()\">{{val.value}}</option>\r\n                    </select>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"4\">Patient Comments</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"4\" style=\"width: 600px\">\r\n                    <input [(ngModel)]=\"study.patient.patientComments\" />\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <br>\r\n        <mat-divider></mat-divider><br>\r\n        <table>\r\n            <tr>\r\n                <td>Accession Number</td>\r\n                <td>Referring Physician</td>\r\n            </tr>\r\n            <tr>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"study.accessionNo\"/>\r\n                </td>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"study.referPhysician\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>Study Description</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"4\" style=\"width: 600px\">\r\n                    <input [(ngModel)]=\"study.studyDescription\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>Symptoms/Notes</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"4\" style=\"width: 600px\">\r\n                    <input [(ngModel)]=\"study.additionalPatientHistory\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>Study Date</td>\r\n                <td>Study Time</td>\r\n            </tr>\r\n            <tr>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"study.studyDate\" [disabled]=\"true\"/>\r\n                </td>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"study.studyTime\" [disabled]=\"true\"/>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <br>\r\n        <mat-divider></mat-divider><br>\r\n        <table>\r\n            <tr>\r\n                <td>Series</td>\r\n                <td>Body Part Examined</td>\r\n            </tr>\r\n            <tr>\r\n                <td style=\"width: 300px\">\r\n                    <select (change)=\"onSeriesChanged($event.target.selectedIndex)\">\r\n                        <option *ngFor=\"let val of study.seriesList\" [ngValue]=\"val.seriesNo\">Series {{val.seriesNo}}</option>\r\n                    </select>\r\n                </td>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"series.bodyPart\" [disabled]=\"true\"/>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>Modality</td>\r\n                <td>View Position</td>\r\n            </tr>\r\n            <tr>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"series.modality\" />\r\n                </td>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"series.viewPosition\" [disabled]=\"true\"/>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>Series Description</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"2\" style=\"width: 600px\">\r\n                    <input [(ngModel)]=\"series.seriesDescription\" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>Series Date</td>\r\n                <td>Series Time</td>\r\n            </tr>\r\n            <tr>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"series.seriesDateString\" [disabled]=\"true\"/>\r\n                </td>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"series.seriesTimeString\" [disabled]=\"true\"/>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>Patient Position</td>\r\n                <td>Series Number</td>\r\n            </tr>\r\n            <tr>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"series.patientPosition\" />\r\n                </td>\r\n                <td style=\"width: 300px\">\r\n                    <input [(ngModel)]=\"series.seriesNumber\" [disabled]=\"true\"/>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </mat-list>\r\n\r\n</mat-dialog-content>\r\n<mat-dialog-actions>\r\n    <button class=\"mat-raised-button\" (click)=\"onCancelClick()\">\r\n        <i class=\"glyphicon glyphicon-remove-circle\" style=\"padding-right: 8px\"></i>Cancel\r\n    </button>\r\n    <button class=\"mat-raised-button\" (click)=\"onOkClick()\">\r\n        <i class=\"glyphicon glyphicon-ok-circle\" style=\"padding-right: 8px\"></i>Ok\r\n    </button>\r\n</mat-dialog-actions>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.less":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.less ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*@black: #000;\n@orange: orange;\n@gray: #555;\n@silver: #aaa;\n@white: #fff;*/\n/*.theme-dark {\n    @background-color : @black;\n    @underline-color : @orange;\n    @border-color : @silver;\n    @container-background-color : @gray;\n    @disable-color : @gray;\n    @font-color : @white;\n    .change-dark(@background-color);\n}\n\n\n.theme-light {\n    @background-color : @white;\n    @underline-color : @orange;\n    @border-color : @white;\n    @disable-color : @white;\n    @container-background-color : @white;\n    @font-color: @black;\n    .change-dark(@background-color);\n}*/\n.mat-dialog-title {\n  border-bottom: 1px solid orange;\n  color: orange;\n  font-size: 15px;\n  margin: -24px -24px 0px -24px;\n  min-width: 200px;\n  padding: 1px 10px;\n}\n.mat-dialog-content {\n  color: #fff;\n  font-size: 15px;\n  height: 800px;\n  min-width: 650px;\n  padding: 10px 10px;\n}\n.mat-dialog-actions {\n  margin-right: -12px;\n}\n.mat-form-field {\n  width: 100%;\n}\n.mat-raised-button {\n  background-color: #555;\n  border: 1px solid #777;\n  border-radius: 3px;\n  color: #fff;\n  font-size: 13px;\n  margin-left: 6px;\n  padding: 1px;\n  width: 100px;\n}\n.mat-raised-button:disabled:hover {\n  color: #555;\n}\n.mat-raised-button:hover {\n  color: orange;\n}\n.mat-dialog-actions {\n  flex-direction: row-reverse;\n}\n.matInput {\n  caret-color: orange;\n  color: green;\n}\n.mat-input-element {\n  width: 100%;\n  caret-color: orange;\n}\ntd {\n  padding: 3px;\n}\n::-webkit-inner-spin-button {\n  display: none;\n}\nselect {\n  background-color: #000;\n  border: 1px solid #333;\n  width: 100%;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC9wYXRpZW50LWVkaXQvcGF0aWVudC1lZGl0LmNvbXBvbmVudC5sZXNzIiwic3JjL2FwcC9jb21wb25lbnRzL3dvcmtsaXN0LXNoZWxsL3dvcmtsaXN0L3BhdGllbnQtZWRpdC9EOi9Xb3JrL0dpdC9JbWFnZVN1aXRlL1dlYlBhY3MvQ3NoLkltYWdlU3VpdGUuV2ViQ2xpZW50L3NyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC9wYXRpZW50LWVkaXQvcGF0aWVudC1lZGl0LmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O2NBSWM7QUFDZDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQW1CRTtBQ3RCRjtFQUNJLCtCQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSw2QkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUR3Qko7QUNyQkE7RUFDSSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FEdUJKO0FDcEJBO0VBQXNCLG1CQUFBO0FEdUJ0QjtBQ3JCQTtFQUNJLFdBQUE7QUR1Qko7QUNwQkE7RUFDSSxzQkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QURzQko7QUNuQkE7RUFBb0MsV0FBQTtBRHNCcEM7QUNwQkE7RUFBMkIsYUFBQTtBRHVCM0I7QUNyQkE7RUFBc0IsMkJBQUE7QUR3QnRCO0FDdEJBO0VBQ0ksbUJBQUE7RUFDQSxZQUFBO0FEd0JKO0FDckJBO0VBQ0ksV0FBQTtFQUNBLG1CQUFBO0FEdUJKO0FDcEJBO0VBQ0ksWUFBQTtBRHNCSjtBQ25CQTtFQUE4QixhQUFBO0FEc0I5QjtBQ3BCQTtFQUNJLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0FEc0JKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC9wYXRpZW50LWVkaXQvcGF0aWVudC1lZGl0LmNvbXBvbmVudC5sZXNzIiwic291cmNlc0NvbnRlbnQiOlsiLypAYmxhY2s6ICMwMDA7XG5Ab3JhbmdlOiBvcmFuZ2U7XG5AZ3JheTogIzU1NTtcbkBzaWx2ZXI6ICNhYWE7XG5Ad2hpdGU6ICNmZmY7Ki9cbi8qLnRoZW1lLWRhcmsge1xuICAgIEBiYWNrZ3JvdW5kLWNvbG9yIDogQGJsYWNrO1xuICAgIEB1bmRlcmxpbmUtY29sb3IgOiBAb3JhbmdlO1xuICAgIEBib3JkZXItY29sb3IgOiBAc2lsdmVyO1xuICAgIEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvciA6IEBncmF5O1xuICAgIEBkaXNhYmxlLWNvbG9yIDogQGdyYXk7XG4gICAgQGZvbnQtY29sb3IgOiBAd2hpdGU7XG4gICAgLmNoYW5nZS1kYXJrKEBiYWNrZ3JvdW5kLWNvbG9yKTtcbn1cblxuXG4udGhlbWUtbGlnaHQge1xuICAgIEBiYWNrZ3JvdW5kLWNvbG9yIDogQHdoaXRlO1xuICAgIEB1bmRlcmxpbmUtY29sb3IgOiBAb3JhbmdlO1xuICAgIEBib3JkZXItY29sb3IgOiBAd2hpdGU7XG4gICAgQGRpc2FibGUtY29sb3IgOiBAd2hpdGU7XG4gICAgQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yIDogQHdoaXRlO1xuICAgIEBmb250LWNvbG9yOiBAYmxhY2s7XG4gICAgLmNoYW5nZS1kYXJrKEBiYWNrZ3JvdW5kLWNvbG9yKTtcbn0qL1xuLm1hdC1kaWFsb2ctdGl0bGUge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgb3JhbmdlO1xuICBjb2xvcjogb3JhbmdlO1xuICBmb250LXNpemU6IDE1cHg7XG4gIG1hcmdpbjogLTI0cHggLTI0cHggMHB4IC0yNHB4O1xuICBtaW4td2lkdGg6IDIwMHB4O1xuICBwYWRkaW5nOiAxcHggMTBweDtcbn1cbi5tYXQtZGlhbG9nLWNvbnRlbnQge1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBoZWlnaHQ6IDgwMHB4O1xuICBtaW4td2lkdGg6IDY1MHB4O1xuICBwYWRkaW5nOiAxMHB4IDEwcHg7XG59XG4ubWF0LWRpYWxvZy1hY3Rpb25zIHtcbiAgbWFyZ2luLXJpZ2h0OiAtMTJweDtcbn1cbi5tYXQtZm9ybS1maWVsZCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuLm1hdC1yYWlzZWQtYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbiAgYm9yZGVyOiAxcHggc29saWQgIzc3NztcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBtYXJnaW4tbGVmdDogNnB4O1xuICBwYWRkaW5nOiAxcHg7XG4gIHdpZHRoOiAxMDBweDtcbn1cbi5tYXQtcmFpc2VkLWJ1dHRvbjpkaXNhYmxlZDpob3ZlciB7XG4gIGNvbG9yOiAjNTU1O1xufVxuLm1hdC1yYWlzZWQtYnV0dG9uOmhvdmVyIHtcbiAgY29sb3I6IG9yYW5nZTtcbn1cbi5tYXQtZGlhbG9nLWFjdGlvbnMge1xuICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG59XG4ubWF0SW5wdXQge1xuICBjYXJldC1jb2xvcjogb3JhbmdlO1xuICBjb2xvcjogZ3JlZW47XG59XG4ubWF0LWlucHV0LWVsZW1lbnQge1xuICB3aWR0aDogMTAwJTtcbiAgY2FyZXQtY29sb3I6IG9yYW5nZTtcbn1cbnRkIHtcbiAgcGFkZGluZzogM3B4O1xufVxuOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbnNlbGVjdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XG4gIHdpZHRoOiAxMDAlO1xufVxuIiwiQGltcG9ydCBcIi4uLy4uLy4uLy4uLy4uL3RoZW1lcy5sZXNzXCI7XG5cbi5tYXQtZGlhbG9nLXRpdGxlIHtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgQHVuZGVybGluZS1jb2xvcjtcbiAgICBjb2xvcjogQHVuZGVybGluZS1jb2xvcjtcbiAgICBmb250LXNpemU6IDE1cHg7XG4gICAgbWFyZ2luOiAtMjRweCAtMjRweCAwcHggLTI0cHg7XG4gICAgbWluLXdpZHRoOiAyMDBweDtcbiAgICBwYWRkaW5nOiAxcHggMTBweDtcbn1cblxuLm1hdC1kaWFsb2ctY29udGVudCB7XG4gICAgY29sb3I6IEBmb250LWNvbG9yO1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICBoZWlnaHQ6IDgwMHB4O1xuICAgIG1pbi13aWR0aDogNjUwcHg7XG4gICAgcGFkZGluZzogMTBweCAxMHB4O1xufVxuXG4ubWF0LWRpYWxvZy1hY3Rpb25zIHsgbWFyZ2luLXJpZ2h0OiAtMTJweDsgfVxuXG4ubWF0LWZvcm0tZmllbGQge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4ubWF0LXJhaXNlZC1idXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvcjtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzc3O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBjb2xvcjogQGZvbnQtY29sb3I7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIG1hcmdpbi1sZWZ0OiA2cHg7XG4gICAgcGFkZGluZzogMXB4O1xuICAgIHdpZHRoOiAxMDBweDtcbn1cblxuLm1hdC1yYWlzZWQtYnV0dG9uOmRpc2FibGVkOmhvdmVyIHsgY29sb3I6IEBkaXNhYmxlLWNvbG9yOyB9XG5cbi5tYXQtcmFpc2VkLWJ1dHRvbjpob3ZlciB7IGNvbG9yOiBAdW5kZXJsaW5lLWNvbG9yOyB9XG5cbi5tYXQtZGlhbG9nLWFjdGlvbnMgeyBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7IH1cblxuLm1hdElucHV0IHtcbiAgICBjYXJldC1jb2xvcjogQHVuZGVybGluZS1jb2xvcjtcbiAgICBjb2xvcjogZ3JlZW47XG59XG5cbi5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgY2FyZXQtY29sb3I6IEB1bmRlcmxpbmUtY29sb3I7XG59XG5cbnRkIHtcbiAgICBwYWRkaW5nOiAzcHg7XG59XG5cbjo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7IGRpc3BsYXk6IG5vbmU7IH1cblxuc2VsZWN0IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBAYmFja2dyb3VuZC1jb2xvcjtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBAYm9yZGVyLWNvbG9yO1xuICAgIHdpZHRoOiAxMDAlO1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: MY_FORMATS, PatientEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MY_FORMATS", function() { return MY_FORMATS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PatientEditComponent", function() { return PatientEditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _models_pssi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../models/pssi */ "./src/app/models/pssi.ts");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};






var MY_FORMATS = {
    parse: {
        dateInput: "LL",
    },
    display: {
        dateInput: "LL",
        monthYearLabel: "MMM YYYY",
        dateA11yLabel: "LL",
        monthYearA11yLabel: "MMMM YYYY",
    },
};
var PatientEditComponent = /** @class */ (function () {
    function PatientEditComponent(worklistService, dialogRef, study, dialogService) {
        this.worklistService = worklistService;
        this.dialogRef = dialogRef;
        this.dialogService = dialogService;
        this.study = new _models_pssi__WEBPACK_IMPORTED_MODULE_3__["Study"]();
        this.series = new _models_pssi__WEBPACK_IMPORTED_MODULE_3__["Series"]();
        this.seriesNum = 0;
        this.patientSexColumn = new _models_pssi__WEBPACK_IMPORTED_MODULE_3__["WorklistColumn"]();
        this.study = study;
        this.patientBirthDate = new Date(this.study.patient.patientBirthDate);
        this.patientSexColumn = worklistService.worklistColumns[2];
        this.getSeriesValue(0);
    }
    PatientEditComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    PatientEditComponent.prototype.onOkClick = function () {
        this.study.patient.patientBirthDate = moment__WEBPACK_IMPORTED_MODULE_5__(this.patientBirthDate).format('MM/DD/YYYY');
        this.worklistService.onUpdateStudy(this.study);
        this.dialogRef.close();
    };
    PatientEditComponent.prototype.getSeriesValue = function (seriesNum) {
        // Remove Study in Series for circular json issue
        for (var i = 0; i < this.study.seriesList.length; i++) {
            var seriesTemp = this.study.seriesList[i];
            seriesTemp.study = new _models_pssi__WEBPACK_IMPORTED_MODULE_3__["Study"]();
            this.study.seriesList[i] = seriesTemp;
        }
        this.series = this.study.seriesList[seriesNum];
        if (this.series.seriesNo == null) {
            this.series.seriesNo = 1;
        }
    };
    PatientEditComponent.prototype.onSeriesChanged = function (optionValue) {
        this.series = this.study.seriesList[optionValue];
    };
    PatientEditComponent.prototype.onPatientSexChanged = function (optionValue) {
        this.study.patient.patientSex = optionValue;
    };
    PatientEditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-patient-edit',
            template: __webpack_require__(/*! ./patient-edit.component.html */ "./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.html"),
            styles: [__webpack_require__(/*! ./patient-edit.component.less */ "./src/app/components/worklist-shell/worklist/patient-edit/patient-edit.component.less")]
        }),
        __param(2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_4__["WorklistService"],
            _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialogRef"],
            _models_pssi__WEBPACK_IMPORTED_MODULE_3__["Study"],
            _services_dialog_service__WEBPACK_IMPORTED_MODULE_1__["DialogService"]])
    ], PatientEditComponent);
    return PatientEditComponent;
}());



/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/worklist.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/worklist.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div>\r\n    <table id=\"tblStudies\" class=\"table table-bordered table-condensed\">\r\n        <thead>\r\n            <tr id=\"trStudiesHeader\">\r\n                <th>\r\n                </th>\r\n                <th>\r\n                </th>\r\n                <th *ngFor=\"let col of worklistService.worklistColumns \" nowrap>\r\n                    <div id=\"headContent\" class=\"worklistHeader\">\r\n                        <table>\r\n                            <tr>\r\n                                <td>\r\n                                    <div (click)=\"onWorklistHeaderClicked(col.columnId)\">{{col.columnText}}</div>\r\n                                </td>\r\n                                <td>\r\n                                    <i id=\"orderIcon\" *ngIf=\"col.columnId == orderHeader\" [className]=\"isDesc ? 'glyphicon glyphicon-collapse-down' : 'glyphicon glyphicon-collapse-up'\"></i>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </th>\r\n            </tr>\r\n            <tr id=\"trStudiesQuery\">\r\n                <td>\r\n                    <input type=\"checkbox\" (click)=\"onAllStudyChecked($event)\" (change)=\"onCheckStudyChanged()\" />\r\n                </td>\r\n                <td></td>\r\n                <td *ngFor=\"let col of worklistService.worklistColumns\">\r\n                    <div *ngIf=\"col.controlType == 'TextBox'\">\r\n                        <input type=\"text\" [(ngModel)]=\"col.shortcutType[col.columnId]\" />\r\n                    </div>\r\n                    <div *ngIf=\"col.controlType == 'DropDownList'\">\r\n                        <div *ngIf=\"col.columnId == 'studyDate'; else notStudyDate\">\r\n                            <div>\r\n                                <select *ngIf=\"!initStudyDate; else showStudyDateRange\" [(ngModel)]=\"col.shortcutType[col.columnId]\" (change)=\"onStudyDateChangeSelect($event.target.selectedIndex)\">\r\n                                    <option *ngFor=\"let value of col.valueList | keyvalue\" [ngValue]=\"value.key\">{{value.value}}</option>\r\n                                </select>\r\n                                <ng-template #showStudyDateRange>\r\n                                    <table (click)=\"onStudyDateRangeTableClicked()\">\r\n                                        <tr>\r\n                                            <td>\r\n                                                <mat-form-field>\r\n                                                    <input matInput [matDatepicker]=\"picker1\" [min]=\"fromMinDate\" [max]=\"fromMaxDate\" [(ngModel)]=\"worklistService.shortcut.studyDateFrom\"/>\r\n                                                    <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n                                                    <mat-datepicker #picker1></mat-datepicker>\r\n                                                </mat-form-field>\r\n                                            </td>\r\n                                            <td id=\"tdStudyDateFrom\">\r\n                                                <mat-form-field>\r\n                                                    <input matInput [matDatepicker]=\"picker2\" [min]=\"fromMinDate\" [max]=\"fromMaxDate\" placeholder=\"To\" [(ngModel)]=\"worklistService.shortcut.studyDateTo\" />\r\n                                                    <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n                                                    <mat-datepicker #picker2></mat-datepicker>\r\n                                                </mat-form-field>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </ng-template>\r\n                            </div>\r\n                        </div>\r\n                        <ng-template #notStudyDate>\r\n                            <select [(ngModel)]=\"col.shortcutType[col.columnId]\">\r\n                                <option value=\"\">All</option>\r\n                                <option *ngFor=\"let value of col.valueList | keyvalue\" [ngValue]=\"value.key\">{{value.value}}</option>\r\n                            </select>\r\n                        </ng-template>\r\n                    </div>\r\n                    <div *ngIf=\"col.controlType == 'Calendar'\">\r\n                        <table>\r\n                            <tr>\r\n                                <td id=\"no-border\">\r\n                                    <mat-form-field>\r\n                                        <input matInput [matDatepicker]=\"picker1\" [min]=\"fromMinDate\" [max]=\"fromMaxDate\" placeholder=\"From\" (dateChange)=\"fromDateChanged('change', $event)\" [(ngModel)]=\"worklistService.shortcut.patientBirthDateFrom\" />\r\n                                        <mat-datepicker-toggle matSuffix [for]=\"picker1\"></mat-datepicker-toggle>\r\n                                        <mat-datepicker #picker1></mat-datepicker>\r\n                                    </mat-form-field>\r\n                                </td>\r\n                                <td>\r\n                                    <mat-form-field>\r\n                                        <input matInput [matDatepicker]=\"picker2\" [min]=\"toMinDate\" [max]=\"toMaxDate\" placeholder=\"To\" (dateChange)=\"toDateChanged('change', $event)\" [(ngModel)]=\"worklistService.shortcut.patientBirthDateTo\" />\r\n                                        <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n                                        <mat-datepicker #picker2></mat-datepicker>\r\n                                    </mat-form-field>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let study of worklistService.studies\">\r\n                <td>\r\n                    <input type=\"checkbox\" [(ngModel)]=\"study.studyChecked\" (change)=\"onCheckStudyChanged()\" />\r\n                </td>\r\n                <td>\r\n                    <div *ngIf=\"study.scanStatus == 'Ended'; else scanStatusCompleted\" class=\"setReadCover\">\r\n                        <button class=\"setRead\" role=\"button\" title=\"Set Read\" (click)=\"onSetRead(study)\"></button>\r\n                    </div>\r\n                    <ng-template #scanStatusCompleted>\r\n                        <div class=\"setUnreadCover\">\r\n                            <button class=\"setUnread\" role=\"button\" title=\"Set Unread\" (click)=\"onSetUnread(study)\"></button>\r\n                        </div>\r\n                    </ng-template>\r\n                </td>\r\n                <td *ngFor=\"let col of worklistService.worklistColumns\" (click)=\"onStudyChecked(study)\" nowrap>\r\n                    <div class=\"patientIdCol\" *ngIf=\"col.columnId == 'patientId'; else notPatientId\">\r\n                        <div *ngIf=\"study['instanceAvailability'] === 'Online'; else offlineStudy\" class=\"onlineStudy\" (click)=\"doShowStudy(study)\">\r\n                            {{study.patient[col.columnId]}}\r\n                        </div>\r\n                        <ng-template #offlineStudy>\r\n                            <div class=\"offlineStudy\">\r\n                                {{study.patient[col.columnId]}}\r\n                            </div>\r\n                        </ng-template>\r\n                    </div>\r\n                    <ng-template #notPatientId>\r\n                        <div *ngIf=\"study.patient[col.columnId]; else onlyStudy\">{{study.patient[col.columnId]}}</div>\r\n                        <ng-template #onlyStudy>\r\n                            <div *ngIf=\"col.columnId != 'bodyPartExamined'; else bodyPart\">{{study[col.columnId]}}</div>\r\n                            <ng-template #bodyPart>\r\n                                <span *ngFor=\"let bodyPart of study.bodyPartList; let i = index\">\r\n                                    <span *ngIf=\"i != 0\">\r\n                                        ,\r\n                                    </span>\r\n                                    {{bodyPart}}\r\n                                </span>\r\n                            </ng-template>\r\n                        </ng-template>\r\n                    </ng-template>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n        <tfoot>\r\n            <tr id=\"trFoot\">\r\n                <td colspan=\"5\">\r\n                    <ul>\r\n                        <li>\r\n                            <div>Pages:{{currentPage}}/{{worklistService.pageCount}}</div>\r\n                        </li>\r\n                        <li>\r\n                            <button class=\"shortcut-name-button\" (click)=\"onCurrentPageClicked(1)\" [disabled]=\"worklistService.pageCount == 1 || currentPage == 1\">First</button>\r\n                        </li>\r\n                        <li>\r\n                            <button class=\"shortcut-name-button\" (click)=\"onPrevPageClicked()\" [disabled]=\"worklistService.pageCount == 1 || currentPage == 1\">Prev</button>\r\n                        </li>\r\n                        <li>\r\n                            <button class=\"shortcut-name-button\" (click)=\"onNextPageClicked()\" [disabled]=\"worklistService.pageCount == 1 || currentPage == worklistService.pageCount\">Next</button>\r\n                        </li>\r\n                        <li>\r\n                            <button class=\"shortcut-name-button\" (click)=\"onCurrentPageClicked(worklistService.pageCount)\" [disabled]=\"worklistService.pageCount == 1 || currentPage == worklistService.pageCount\">Last</button>\r\n                        </li>\r\n                        <li>\r\n                            <select id=\"ddlPageIndex\" [(ngModel)]=\"currentPage\">\r\n                                <option *ngFor=\"let page of worklistService.pages;\">{{page+1}}</option>\r\n                            </select>\r\n                        </li>\r\n                        <li>\r\n                            <button class=\"shortcut-name-button\" (click)=\"onCurrentPageClicked(currentPage)\" [disabled]=\"worklistService.pageCount == 1\">Goto</button>\r\n                        </li>\r\n                    </ul>\r\n                </td>\r\n            </tr>\r\n        </tfoot>\r\n    </table>\r\n</div>\r\n\r\n<mat-progress-spinner [style.visibility]=\"worklistService.querying? 'visible' : 'hidden'\" class=\"loading-shade\"\r\n                      [color]=\"color\"\r\n                      [mode]=\"mode\"\r\n                      [value]=\"value\">\r\n</mat-progress-spinner>\r\n"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/worklist.component.less":
/*!****************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/worklist.component.less ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*@black: #000;\n@orange: orange;\n@gray: #555;\n@silver: #aaa;\n@white: #fff;*/\n/*.theme-dark {\n    @background-color : @black;\n    @underline-color : @orange;\n    @border-color : @silver;\n    @container-background-color : @gray;\n    @disable-color : @gray;\n    @font-color : @white;\n    .change-dark(@background-color);\n}\n\n\n.theme-light {\n    @background-color : @white;\n    @underline-color : @orange;\n    @border-color : @white;\n    @disable-color : @white;\n    @container-background-color : @white;\n    @font-color: @black;\n    .change-dark(@background-color);\n}*/\n#tblStudies a {\n  color: #fff;\n}\nul {\n  list-style: none;\n  -webkit-padding-start: 0px;\n          padding-inline-start: 0px;\n}\nli {\n  float: left;\n  padding: 2px;\n}\nli button {\n  cursor: pointer;\n}\nthead {\n  background: #555;\n}\nthead tr {\n  background-color: #555;\n}\nthead td {\n  background-color: #555;\n}\nthead div {\n  font-weight: normal;\n}\n.worklistHeader {\n  cursor: pointer;\n  min-width: 50px;\n}\n#headContent td tr {\n  border: 0px;\n}\n#tblStudies td {\n  border: 1px solid #333;\n  color: #ccc;\n}\n#tblStudies td td {\n  border: none;\n}\n#tblStudies th {\n  border: 1px solid #333;\n}\n#tblStudies tr.cust-info td {\n  background-color: #000;\n}\n#trStudiesHeader a {\n  color: #ccc;\n}\n#trSeriesHeader a {\n  color: #fff;\n}\n#trStudiesHeader tr td {\n  border: hidden;\n  padding-right: 5px;\n}\n/*#trStudiesQuery input[type=text] {\n    background-color: @background-color;\n    border: 1px solid @border-color;\n    vertical-align: middle;\n    width: 100%;\n\n    border-bottom:1px solid red;\n\n\n}*/\n/*input:focus{\n    outline: none;\n    border-bottom:1px solid green;\n}*/\n#trStudiesQuery input[type=checkbox] {\n  background-color: #000;\n  border: 1px solid #333;\n  vertical-align: middle;\n  width: 20px;\n}\nselect {\n  background-color: #000;\n  border: 1px solid #333;\n  width: 100%;\n}\n#trStudiesQuery td:nth-child(n) {\n  margin: 0px;\n  padding: 1px;\n  vertical-align: middle;\n}\n#tblStudies tbody tr:nth-child(2n) {\n  background-color: #181818;\n}\n#tblStudies tbody tr:hover {\n  background-color: #555;\n  color: orange;\n}\n#trStudiesQuery .dropdown {\n  background-color: #555;\n  color: red;\n}\n#trStudiesQuery .dropdown .btn {\n  background-color: #555;\n  min-width: 70px;\n  padding: 1px 6px;\n}\n.loading-shade {\n  align-items: center;\n  background: #000;\n  bottom: 0px;\n  display: flex;\n  justify-content: center;\n  left: 0px;\n  margin: auto;\n  position: fixed;\n  right: 0px;\n  top: 0px;\n  z-index: 1;\n}\n.shortcut-name-button {\n  background-color: transparent;\n  border: none;\n  border-width: 0px;\n  color: inherit;\n  outline: none;\n}\n.shortcut-name-button:disabled {\n  color: #555;\n}\n.setRead,\n.setUnread {\n  border: none;\n  height: 40px;\n  outline: none;\n  width: 40px;\n}\n.setRead {\n  background: url('setRead_40_40_All.png') no-repeat left top;\n  background-size: cover;\n}\n.setRead:hover {\n  background: url('setRead_40_40_All.png') no-repeat right top;\n  background-size: cover;\n}\n.setRead:active {\n  background: url('setRead_40_40_All.png') no-repeat left bottom;\n  background-size: cover;\n}\n.setRead:disabled {\n  background: url('setRead_40_40_All.png') no-repeat right bottom;\n  background-size: cover;\n}\n.setReadCover {\n  height: 20px;\n  width: 20px;\n  overflow: hidden;\n}\n.setUnread {\n  background: url('setUnread_40_40_All.png') no-repeat left top;\n  background-size: cover;\n}\n.setUnread:hover {\n  background: url('setUnread_40_40_All.png') no-repeat right top;\n  background-size: cover;\n}\n.setUnread:active {\n  background: url('setUnread_40_40_All.png') no-repeat left bottom;\n  background-size: cover;\n}\n.setUnread:disabled {\n  background: url('setUnread_40_40_All.png') no-repeat right bottom;\n  background-size: cover;\n}\n.setUnreadCover {\n  height: 20px;\n  width: 20px;\n  overflow: hidden;\n}\n.onlineStudy {\n  color: #fff;\n  text-decoration: underline;\n  cursor: pointer;\n}\n.offlineStudy {\n  color: #555;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC93b3JrbGlzdC5jb21wb25lbnQubGVzcyIsInNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC9EOi9Xb3JrL0dpdC9JbWFnZVN1aXRlL1dlYlBhY3MvQ3NoLkltYWdlU3VpdGUuV2ViQ2xpZW50L3NyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC93b3JrbGlzdC5jb21wb25lbnQubGVzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztjQUljO0FBQ2Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFtQkU7QUN0QkY7RUFDSSxXQUFBO0FEd0JKO0FDckJBO0VBQ0ksZ0JBQUE7RUFDQSwwQkFBQTtVQUFBLHlCQUFBO0FEdUJKO0FDcEJBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QURzQko7QUNuQkk7RUFDSSxlQUFBO0FEcUJSO0FDbEJBO0VBQ0ksZ0JBQUE7QURvQko7QUNqQkE7RUFDSSxzQkFBQTtBRG1CSjtBQ2hCQTtFQUNJLHNCQUFBO0FEa0JKO0FDZkE7RUFDSSxtQkFBQTtBRGlCSjtBQ2RBO0VBQ0ksZUFBQTtFQUNBLGVBQUE7QURnQko7QUNiQTtFQUNJLFdBQUE7QURlSjtBQ1pBO0VBQ0ksc0JBQUE7RUFDQSxXQUFBO0FEY0o7QUNYQTtFQUNJLFlBQUE7QURhSjtBQ1RBO0VBQ0ksc0JBQUE7QURXSjtBQ1JBO0VBQ0ksc0JBQUE7QURVSjtBQ1BBO0VBQ0ksV0FBQTtBRFNKO0FDTkE7RUFDSSxXQUFBO0FEUUo7QUNMQTtFQUNJLGNBQUE7RUFDQSxrQkFBQTtBRE9KO0FBQ0E7Ozs7Ozs7OztFQVNFO0FBQ0Y7OztFQUdFO0FDQUY7RUFDSSxzQkFBQTtFQUNBLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0FERUo7QUNDQTtFQUNJLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSxXQUFBO0FEQ0o7QUNFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7QURBSjtBQ0dBO0VBQ0kseUJBQUE7QURESjtBQ0lBO0VBQ0ksc0JBQUE7RUFDQSxhQUFBO0FERko7QUNNQTtFQUNJLHNCQUFBO0VBQ0EsVUFBQTtBREpKO0FDT0k7RUFDSSxzQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBRExSO0FDUUE7RUFDSSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsVUFBQTtBRE5KO0FDU0E7RUFDSSw2QkFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0FEUEo7QUNVQTtFQUNJLFdBQUE7QURSSjtBQ1dBOztFQUNJLFlBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7QURSSjtBQ1dBO0VBQ0ksMkRBQUE7RUFDQSxzQkFBQTtBRFRKO0FDYUE7RUFBaUIsNERBQUE7RUFBMEYsc0JBQUE7QURUM0c7QUNXQTtFQUFrQiw4REFBQTtFQUE0RixzQkFBQTtBRFA5RztBQ1NBO0VBQW9CLCtEQUFBO0VBQTZGLHNCQUFBO0FETGpIO0FDT0E7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0FETEo7QUNRQTtFQUFhLDZEQUFBO0VBQTJGLHNCQUFBO0FESnhHO0FDTUE7RUFBbUIsOERBQUE7RUFBNEYsc0JBQUE7QURGL0c7QUNJQTtFQUFvQixnRUFBQTtFQUE4RixzQkFBQTtBREFsSDtBQ0VBO0VBQXNCLGlFQUFBO0VBQStGLHNCQUFBO0FERXJIO0FDQUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0FERUo7QUNDQTtFQUNJLFdBQUE7RUFDQSwwQkFBQTtFQUNBLGVBQUE7QURDSjtBQ0VBO0VBQ0ksV0FBQTtBREFKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy93b3JrbGlzdC1zaGVsbC93b3JrbGlzdC93b3JrbGlzdC5jb21wb25lbnQubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qQGJsYWNrOiAjMDAwO1xuQG9yYW5nZTogb3JhbmdlO1xuQGdyYXk6ICM1NTU7XG5Ac2lsdmVyOiAjYWFhO1xuQHdoaXRlOiAjZmZmOyovXG4vKi50aGVtZS1kYXJrIHtcbiAgICBAYmFja2dyb3VuZC1jb2xvciA6IEBibGFjaztcbiAgICBAdW5kZXJsaW5lLWNvbG9yIDogQG9yYW5nZTtcbiAgICBAYm9yZGVyLWNvbG9yIDogQHNpbHZlcjtcbiAgICBAY29udGFpbmVyLWJhY2tncm91bmQtY29sb3IgOiBAZ3JheTtcbiAgICBAZGlzYWJsZS1jb2xvciA6IEBncmF5O1xuICAgIEBmb250LWNvbG9yIDogQHdoaXRlO1xuICAgIC5jaGFuZ2UtZGFyayhAYmFja2dyb3VuZC1jb2xvcik7XG59XG5cblxuLnRoZW1lLWxpZ2h0IHtcbiAgICBAYmFja2dyb3VuZC1jb2xvciA6IEB3aGl0ZTtcbiAgICBAdW5kZXJsaW5lLWNvbG9yIDogQG9yYW5nZTtcbiAgICBAYm9yZGVyLWNvbG9yIDogQHdoaXRlO1xuICAgIEBkaXNhYmxlLWNvbG9yIDogQHdoaXRlO1xuICAgIEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvciA6IEB3aGl0ZTtcbiAgICBAZm9udC1jb2xvcjogQGJsYWNrO1xuICAgIC5jaGFuZ2UtZGFyayhAYmFja2dyb3VuZC1jb2xvcik7XG59Ki9cbiN0YmxTdHVkaWVzIGEge1xuICBjb2xvcjogI2ZmZjtcbn1cbnVsIHtcbiAgbGlzdC1zdHlsZTogbm9uZTtcbiAgcGFkZGluZy1pbmxpbmUtc3RhcnQ6IDBweDtcbn1cbmxpIHtcbiAgZmxvYXQ6IGxlZnQ7XG4gIHBhZGRpbmc6IDJweDtcbn1cbmxpIGJ1dHRvbiB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbnRoZWFkIHtcbiAgYmFja2dyb3VuZDogIzU1NTtcbn1cbnRoZWFkIHRyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbn1cbnRoZWFkIHRkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbn1cbnRoZWFkIGRpdiB7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG4ud29ya2xpc3RIZWFkZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIG1pbi13aWR0aDogNTBweDtcbn1cbiNoZWFkQ29udGVudCB0ZCB0ciB7XG4gIGJvcmRlcjogMHB4O1xufVxuI3RibFN0dWRpZXMgdGQge1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzMzO1xuICBjb2xvcjogI2NjYztcbn1cbiN0YmxTdHVkaWVzIHRkIHRkIHtcbiAgYm9yZGVyOiBub25lO1xufVxuI3RibFN0dWRpZXMgdGgge1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzMzO1xufVxuI3RibFN0dWRpZXMgdHIuY3VzdC1pbmZvIHRkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcbn1cbiN0clN0dWRpZXNIZWFkZXIgYSB7XG4gIGNvbG9yOiAjY2NjO1xufVxuI3RyU2VyaWVzSGVhZGVyIGEge1xuICBjb2xvcjogI2ZmZjtcbn1cbiN0clN0dWRpZXNIZWFkZXIgdHIgdGQge1xuICBib3JkZXI6IGhpZGRlbjtcbiAgcGFkZGluZy1yaWdodDogNXB4O1xufVxuLyojdHJTdHVkaWVzUXVlcnkgaW5wdXRbdHlwZT10ZXh0XSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGJhY2tncm91bmQtY29sb3I7XG4gICAgYm9yZGVyOiAxcHggc29saWQgQGJvcmRlci1jb2xvcjtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgcmVkO1xuXG5cbn0qL1xuLyppbnB1dDpmb2N1c3tcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkIGdyZWVuO1xufSovXG4jdHJTdHVkaWVzUXVlcnkgaW5wdXRbdHlwZT1jaGVja2JveF0ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzMzO1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICB3aWR0aDogMjBweDtcbn1cbnNlbGVjdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XG4gIHdpZHRoOiAxMDAlO1xufVxuI3RyU3R1ZGllc1F1ZXJ5IHRkOm50aC1jaGlsZChuKSB7XG4gIG1hcmdpbjogMHB4O1xuICBwYWRkaW5nOiAxcHg7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG4jdGJsU3R1ZGllcyB0Ym9keSB0cjpudGgtY2hpbGQoMm4pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE4MTgxODtcbn1cbiN0YmxTdHVkaWVzIHRib2R5IHRyOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbiAgY29sb3I6IG9yYW5nZTtcbn1cbiN0clN0dWRpZXNRdWVyeSAuZHJvcGRvd24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1O1xuICBjb2xvcjogcmVkO1xufVxuI3RyU3R1ZGllc1F1ZXJ5IC5kcm9wZG93biAuYnRuIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbiAgbWluLXdpZHRoOiA3MHB4O1xuICBwYWRkaW5nOiAxcHggNnB4O1xufVxuLmxvYWRpbmctc2hhZGUge1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBiYWNrZ3JvdW5kOiAjMDAwO1xuICBib3R0b206IDBweDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGxlZnQ6IDBweDtcbiAgbWFyZ2luOiBhdXRvO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHJpZ2h0OiAwcHg7XG4gIHRvcDogMHB4O1xuICB6LWluZGV4OiAxO1xufVxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXdpZHRoOiAwcHg7XG4gIGNvbG9yOiBpbmhlcml0O1xuICBvdXRsaW5lOiBub25lO1xufVxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uOmRpc2FibGVkIHtcbiAgY29sb3I6ICM1NTU7XG59XG4uc2V0UmVhZCxcbi5zZXRVbnJlYWQge1xuICBib3JkZXI6IG5vbmU7XG4gIGhlaWdodDogNDBweDtcbiAgb3V0bGluZTogbm9uZTtcbiAgd2lkdGg6IDQwcHg7XG59XG4uc2V0UmVhZCB7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IHRvcDtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cbi5zZXRSZWFkOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cbi5zZXRSZWFkOmFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cbi5zZXRSZWFkOmRpc2FibGVkIHtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cbi5zZXRSZWFkQ292ZXIge1xuICBoZWlnaHQ6IDIwcHg7XG4gIHdpZHRoOiAyMHB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuLnNldFVucmVhZCB7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufVxuLnNldFVucmVhZDpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRVbnJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cbi5zZXRVbnJlYWQ6YWN0aXZlIHtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFVucmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCBib3R0b207XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG59XG4uc2V0VW5yZWFkOmRpc2FibGVkIHtcbiAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFVucmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgYm90dG9tO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufVxuLnNldFVucmVhZENvdmVyIHtcbiAgaGVpZ2h0OiAyMHB4O1xuICB3aWR0aDogMjBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5vbmxpbmVTdHVkeSB7XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLm9mZmxpbmVTdHVkeSB7XG4gIGNvbG9yOiAjNTU1O1xufVxuIiwiQGltcG9ydCAnLi4vLi4vLi4vLi4vdGhlbWVzLmxlc3MnO1xuXG4jdGJsU3R1ZGllcyBhIHtcbiAgICBjb2xvcjogQGZvbnQtY29sb3I7XG59XG5cbnVsIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAwcHg7XG59XG5cbmxpIHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBwYWRkaW5nOiAycHg7XG59XG5cbiAgICBsaSBidXR0b24ge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxuXG50aGVhZCB7XG4gICAgYmFja2dyb3VuZDogQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yO1xufVxuXG50aGVhZCB0ciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yO1xufVxuXG50aGVhZCB0ZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yO1xufVxuXG50aGVhZCBkaXYge1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG5cbi53b3JrbGlzdEhlYWRlciB7XG4gICAgY3Vyc29yOnBvaW50ZXI7XG4gICAgbWluLXdpZHRoOjUwcHg7XG59XG5cbiNoZWFkQ29udGVudCB0ZCB0cntcbiAgICBib3JkZXI6IDBweDtcbn1cblxuI3RibFN0dWRpZXMgdGQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIEBib3JkZXItY29sb3I7XG4gICAgY29sb3I6IEBmb250LXNlY29uZC1jb2xvcjtcbn1cblxuI3RibFN0dWRpZXMgdGQgdGQge1xuICAgIGJvcmRlciA6IG5vbmU7XG59XG5cblxuI3RibFN0dWRpZXMgdGgge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIEBib3JkZXItY29sb3I7XG59XG5cbiN0YmxTdHVkaWVzIHRyLmN1c3QtaW5mbyB0ZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGJhY2tncm91bmQtY29sb3I7XG59XG5cbiN0clN0dWRpZXNIZWFkZXIgYSB7XG4gICAgY29sb3I6IEBmb250LXNlY29uZC1jb2xvcjtcbn1cblxuI3RyU2VyaWVzSGVhZGVyIGEge1xuICAgIGNvbG9yOiBAZm9udC1jb2xvcjtcbn1cblxuI3RyU3R1ZGllc0hlYWRlciB0ciB0ZCB7XG4gICAgYm9yZGVyOmhpZGRlbjtcbiAgICBwYWRkaW5nLXJpZ2h0OjVweDtcbn1cblxuLyojdHJTdHVkaWVzUXVlcnkgaW5wdXRbdHlwZT10ZXh0XSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGJhY2tncm91bmQtY29sb3I7XG4gICAgYm9yZGVyOiAxcHggc29saWQgQGJvcmRlci1jb2xvcjtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgcmVkO1xuXG5cbn0qL1xuXG4vKmlucHV0OmZvY3Vze1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgZ3JlZW47XG59Ki9cblxuXG5cbiN0clN0dWRpZXNRdWVyeSBpbnB1dFt0eXBlPWNoZWNrYm94XSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGJhY2tncm91bmQtY29sb3I7XG4gICAgYm9yZGVyOiAxcHggc29saWQgQGJvcmRlci1jb2xvcjtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIHdpZHRoOiAyMHB4O1xufVxuXG5zZWxlY3Qge1xuICAgIGJhY2tncm91bmQtY29sb3I6IEBiYWNrZ3JvdW5kLWNvbG9yO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIEBib3JkZXItY29sb3I7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbiN0clN0dWRpZXNRdWVyeSB0ZDpudGgtY2hpbGQobikge1xuICAgIG1hcmdpbjogMHB4O1xuICAgIHBhZGRpbmc6IDFweDtcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xufVxuXG4jdGJsU3R1ZGllcyB0Ym9keSB0cjpudGgtY2hpbGQoMm4pIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBAb2RkLXRyLWNvbG9yO1xufVxuXG4jdGJsU3R1ZGllcyB0Ym9keSB0cjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yO1xuICAgIGNvbG9yOiBAdW5kZXJsaW5lLWNvbG9yO1xufVxuXG5cbiN0clN0dWRpZXNRdWVyeSAuZHJvcGRvd24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IEBjb250YWluZXItYmFja2dyb3VuZC1jb2xvcjtcbiAgICBjb2xvcjogQGVycm9yLWNvbG9yO1xufVxuXG4gICAgI3RyU3R1ZGllc1F1ZXJ5IC5kcm9wZG93biAuYnRuIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogQGNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yO1xuICAgICAgICBtaW4td2lkdGg6IDcwcHg7XG4gICAgICAgIHBhZGRpbmc6IDFweCA2cHg7XG4gICAgfVxuXG4ubG9hZGluZy1zaGFkZSB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kOiBAYmFja2dyb3VuZC1jb2xvcjtcbiAgICBib3R0b206IDBweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGxlZnQ6IDBweDtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHJpZ2h0OiAwcHg7XG4gICAgdG9wOiAwcHg7XG4gICAgei1pbmRleDogMTtcbn1cblxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLXdpZHRoOiAwcHg7XG4gICAgY29sb3I6IGluaGVyaXQ7XG4gICAgb3V0bGluZTogbm9uZTtcbn1cblxuLnNob3J0Y3V0LW5hbWUtYnV0dG9uOmRpc2FibGVkIHtcbiAgICBjb2xvcjogQGRpc2FibGUtY29sb3I7XG59XG5cbi5zZXRSZWFkLCAuc2V0VW5yZWFkIHtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgd2lkdGg6IDQwcHg7XG59XG5cbi5zZXRSZWFkIHsgXG4gICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IGxlZnQgdG9wIDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufVxuXG5cbi5zZXRSZWFkOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IHRvcDsgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjt9XG5cbi5zZXRSZWFkOmFjdGl2ZSB7IGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi8uLi9hc3NldHMvaW1nL2J1dHRvbi9zZXRSZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjt9XG5cbi5zZXRSZWFkOmRpc2FibGVkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFJlYWRfNDBfNDBfQWxsLnBuZykgbm8tcmVwZWF0IHJpZ2h0IGJvdHRvbTsgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjt9XG5cbi5zZXRSZWFkQ292ZXIge1xuICAgIGhlaWdodDogMjBweDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uc2V0VW5yZWFkIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFVucmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgbGVmdCB0b3A7IGJhY2tncm91bmQtc2l6ZTogY292ZXI7fVxuXG4uc2V0VW5yZWFkOmhvdmVyIHsgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYnV0dG9uL3NldFVucmVhZF80MF80MF9BbGwucG5nKSBuby1yZXBlYXQgcmlnaHQgdG9wOyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO31cblxuLnNldFVucmVhZDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGJvdHRvbTsgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjt9XG5cbi5zZXRVbnJlYWQ6ZGlzYWJsZWQgeyBiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vLi4vYXNzZXRzL2ltZy9idXR0b24vc2V0VW5yZWFkXzQwXzQwX0FsbC5wbmcpIG5vLXJlcGVhdCByaWdodCBib3R0b207IGJhY2tncm91bmQtc2l6ZTogY292ZXI7fVxuXG4uc2V0VW5yZWFkQ292ZXIge1xuICAgIGhlaWdodDogMjBweDtcbiAgICB3aWR0aDogMjBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4ub25saW5lU3R1ZHkge1xuICAgIGNvbG9yOiBAZm9udC1jb2xvcjtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5vZmZsaW5lU3R1ZHkge1xuICAgIGNvbG9yOkBjb250YWluZXItYmFja2dyb3VuZC1jb2xvcjtcbn1cblxuIl19 */"

/***/ }),

/***/ "./src/app/components/worklist-shell/worklist/worklist.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/components/worklist-shell/worklist/worklist.component.ts ***!
  \**************************************************************************/
/*! exports provided: MY_FORMATS, WorklistComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MY_FORMATS", function() { return MY_FORMATS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorklistComponent", function() { return WorklistComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_worklist_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/worklist.service */ "./src/app/services/worklist.service.ts");
/* harmony import */ var _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/dialog.service */ "./src/app/services/dialog.service.ts");
/* harmony import */ var _components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/dialog/select-studydate-dialog/select-studydate-dialog.component */ "./src/app/components/dialog/select-studydate-dialog/select-studydate-dialog.component.ts");
/* harmony import */ var _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material-moment-adapter */ "./node_modules/@angular/material-moment-adapter/esm5/material-moment-adapter.es5.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/esm5/core.es5.js");
/* harmony import */ var _models_dailog_data_date_range__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../models/dailog-data/date-range */ "./src/app/models/dailog-data/date-range.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




// Import DatePicker format



var MY_FORMATS = {
    parse: {
        dateInput: "LL",
    },
    display: {
        dateInput: "LL",
        monthYearLabel: "MMM YYYY",
        dateA11yLabel: "LL",
        monthYearA11yLabel: "MMMM YYYY",
    },
};
var WorklistComponent = /** @class */ (function () {
    function WorklistComponent(worklistService, dialogService) {
        var _this = this;
        this.worklistService = worklistService;
        this.dialogService = dialogService;
        this.color = "#primary";
        this.mode = "indeterminate";
        this.value = 50;
        this.events = [];
        this.fromMinDate = new Date(1900, 1, 1);
        this.fromMaxDate = new Date();
        this.toMinDate = new Date();
        this.toMaxDate = new Date();
        this.currentPage = 1;
        this.isDesc = false;
        this.orderHeader = "";
        this.myplaceHolder = 'Enter Name';
        this.worklistColumnsTemp = [
            "PatientID",
            "PatientName",
            "Gender",
            "BirthDate",
            "AccessionNo",
            "Modality",
            "StudyDate",
            "StudyTime",
            "SeriesCount",
            "ImageCount",
            "StudyID"
        ];
        this.shortcutSelected = this.worklistService.shortcutSelected$.subscribe(function (shortcut) { return _this.onShortcutSelected(shortcut); });
    }
    WorklistComponent.prototype.fromDateChanged = function (type, event) {
        this.toMinDate = event.value;
    };
    WorklistComponent.prototype.toDateChanged = function (type, event) {
        this.fromMaxDate = event.value;
    };
    WorklistComponent.prototype.onShortcutSelected = function (shortcut) {
        this.worklistService.shortcut = shortcut;
    };
    WorklistComponent.prototype.ngOnChanges = function (changes) {
        //alert('aa');
    };
    WorklistComponent.prototype.ngOnInit = function () {
        this.worklistService.onQueryStudies(1);
        this.worklistService.onQueryShortcuts();
        this.worklistService.onQueryWorklistCol();
    };
    WorklistComponent.prototype.onStudyChecked = function (study) {
        study.studyChecked = !study.studyChecked;
        this.onCheckStudyChanged();
    };
    WorklistComponent.prototype.onAllStudyChecked = function (event) {
        this.worklistService.studies.forEach(function (study) { return study.studyChecked = event.target.studyChecked; });
    };
    WorklistComponent.prototype.doShowStudy = function (study) {
        study.studyChecked = true;
        this.worklistService.onShowSingleStudy(study);
    };
    WorklistComponent.prototype.onStudyDateChangeSelect = function (optionValue) {
        var _this = this;
        if (optionValue == "7") {
            var studyDate = new _models_dailog_data_date_range__WEBPACK_IMPORTED_MODULE_6__["DateRange"];
            this.dialogService.showDialog(_components_dialog_select_studydate_dialog_select_studydate_dialog_component__WEBPACK_IMPORTED_MODULE_3__["SelectStudydateDialogComponent"], studyDate).subscribe(function (val) {
                _this.getStudyDate(val);
            });
        }
    };
    WorklistComponent.prototype.getStudyDate = function (studyDate) {
        this.initStudyDate = studyDate;
        this.worklistService.shortcut.studyDateFrom = studyDate.dateFrom;
        this.worklistService.shortcut.studyDateTo = studyDate.dateTo;
    };
    WorklistComponent.prototype.onPrevPageClicked = function () {
        this.currentPage = this.currentPage - 1;
        this.worklistService.onQueryStudies(this.currentPage);
    };
    WorklistComponent.prototype.onNextPageClicked = function () {
        this.currentPage = this.currentPage + 1;
        this.worklistService.onQueryStudies(this.currentPage);
    };
    WorklistComponent.prototype.onCurrentPageClicked = function (i) {
        this.currentPage = +i;
        this.worklistService.onQueryStudies(this.currentPage);
    };
    WorklistComponent.prototype.onWorklistHeaderClicked = function (clickedHeader) {
        this.orderHeader = clickedHeader;
        if (!this.isDesc) {
            this.isDesc = true;
            this.worklistService.onQueryStudies(this.currentPage, clickedHeader + "|Desc");
        }
        else {
            this.isDesc = false;
            this.worklistService.onQueryStudies(this.currentPage, clickedHeader + "|");
        }
    };
    WorklistComponent.prototype.onStudyDateRangeTableClicked = function () {
        this.initStudyDate = null;
    };
    WorklistComponent.prototype.onSetRead = function (study) {
        this.worklistService.onSetRead(study);
    };
    WorklistComponent.prototype.onSetUnread = function (study) {
        this.worklistService.onSetUnread(study);
    };
    WorklistComponent.prototype.onCheckStudyChanged = function () {
        this.worklistService.onCheckStudyChanged();
    };
    WorklistComponent.prototype.checkPlaceHolder = function () {
        if (this.myplaceHolder) {
            this.myplaceHolder = null;
            return;
        }
        else {
            this.myplaceHolder = 'Enter Name';
            return;
        }
    };
    WorklistComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: "app-worklist",
            template: __webpack_require__(/*! ./worklist.component.html */ "./src/app/components/worklist-shell/worklist/worklist.component.html"),
            providers: [
                // i18n
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_LOCALE"], useValue: "zh-CN" },
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["DateAdapter"], useClass: _angular_material_moment_adapter__WEBPACK_IMPORTED_MODULE_4__["MomentDateAdapter"], deps: [_angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_LOCALE"]] },
                { provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MAT_DATE_FORMATS"], useValue: MY_FORMATS },
            ],
            styles: [__webpack_require__(/*! ./worklist.component.less */ "./src/app/components/worklist-shell/worklist/worklist.component.less")]
        }),
        __metadata("design:paramtypes", [_services_worklist_service__WEBPACK_IMPORTED_MODULE_1__["WorklistService"], _services_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], WorklistComponent);
    return WorklistComponent;
}());



/***/ }),

/***/ "./src/app/models/annotation.ts":
/*!**************************************!*\
  !*** ./src/app/models/annotation.ts ***!
  \**************************************/
/*! exports provided: PositionInRectangle, AnnType, MouseEventType, Point, Size, Rectangle, AnnotationDefinitionData, AnnGuideStepConfig, AnnGuideStepData, AnnGuideActionButton, AnnGuideData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PositionInRectangle", function() { return PositionInRectangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnType", function() { return AnnType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MouseEventType", function() { return MouseEventType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Point", function() { return Point; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Size", function() { return Size; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rectangle", function() { return Rectangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationDefinitionData", function() { return AnnotationDefinitionData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuideStepConfig", function() { return AnnGuideStepConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuideStepData", function() { return AnnGuideStepData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuideActionButton", function() { return AnnGuideActionButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnGuideData", function() { return AnnGuideData; });
var PositionInRectangle;
(function (PositionInRectangle) {
    PositionInRectangle[PositionInRectangle["Top"] = 0] = "Top";
    PositionInRectangle[PositionInRectangle["TopLeft"] = 1] = "TopLeft";
    PositionInRectangle[PositionInRectangle["TopRight"] = 2] = "TopRight";
    PositionInRectangle[PositionInRectangle["Left"] = 3] = "Left";
    PositionInRectangle[PositionInRectangle["Right"] = 4] = "Right";
    PositionInRectangle[PositionInRectangle["Bottom"] = 5] = "Bottom";
    PositionInRectangle[PositionInRectangle["BottomLeft"] = 6] = "BottomLeft";
    PositionInRectangle[PositionInRectangle["BottomRight"] = 7] = "BottomRight";
})(PositionInRectangle || (PositionInRectangle = {}));
// Annotation type, copied from ImageSuite Acq.
// The annotation type in Web and Acq is different. Not sure why.
var AnnType;
(function (AnnType) {
    AnnType[AnnType["None"] = 0] = "None";
    AnnType[AnnType["Select"] = 1] = "Select";
    AnnType[AnnType["Rect"] = 2] = "Rect";
    AnnType[AnnType["RectEx"] = 3] = "RectEx";
    AnnType[AnnType["Ellipse"] = 4] = "Ellipse";
    AnnType[AnnType["Pointer"] = 5] = "Pointer";
    AnnType[AnnType["FreeArea"] = 6] = "FreeArea";
    AnnType[AnnType["Text"] = 7] = "Text";
    AnnType[AnnType["Ruler"] = 8] = "Ruler";
    AnnType[AnnType["Protractor"] = 9] = "Protractor";
    AnnType[AnnType["Arrow"] = 10] = "Arrow";
    AnnType[AnnType["Stamp"] = 11] = "Stamp";
    AnnType[AnnType["Multiline"] = 12] = "Multiline";
    AnnType[AnnType["HeartChestRatio"] = 13] = "HeartChestRatio";
    AnnType[AnnType["CobbAngle"] = 14] = "CobbAngle";
    AnnType[AnnType["LipmanCobbAngle"] = 15] = "LipmanCobbAngle";
    AnnType[AnnType["Coxometry"] = 16] = "Coxometry";
    AnnType[AnnType["Goniometry"] = 17] = "Goniometry";
    AnnType[AnnType["Gd"] = 18] = "Gd";
    AnnType[AnnType["Vd"] = 19] = "Vd";
    AnnType[AnnType["Vhs"] = 20] = "Vhs";
    AnnType[AnnType["Tta"] = 21] = "Tta";
    AnnType[AnnType["Tplo"] = 22] = "Tplo";
    AnnType[AnnType["Laminitis"] = 23] = "Laminitis";
    AnnType[AnnType["Polygon"] = 24] = "Polygon";
    AnnType[AnnType["Blade"] = 25] = "Blade";
    AnnType[AnnType["Chiro"] = 26] = "Chiro";
    AnnType[AnnType["Gonstead"] = 27] = "Gonstead";
    AnnType[AnnType["Vaxis"] = 28] = "Vaxis";
    AnnType[AnnType["VlineDistance"] = 29] = "VlineDistance";
    AnnType[AnnType["LineExt"] = 30] = "LineExt";
    AnnType[AnnType["CervicalCurve"] = 31] = "CervicalCurve";
    AnnType[AnnType["LumbarCurve"] = 32] = "LumbarCurve";
    AnnType[AnnType["GeorgeLine"] = 33] = "GeorgeLine";
    AnnType[AnnType["LineEx1"] = 34] = "LineEx1";
    AnnType[AnnType["OffsetCobbAngle"] = 35] = "OffsetCobbAngle";
    AnnType[AnnType["ExtendedCobbAngle"] = 36] = "ExtendedCobbAngle";
    AnnType[AnnType["MarkSpot"] = 37] = "MarkSpot";
    AnnType[AnnType["LineRatio"] = 38] = "LineRatio";
    AnnType[AnnType["VerticalDeflection"] = 39] = "VerticalDeflection";
    AnnType[AnnType["HorizontalDeflection"] = 40] = "HorizontalDeflection";
    AnnType[AnnType["GeorgesLineNew"] = 41] = "GeorgesLineNew";
    AnnType[AnnType["Ara"] = 42] = "Ara";
    AnnType[AnnType["VertebralCompression"] = 43] = "VertebralCompression";
    AnnType[AnnType["Cmap"] = 44] = "Cmap";
    AnnType[AnnType["LoganBasicMarking"] = 45] = "LoganBasicMarking";
})(AnnType || (AnnType = {}));
var MouseEventType;
(function (MouseEventType) {
    MouseEventType[MouseEventType["Click"] = 1] = "Click";
    MouseEventType[MouseEventType["MouseDown"] = 2] = "MouseDown";
    MouseEventType[MouseEventType["MouseMove"] = 3] = "MouseMove";
    MouseEventType[MouseEventType["MouseUp"] = 4] = "MouseUp";
    MouseEventType[MouseEventType["MouseOver"] = 5] = "MouseOver";
    MouseEventType[MouseEventType["MouseOut"] = 6] = "MouseOut";
    MouseEventType[MouseEventType["RightClick"] = 7] = "RightClick";
    MouseEventType[MouseEventType["DblClick"] = 8] = "DblClick";
    MouseEventType[MouseEventType["MouseWheel"] = 9] = "MouseWheel";
})(MouseEventType || (MouseEventType = {}));
var Point = /** @class */ (function () {
    function Point(x, y) {
        this.x = x;
        this.y = y;
    }
    return Point;
}());

var Size = /** @class */ (function () {
    function Size(cx, cy) {
        this.cx = cx;
        this.cy = cy;
    }
    return Size;
}());

var Rectangle = /** @class */ (function () {
    function Rectangle(x, y, width, height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
    return Rectangle;
}());

var AnnotationDefinitionData = /** @class */ (function () {
    function AnnotationDefinitionData(classType, cursorName, needGuide, imageSuiteAnnName, imageSuiteAnnType) {
        this.classType = classType;
        this.cursorName = cursorName;
        this.needGuide = needGuide;
        this.imageSuiteAnnName = imageSuiteAnnName;
        this.imageSuiteAnnType = imageSuiteAnnType;
        this.className = classType.name;
    }
    return AnnotationDefinitionData;
}());

// The configuration data for each step of the annotation
var AnnGuideStepConfig = /** @class */ (function () {
    function AnnGuideStepConfig(imageName, tipTextCreating, tipTextCreated) {
        if (tipTextCreated === void 0) { tipTextCreated = undefined; }
        this.imageName = imageName;
        this.tipTextCreating = tipTextCreating;
        this.tipTextCreated = tipTextCreated ? tipTextCreated : tipTextCreating;
    }
    return AnnGuideStepConfig;
}());

// The running data for each step
var AnnGuideStepData = /** @class */ (function () {
    function AnnGuideStepData(stepIndex, baseUrl, annGuideStepConfig) {
        // The image data of the tutor image
        this.imageData = new Image();
        this.annGuideStepConfig = annGuideStepConfig;
        this.stepIndex = stepIndex;
        this.imageSrc = baseUrl + "assets/img/TutorImage/" + annGuideStepConfig.imageName;
    }
    AnnGuideStepData.prototype.loadImage = function () {
        this.imageData.src = this.imageSrc;
    };
    AnnGuideStepData.prototype.getTipText = function (annCreated) {
        return annCreated ? this.annGuideStepConfig.tipTextCreated : this.annGuideStepConfig.tipTextCreating;
    };
    AnnGuideStepData.prototype.del = function () {
        if (this.jcBackground)
            this.jcBackground.del();
        if (this.jcBackgroundBorder)
            this.jcBackgroundBorder.del();
        if (this.jcText)
            this.jcText.del();
    };
    return AnnGuideStepData;
}());

// The action button of the guide
var AnnGuideActionButton = /** @class */ (function () {
    function AnnGuideActionButton(baseUrl, buttonName, onButtonClick) {
        var _this = this;
        // If the button is disabled
        this.disabled = false;
        // There are four states for a button
        this.imageTypeList = ["disabled", "hover", "select", "up"];
        // The image source string for the four states
        this.imageSrcList = [];
        // The image data for the four states
        this.imageDataList = [];
        baseUrl += "assets/img/TutorImage/";
        this.onButtonClick = onButtonClick;
        this.imageTypeList.forEach(function (type) {
            _this.imageSrcList.push(baseUrl + buttonName + "_" + type + ".png");
            _this.imageDataList.push(new Image());
        });
    }
    AnnGuideActionButton.prototype.loadImage = function () {
        for (var i = 0; i < this.imageDataList.length; i++) {
            this.imageDataList[i].src = this.imageSrcList[i];
        }
    };
    AnnGuideActionButton.prototype.del = function () {
        if (this.jcImage)
            this.jcImage.del();
    };
    AnnGuideActionButton.prototype.visible = function (visible) {
        if (this.jcImage) {
            this.jcImage.visible(visible);
        }
    };
    AnnGuideActionButton.prototype.onDisabled = function () {
        this.jcImage._img = this.imageDataList[0];
        this.disabled = true;
    };
    AnnGuideActionButton.prototype.onHover = function () {
        this.jcImage._img = this.imageDataList[1];
        this.disabled = false;
    };
    AnnGuideActionButton.prototype.onSelect = function () {
        this.jcImage._img = this.imageDataList[2];
        this.disabled = false;
    };
    AnnGuideActionButton.prototype.onUp = function () {
        this.jcImage._img = this.imageDataList[3];
        this.disabled = false;
    };
    AnnGuideActionButton.prototype.getUpImage = function () {
        return this.imageDataList[3];
    };
    AnnGuideActionButton.prototype.getDisabledImage = function () {
        return this.imageDataList[0];
    };
    AnnGuideActionButton.prototype.isDisabled = function () {
        return this.disabled;
    };
    return AnnGuideActionButton;
}());

var AnnGuideData = /** @class */ (function () {
    function AnnGuideData(annName) {
        this.guideStepConfigList = [];
        this.guideStepImageList = [];
        this.annName = annName;
    }
    AnnGuideData.prototype.addStepConfig = function (annGuideStepConfig) {
        this.guideStepConfigList.push(annGuideStepConfig);
    };
    AnnGuideData.prototype.addStepImage = function (stepImage) {
        this.guideStepImageList.push(stepImage);
    };
    return AnnGuideData;
}());



/***/ }),

/***/ "./src/app/models/dailog-data/date-range.ts":
/*!**************************************************!*\
  !*** ./src/app/models/dailog-data/date-range.ts ***!
  \**************************************************/
/*! exports provided: DateRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateRange", function() { return DateRange; });
var DateRange = /** @class */ (function () {
    function DateRange() {
    }
    return DateRange;
}());



/***/ }),

/***/ "./src/app/models/dailog-data/image-process.ts":
/*!*****************************************************!*\
  !*** ./src/app/models/dailog-data/image-process.ts ***!
  \*****************************************************/
/*! exports provided: WindowLevelData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WindowLevelData", function() { return WindowLevelData; });
var WindowLevelData = /** @class */ (function () {
    function WindowLevelData() {
    }
    return WindowLevelData;
}());



/***/ }),

/***/ "./src/app/models/dropdown-button-menu-data.ts":
/*!*****************************************************!*\
  !*** ./src/app/models/dropdown-button-menu-data.ts ***!
  \*****************************************************/
/*! exports provided: SelectedButtonData, ButtonStyleToken */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectedButtonData", function() { return SelectedButtonData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ButtonStyleToken", function() { return ButtonStyleToken; });
var SelectedButtonData = /** @class */ (function () {
    function SelectedButtonData() {
    }
    return SelectedButtonData;
}());

var ButtonStyleToken = /** @class */ (function () {
    function ButtonStyleToken() {
    }
    return ButtonStyleToken;
}());



/***/ }),

/***/ "./src/app/models/hanging-protocol.ts":
/*!********************************************!*\
  !*** ./src/app/models/hanging-protocol.ts ***!
  \********************************************/
/*! exports provided: GroupHangingProtocol, ImageHangingProtocol, GroupHangingData, ImageHangingData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupHangingProtocol", function() { return GroupHangingProtocol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageHangingProtocol", function() { return ImageHangingProtocol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupHangingData", function() { return GroupHangingData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageHangingData", function() { return ImageHangingData; });
var GroupHangingProtocol;
(function (GroupHangingProtocol) {
    GroupHangingProtocol[GroupHangingProtocol["ByPatent"] = 1] = "ByPatent";
    GroupHangingProtocol[GroupHangingProtocol["ByStudy"] = 2] = "ByStudy";
    GroupHangingProtocol[GroupHangingProtocol["BySeries"] = 3] = "BySeries";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang"] = 10] = "FreeHang";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_1X1"] = 11] = "FreeHang_1X1";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_1X2"] = 12] = "FreeHang_1X2";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_2X1"] = 21] = "FreeHang_2X1";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_2X2"] = 22] = "FreeHang_2X2";
    GroupHangingProtocol[GroupHangingProtocol["FreeHang_3X3"] = 33] = "FreeHang_3X3";
})(GroupHangingProtocol || (GroupHangingProtocol = {}));
var ImageHangingProtocol;
(function (ImageHangingProtocol) {
    ImageHangingProtocol[ImageHangingProtocol["Auto"] = 1] = "Auto";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang"] = 10] = "FreeHang";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_1X1"] = 11] = "FreeHang_1X1";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_1X2"] = 12] = "FreeHang_1X2";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_2X1"] = 21] = "FreeHang_2X1";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_2X2"] = 22] = "FreeHang_2X2";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_3X3"] = 33] = "FreeHang_3X3";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_4X3"] = 43] = "FreeHang_4X3";
    ImageHangingProtocol[ImageHangingProtocol["FreeHang_6X5"] = 65] = "FreeHang_6X5";
})(ImageHangingProtocol || (ImageHangingProtocol = {}));
var GroupHangingData = /** @class */ (function () {
    function GroupHangingData() {
    }
    return GroupHangingData;
}());

var ImageHangingData = /** @class */ (function () {
    function ImageHangingData() {
    }
    return ImageHangingData;
}());



/***/ }),

/***/ "./src/app/models/layout.ts":
/*!**********************************!*\
  !*** ./src/app/models/layout.ts ***!
  \**********************************/
/*! exports provided: LayoutContent, LayoutPosition, LayoutMatrix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutContent", function() { return LayoutContent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutPosition", function() { return LayoutPosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LayoutMatrix", function() { return LayoutMatrix; });
var LayoutContent;
(function (LayoutContent) {
    LayoutContent[LayoutContent["Patient"] = 0] = "Patient";
    LayoutContent[LayoutContent["Study"] = 1] = "Study";
    LayoutContent[LayoutContent["Series"] = 2] = "Series";
    LayoutContent[LayoutContent["Image"] = 3] = "Image";
})(LayoutContent || (LayoutContent = {}));
var LayoutPosition = /** @class */ (function () {
    function LayoutPosition(pageIndex, rowIndex, colIndex) {
        this.pageIndex = pageIndex;
        this.rowIndex = rowIndex;
        this.colIndex = colIndex;
    }
    LayoutPosition.prototype.getId = function () {
        return "" + this.rowIndex + this.colIndex;
    };
    LayoutPosition.fromNumber = function (groupIndex, layoutMatrix) {
        var pageSize = layoutMatrix.rowCount * layoutMatrix.colCount;
        var pageIndex = Math.floor(groupIndex / pageSize);
        groupIndex = groupIndex % pageSize;
        return new LayoutPosition(pageIndex, Math.floor(groupIndex / layoutMatrix.colCount), groupIndex % layoutMatrix.colCount);
    };
    LayoutPosition.prototype.equal = function (layoutPosition) {
        return this.pageIndex === layoutPosition.rowIndex && this.rowIndex === layoutPosition.rowIndex && this.colIndex === layoutPosition.colIndex;
    };
    return LayoutPosition;
}());

var LayoutMatrix = /** @class */ (function () {
    function LayoutMatrix(rowCount, colCount) {
        this.rowCount = rowCount;
        this.colCount = colCount;
    }
    LayoutMatrix.fromNumber = function (matrixNumber) {
        var layoutMatrix = new LayoutMatrix(1, 1);
        layoutMatrix.rowCount = Math.trunc(matrixNumber / 10);
        layoutMatrix.colCount = matrixNumber % 10;
        return layoutMatrix;
    };
    LayoutMatrix.prototype.equal = function (layoutMatrix) {
        return this.rowCount === layoutMatrix.rowCount && this.colCount === layoutMatrix.colCount;
    };
    return LayoutMatrix;
}());



/***/ }),

/***/ "./src/app/models/messageBox.ts":
/*!**************************************!*\
  !*** ./src/app/models/messageBox.ts ***!
  \**************************************/
/*! exports provided: MessageBoxType, DialogResult, MessageBoxContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageBoxType", function() { return MessageBoxType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogResult", function() { return DialogResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageBoxContent", function() { return MessageBoxContent; });
var MessageBoxType;
(function (MessageBoxType) {
    MessageBoxType[MessageBoxType["Info"] = 0] = "Info";
    MessageBoxType[MessageBoxType["Question"] = 1] = "Question";
    MessageBoxType[MessageBoxType["Warning"] = 2] = "Warning";
    MessageBoxType[MessageBoxType["Error"] = 3] = "Error";
    MessageBoxType[MessageBoxType["Input"] = 4] = "Input";
    MessageBoxType[MessageBoxType["InfoCancel"] = 5] = "InfoCancel";
})(MessageBoxType || (MessageBoxType = {}));
var DialogResult;
(function (DialogResult) {
    DialogResult[DialogResult["Ok"] = 0] = "Ok";
    DialogResult[DialogResult["Cancel"] = 1] = "Cancel";
    DialogResult[DialogResult["Yes"] = 2] = "Yes";
    DialogResult[DialogResult["No"] = 3] = "No";
})(DialogResult || (DialogResult = {}));
var MessageBoxContent = /** @class */ (function () {
    function MessageBoxContent() {
    }
    return MessageBoxContent;
}());



/***/ }),

/***/ "./src/app/models/misc-data.ts":
/*!*************************************!*\
  !*** ./src/app/models/misc-data.ts ***!
  \*************************************/
/*! exports provided: FontData, MarkerData, MarkerGroupData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FontData", function() { return FontData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarkerData", function() { return MarkerData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarkerGroupData", function() { return MarkerGroupData; });
var FontData = /** @class */ (function () {
    function FontData(name, color, size) {
        this.name = name;
        this.color = color;
        this.size = size;
    }
    FontData.prototype.getCanvasFontString = function () {
        return "{0}px {1}".format(this.size, this.name);
    };
    return FontData;
}());

var MarkerData = /** @class */ (function () {
    function MarkerData() {
    }
    return MarkerData;
}());

var MarkerGroupData = /** @class */ (function () {
    function MarkerGroupData() {
    }
    return MarkerGroupData;
}());



/***/ }),

/***/ "./src/app/models/overlay.ts":
/*!***********************************!*\
  !*** ./src/app/models/overlay.ts ***!
  \***********************************/
/*! exports provided: TextOverlayData, TextOverlayDisplayGroup, TextOverlayDisplayItem, GraphicOverlayData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextOverlayData", function() { return TextOverlayData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextOverlayDisplayGroup", function() { return TextOverlayDisplayGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextOverlayDisplayItem", function() { return TextOverlayDisplayItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicOverlayData", function() { return GraphicOverlayData; });
var TextOverlayData = /** @class */ (function () {
    function TextOverlayData() {
    }
    return TextOverlayData;
}());

var TextOverlayDisplayGroup = /** @class */ (function () {
    function TextOverlayDisplayGroup(overlay) {
        this.gridX = overlay.gridX;
        this.gridY = overlay.gridY;
        this.modality = overlay.modality;
        this.itemListAlignLeft = [];
        this.itemListAlignRight = [];
    }
    TextOverlayDisplayGroup.prototype.match = function (overlay) {
        return this.gridX === overlay.gridX && this.gridY === overlay.gridY && this.modality === overlay.modality;
    };
    TextOverlayDisplayGroup.prototype.add = function (overlay) {
        overlay.offsetX > 0 ? this.itemListAlignLeft.push(overlay) : this.itemListAlignRight.push(overlay);
    };
    return TextOverlayDisplayGroup;
}());

var TextOverlayDisplayItem = /** @class */ (function () {
    function TextOverlayDisplayItem() {
    }
    return TextOverlayDisplayItem;
}());

var GraphicOverlayData = /** @class */ (function () {
    function GraphicOverlayData() {
        this.dataList = [];
    }
    return GraphicOverlayData;
}());



/***/ }),

/***/ "./src/app/models/pssi.ts":
/*!********************************!*\
  !*** ./src/app/models/pssi.ts ***!
  \********************************/
/*! exports provided: Pssi, Patient, Study, Series, Image, MultiframeImage, WorklistColumn, RecWorklistData, RecOfflineImageInfo, StudyTemp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pssi", function() { return Pssi; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Patient", function() { return Patient; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Study", function() { return Study; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Series", function() { return Series; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return Image; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultiframeImage", function() { return MultiframeImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorklistColumn", function() { return WorklistColumn; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecWorklistData", function() { return RecWorklistData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecOfflineImageInfo", function() { return RecOfflineImageInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StudyTemp", function() { return StudyTemp; });
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/annotation */ "./src/app/models/annotation.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Pssi = /** @class */ (function () {
    function Pssi() {
    }
    return Pssi;
}());

var Patient = /** @class */ (function (_super) {
    __extends(Patient, _super);
    function Patient() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Patient.prototype.setHide = function (hide) {
        this.hide = hide;
        this.studyList.forEach(function (study) { return study.setHide(hide); });
    };
    Patient.clone = function (patient, cloneChild) {
        var clonedPatient = new Patient();
        clonedPatient.id = patient.id;
        clonedPatient.patientId = patient.patientId;
        clonedPatient.patientName = patient.patientName;
        clonedPatient.firstName = patient.firstName;
        clonedPatient.middleName = patient.middleName;
        clonedPatient.lastName = patient.lastName;
        clonedPatient.patientBirthDate = patient.patientBirthDate;
        clonedPatient.patientSex = patient.patientSex;
        clonedPatient.patientAge = patient.patientAge;
        clonedPatient.breed = patient.breed;
        clonedPatient.species = patient.species;
        clonedPatient.patientComments = patient.patientComments;
        clonedPatient.studyList = new Array();
        if (cloneChild) {
            patient.studyList.forEach(function (study) {
                var clonedStudy = Study.clone(study, cloneChild);
                clonedStudy.patient = clonedPatient;
                clonedPatient.studyList.push(clonedStudy);
            });
        }
        return clonedPatient;
    };
    return Patient;
}(Pssi));

var Study = /** @class */ (function (_super) {
    __extends(Study, _super);
    function Study() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Study.prototype.setHide = function (hide) {
        this.hide = hide;
        this.seriesList.forEach(function (series) { return series.setHide(hide); });
    };
    Study.clone = function (study, cloneChild) {
        var clonedStudy = new Study();
        clonedStudy.studyChecked = study.studyChecked;
        clonedStudy.detailsLoaded = study.detailsLoaded;
        clonedStudy.id = study.id;
        clonedStudy.studyId = study.studyId;
        clonedStudy.studyInstanceUid = study.studyInstanceUid;
        clonedStudy.studyDate = study.studyDate;
        clonedStudy.studyTime = study.studyTime;
        clonedStudy.accessionNo = study.accessionNo;
        clonedStudy.seriesCount = study.seriesCount;
        clonedStudy.imageCount = study.imageCount;
        clonedStudy.modality = study.modality;
        clonedStudy.studyDescription = study.studyDescription;
        clonedStudy.referPhysician = study.referPhysician;
        clonedStudy.tokenId = study.tokenId;
        clonedStudy.additionalPatientHistory = study.additionalPatientHistory;
        clonedStudy.veterinarian = study.veterinarian;
        clonedStudy.requestedProcPriority = study.requestedProcPriority;
        clonedStudy.seriesList = new Array();
        if (cloneChild) {
            study.seriesList.forEach(function (series) {
                var clonedSeries = Series.clone(series, cloneChild);
                clonedSeries.study = clonedStudy;
                clonedStudy.seriesList.push(clonedSeries);
            });
        }
        return clonedStudy;
    };
    return Study;
}(Pssi));

var Series = /** @class */ (function (_super) {
    __extends(Series, _super);
    function Series() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Series.prototype.setHide = function (hide) {
        this.hide = hide;
        this.imageList.forEach(function (image) { return image.setHide(hide); });
    };
    Series.clone = function (series, cloneChild) {
        var clonedSeries = new Series();
        clonedSeries.id = series.id;
        clonedSeries.seriesInstanceUid = series.seriesInstanceUid;
        clonedSeries.modality = series.modality;
        clonedSeries.seriesDateString = series.seriesDateString;
        clonedSeries.seriesTimeString = series.seriesTimeString;
        clonedSeries.bodyPart = series.bodyPart;
        clonedSeries.viewPosition = series.viewPosition;
        clonedSeries.seriesNo = series.seriesNo;
        clonedSeries.imageCount = series.imageCount;
        clonedSeries.contrastBolus = series.contrastBolus;
        clonedSeries.localBodyPart = series.localBodyPart;
        clonedSeries.seriesDescription = series.seriesDescription;
        clonedSeries.operatorName = series.operatorName;
        clonedSeries.referHospital = series.referHospital;
        clonedSeries.patientPosition = series.patientPosition;
        clonedSeries.localViewPosition = series.localViewPosition;
        clonedSeries.imageList = new Array();
        if (cloneChild) {
            series.imageList.forEach(function (image) {
                var clonedImage = Image.clone(image, cloneChild);
                clonedImage.series = clonedSeries;
                clonedSeries.imageList.push(clonedImage);
            });
        }
        return clonedSeries;
    };
    return Series;
}(Pssi));

var Image = /** @class */ (function (_super) {
    __extends(Image, _super);
    function Image() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.graphicOverlayDataList = [];
        return _this;
    }
    Image.clone = function (image, cloneChild) {
        var clonedImage = new Image();
        clonedImage.id = image.id;
        clonedImage.objectFile = image.objectFile;
        clonedImage.imageColumns = image.imageColumns;
        clonedImage.imageRows = image.imageRows;
        clonedImage.keyImage = image.keyImage;
        clonedImage.imageNo = image.imageNo;
        clonedImage.bitsAllocated = image.bitsAllocated;
        clonedImage.acquisitionTime = image.acquisitionTime;
        clonedImage.acquisitionDate = image.acquisitionDate;
        clonedImage.imageTime = image.imageTime;
        clonedImage.imageDate = image.imageDate;
        return clonedImage;
    };
    Image.prototype.setHide = function (hide) {
        this.hide = hide;
    };
    Image.prototype.width = function () {
        return this.imageColumns;
    };
    Image.prototype.height = function () {
        return this.imageRows;
    };
    Image.prototype.getRotateAngle = function () {
        if (!this.transformMatrix)
            return 0;
        var transImg = this.transformMatrix;
        var n1 = transImg[0][0];
        var n3 = transImg[0][1];
        var n5 = transImg[0][2];
        var n2 = transImg[1][0];
        var n4 = transImg[1][1];
        var n6 = transImg[1][2]; //transform dy
        var a = n1;
        var b = n3;
        var c = n2;
        var d = n4;
        var scale = Math.sqrt(a * a + b * b);
        // arc sin, convert from radians to degrees, round
        var sin = b / scale;
        // next line works for 30deg but not 130deg (returns 50);
        // var angle = Math.round(Math.asin(sin) * (180/Math.PI));
        var angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));
        return angle;
    };
    Image.prototype.getScaleValue = function () {
        if (!this.transformMatrix)
            return 1;
        var transImg = this.transformMatrix;
        var n1 = transImg[0][0];
        var n3 = transImg[0][1];
        var n5 = transImg[0][2];
        var n2 = transImg[1][0];
        var n4 = transImg[1][1];
        var n6 = transImg[1][2]; //transform dy
        var a = n1;
        var b = n3;
        var c = n2;
        var d = n4;
        var scale = Math.sqrt(a * a + b * b);
        return scale;
    };
    Image.prototype.getPixelSpacing = function () {
        var tagValue = this.cornerStoneImage.data.string("x00280030");
        if (!tagValue) {
            tagValue = this.cornerStoneImage.data.string("x00181164");
        }
        if (!tagValue) {
            return null;
        }
        var valueList = tagValue.split("\\");
        if (valueList.length !== 2) {
            return null;
        }
        var pixelSpacing = new _models_annotation__WEBPACK_IMPORTED_MODULE_0__["Size"](0, 0);
        pixelSpacing.cx = Number(valueList[0]);
        pixelSpacing.cy = Number(valueList[1]);
        return pixelSpacing;
    };
    Image.prototype.setCornerStoneImage = function (ctImage) {
        var annData = undefined;
        var element = ctImage.data.elements["x0011101d"];
        if (element) {
            annData = new Uint8Array(element.length);
            for (var i = 0; i < element.length; i++) {
                annData[i] = ctImage.data.byteArray[element.dataOffset + i];
            }
        }
        this.annData = annData;
        this.cornerStoneImage = ctImage;
    };
    return Image;
}(Pssi));

var MultiframeImage = /** @class */ (function (_super) {
    __extends(MultiframeImage, _super);
    function MultiframeImage() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return MultiframeImage;
}(Image));

var WorklistColumn = /** @class */ (function () {
    function WorklistColumn() {
    }
    return WorklistColumn;
}());

var RecWorklistData = /** @class */ (function () {
    function RecWorklistData() {
    }
    return RecWorklistData;
}());

var RecOfflineImageInfo = /** @class */ (function () {
    function RecOfflineImageInfo() {
    }
    return RecOfflineImageInfo;
}());

var StudyTemp = /** @class */ (function (_super) {
    __extends(StudyTemp, _super);
    function StudyTemp() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StudyTemp.prototype.setHide = function (hide) {
        this.hide = hide;
        this.seriesList.forEach(function (series) { return series.setHide(hide); });
    };
    StudyTemp.clone = function (study, cloneChild) {
        var clonedStudy = new Study();
        clonedStudy.studyChecked = study.studyChecked;
        clonedStudy.detailsLoaded = study.detailsLoaded;
        clonedStudy.id = study.id;
        clonedStudy.studyId = study.studyId;
        clonedStudy.studyInstanceUid = study.studyInstanceUid;
        clonedStudy.studyDate = study.studyDate;
        clonedStudy.studyTime = study.studyTime;
        clonedStudy.accessionNo = study.accessionNo;
        clonedStudy.seriesCount = study.seriesCount;
        clonedStudy.imageCount = study.imageCount;
        clonedStudy.modality = study.modality;
        clonedStudy.studyDescription = study.studyDescription;
        clonedStudy.referPhysician = study.referPhysician;
        clonedStudy.tokenId = study.tokenId;
        clonedStudy.additionalPatientHistory = study.additionalPatientHistory;
        clonedStudy.veterinarian = study.veterinarian;
        clonedStudy.requestedProcPriority = study.requestedProcPriority;
        clonedStudy.seriesList = new Array();
        if (cloneChild) {
            study.seriesList.forEach(function (series) {
                var clonedSeries = Series.clone(series, cloneChild);
                clonedSeries.study = clonedStudy;
                clonedStudy.seriesList.push(clonedSeries);
            });
        }
        return clonedStudy;
    };
    return StudyTemp;
}(Pssi));

var PatientTemp = /** @class */ (function () {
    function PatientTemp() {
    }
    return PatientTemp;
}());


/***/ }),

/***/ "./src/app/models/shortcut.ts":
/*!************************************!*\
  !*** ./src/app/models/shortcut.ts ***!
  \************************************/
/*! exports provided: DataSource, Shortcut */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataSource", function() { return DataSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Shortcut", function() { return Shortcut; });
var DataSource;
(function (DataSource) {
    DataSource[DataSource["LocalTestData"] = 1] = "LocalTestData";
    DataSource[DataSource["MiniPacs"] = 2] = "MiniPacs";
    DataSource[DataSource["OtherPacs"] = 3] = "OtherPacs";
})(DataSource || (DataSource = {}));
var Shortcut = /** @class */ (function () {
    function Shortcut() {
        this.id = -1;
        this.name = "";
        this.dataSource = DataSource.LocalTestData;
        this.clearCondition();
    }
    Shortcut.createDefaultShortcut = function (name) {
        var shortcut = new Shortcut();
        shortcut.id = 0;
        shortcut.name = name;
        shortcut.dataSource = DataSource.MiniPacs;
        shortcut.studyDate = name;
        return shortcut;
    };
    Shortcut.prototype.clearCondition = function () {
        this.patientId = "";
        this.patientName = "";
        this.gender = "";
        this.modality = "";
        this.studyDate = "";
        this.patientBirthDateFrom = null;
        this.patientBirthDateTo = null;
        this.studyDateFrom = null;
        this.studyDateTo = null;
        this.studyId = "";
        this.accessionNo = "";
        this.instanceAvailability = "";
        this.bodyPartExamined = "";
        this.studyDescription = "";
        this.reserved = "";
        this.readed = "";
        this.printed = "";
    };
    Shortcut.prototype.copyConditionFrom = function (shortcut) {
        this.patientId = shortcut.patientId;
        this.patientName = shortcut.patientName;
        this.gender = shortcut.gender;
        this.modality = shortcut.modality;
        this.studyDate = shortcut.studyDate;
        this.patientBirthDateFrom = shortcut.patientBirthDateFrom;
        this.patientBirthDateTo = shortcut.patientBirthDateTo;
        this.studyDateFrom = shortcut.studyDateFrom;
        this.studyDateTo = shortcut.studyDateTo;
        this.studyId = shortcut.studyId;
        this.accessionNo = shortcut.accessionNo;
        this.instanceAvailability = shortcut.instanceAvailability;
        this.bodyPartExamined = shortcut.bodyPartExamined;
        this.studyDescription = shortcut.studyDescription;
        this.reserved = shortcut.reserved;
        this.readed = shortcut.readed;
        this.printed = shortcut.printed;
    };
    Shortcut.prototype.clone = function (theObj) {
        var obj = {};
        for (var key in theObj) {
            obj[key] = theObj[key];
        }
        return obj;
    };
    return Shortcut;
}());



/***/ }),

/***/ "./src/app/models/viewer-group-data.ts":
/*!*********************************************!*\
  !*** ./src/app/models/viewer-group-data.ts ***!
  \*********************************************/
/*! exports provided: ViewerGroupData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerGroupData", function() { return ViewerGroupData; });
/* harmony import */ var _models_layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/layout */ "./src/app/models/layout.ts");
/* harmony import */ var _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/viewer-image-data */ "./src/app/models/viewer-image-data.ts");


var ViewerGroupData = /** @class */ (function () {
    function ViewerGroupData(viewerShellData, imageHangingProtocol, position) {
        this.imageCount = 0;
        this.imageDataList = new Array();
        this.empty = false;
        this.viewerShellData = viewerShellData;
        this.imageHangingProtocol = imageHangingProtocol;
        this.position = position;
        ViewerGroupData.logService.debug("ViewerGroupData " + this.getId() + " created!");
    }
    ViewerGroupData.prototype.getId = function () {
        return this.viewerShellData.getId() + "_" + this.position.getId();
    };
    ViewerGroupData.prototype.getIndex = function () {
        return this.position.rowIndex * this.viewerShellData.groupMatrix.colCount + this.position.colIndex;
    };
    ViewerGroupData.prototype.setPosition = function (position) {
        this.position = position;
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Image Operation
    ViewerGroupData.prototype.cleanImage = function () {
        this.imageDataList.length = 0;
        this.imageCount = 0;
    };
    ViewerGroupData.prototype.getImage = function (pageIndex, rowIndex, colIndex) {
        if (this.imageDataList.length === 0) {
            return null;
        }
        var imageIndex = pageIndex * this.imageMatrix.rowCount * this.imageMatrix.colCount + rowIndex * this.imageMatrix.colCount + colIndex;
        if (imageIndex >= this.imageDataList.length) {
            alert("getImage() => Invalid image index : " + imageIndex);
            return null;
        }
        return this.imageDataList[imageIndex];
    };
    ViewerGroupData.prototype.addImage = function (image) {
        var imageData = new _models_viewer_image_data__WEBPACK_IMPORTED_MODULE_1__["ViewerImageData"](this, _models_layout__WEBPACK_IMPORTED_MODULE_0__["LayoutPosition"].fromNumber(this.imageDataList.length, this.imageMatrix));
        imageData.setImage(image);
        this.imageDataList.push(imageData);
    };
    ViewerGroupData.prototype.updateImagePositionFromIndex = function (imageIndex) {
        if (imageIndex < 0 || imageIndex >= this.imageDataList.length) {
            alert("updateImagePositionFromIndex() => Invalid image index : " + imageIndex);
            return;
        }
        this.imageDataList[imageIndex].setPosition(_models_layout__WEBPACK_IMPORTED_MODULE_0__["LayoutPosition"].fromNumber(imageIndex, this.imageMatrix));
    };
    ViewerGroupData.prototype.setEmpty = function () {
        this.empty = true;
        this.imageCount = 1;
        this.imageMatrix = new _models_layout__WEBPACK_IMPORTED_MODULE_0__["LayoutMatrix"](1, 1);
        this.imageDataList = new Array();
        this.addImage(null);
    };
    ViewerGroupData.prototype.isEmpty = function () {
        return this.empty;
    };
    ViewerGroupData.prototype.getPageCount = function () {
        return Math.ceil(this.imageDataList.length / (this.imageMatrix.rowCount * this.imageMatrix.colCount));
    };
    ViewerGroupData.prototype.removeAllEmptyImage = function () {
        while (this.imageDataList[this.imageDataList.length - 1].isEmpty()) {
            this.imageDataList.pop();
        }
    };
    ViewerGroupData.prototype.normalizeImageList = function () {
        // Need to add some empty images to make sure the total image (include empty image) is valid.
        // For example, if the image count is 5(not empty), and the layout matrix is 2x2, need to add
        // 3 empty images to make sure total image number(8) is multiple of the matrix size(4)
        var matrixSize = this.imageMatrix.rowCount * this.imageMatrix.colCount;
        var totalSize = this.getPageCount() * matrixSize;
        for (var i = this.imageDataList.length; i < totalSize; i++) {
            this.addImage(null);
        }
    };
    return ViewerGroupData;
}());



/***/ }),

/***/ "./src/app/models/viewer-image-data.ts":
/*!*********************************************!*\
  !*** ./src/app/models/viewer-image-data.ts ***!
  \*********************************************/
/*! exports provided: ViewerImageData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerImageData", function() { return ViewerImageData; });
var ViewerImageData = /** @class */ (function () {
    function ViewerImageData(viewerGroupData, position) {
        this.groupData = viewerGroupData;
        this.position = position;
        ViewerImageData.logService.debug("ViewerImageData " + this.getId() + " created!");
    }
    ViewerImageData.prototype.getId = function () {
        return this.groupData.getId() + this.position.getId();
    };
    ViewerImageData.prototype.setPosition = function (position) {
        this.position = position;
    };
    ViewerImageData.prototype.setImage = function (image) {
        this.image = image;
    };
    ViewerImageData.prototype.isEmpty = function () {
        return this.image === null;
    };
    return ViewerImageData;
}());



/***/ }),

/***/ "./src/app/models/viewer-shell-data.ts":
/*!*********************************************!*\
  !*** ./src/app/models/viewer-shell-data.ts ***!
  \*********************************************/
/*! exports provided: ViewerShellData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerShellData", function() { return ViewerShellData; });
/* harmony import */ var _models_pssi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/pssi */ "./src/app/models/pssi.ts");
/* harmony import */ var _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/viewer-group-data */ "./src/app/models/viewer-group-data.ts");
/* harmony import */ var _models_layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/layout */ "./src/app/models/layout.ts");



var ViewerShellData = /** @class */ (function () {
    function ViewerShellData(defaultGroupHangingProtocol, defaultImageHangingProtocol) {
        this.patientList = new Array();
        this.groupCount = 0; // The count of groups that contain image, NOT including empty groups
        this.groupMatrix = new _models_layout__WEBPACK_IMPORTED_MODULE_2__["LayoutMatrix"](1, 1);
        this.groupDataList = new Array(); // Must contains all group even if its an empty group
        this.defaultGroupHangingProtocol = defaultGroupHangingProtocol;
        this.defaultImageHangingProtocol = defaultImageHangingProtocol;
        this.hide = false;
        ViewerShellData.logService.debug("ViewerShellData " + this.getId() + " created!");
    }
    //////////////////////////////////////////////////////////////////////////////////////////////////////
    // Public functions
    ViewerShellData.prototype.addStudy = function (studyInWorklist) {
        var study = _models_pssi__WEBPACK_IMPORTED_MODULE_0__["Study"].clone(studyInWorklist, true);
        study.hide = false;
        // Set parent for all series and all images, since they are NOT set in JSON string returned from server
        for (var i = 0; i < study.seriesList.length; i++) {
            var series = study.seriesList[i];
            series.study = study;
            series.hide = false;
            for (var j = 0; j < series.imageList.length; j++) {
                series.imageList[j].hide = false;
                series.imageList[j].series = series;
            }
        }
        var index = -1;
        for (var i = 0; i < this.patientList.length; i++) {
            if (this.patientList[i].id === studyInWorklist.patient.id) {
                index = i;
                break;
            }
        }
        var patient = null;
        if (index === -1) {
            // Clone a patient and added to the list
            patient = _models_pssi__WEBPACK_IMPORTED_MODULE_0__["Patient"].clone(studyInWorklist.patient, false);
            this.patientList.push(patient);
        }
        else {
            patient = this.patientList[index];
        }
        study.patient = patient;
        patient.hide = false;
        patient.studyList.push(study);
    };
    ViewerShellData.prototype.getId = function () {
        var _this = this;
        var id = "";
        this.patientList.forEach(function (patient) { return id += _this.getIdFromPatient(patient); });
        return id;
    };
    ViewerShellData.prototype.getName = function () {
        var name = "";
        this.patientList.forEach(function (patient) { return name += patient.patientId + "_" + patient.patientName + " | "; });
        return name.substr(0, name.length - 3);
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get count
    ViewerShellData.prototype.getTotalPatientCount = function () {
        return this.patientList.length;
    };
    ViewerShellData.prototype.getTotalStudyCount = function () {
        var count = 0;
        this.patientList.forEach(function (patient) { return count += patient.studyList.length; });
        return count;
    };
    ViewerShellData.prototype.getTotalSeriesCount = function () {
        var count = 0;
        this.patientList.forEach(function (patient) {
            patient.studyList.forEach(function (study) { return count += study.seriesList.length; });
        });
        return count;
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Group Operation
    ViewerShellData.prototype.cleanGroup = function () {
        this.groupDataList.length = 0;
        this.groupCount = 0;
    };
    ViewerShellData.prototype.getGroup = function (pageIndex, rowIndex, colIndex) {
        var groupIndex = pageIndex * this.groupMatrix.rowCount * this.groupMatrix.colCount + rowIndex * this.groupMatrix.colCount + colIndex;
        if (groupIndex >= this.groupDataList.length) {
            alert("Invalid group index : " + groupIndex);
            return null;
        }
        //ViewerShellData.logService.debug("ViewData: Get group for " + this.getId() + rowIndex + colIndex);
        return this.groupDataList[groupIndex];
    };
    ViewerShellData.prototype.addGroup = function (isEmpty) {
        var groupIndex = this.groupDataList.length;
        var groupData = new _models_viewer_group_data__WEBPACK_IMPORTED_MODULE_1__["ViewerGroupData"](this, this.defaultImageHangingProtocol, _models_layout__WEBPACK_IMPORTED_MODULE_2__["LayoutPosition"].fromNumber(groupIndex, this.groupMatrix));
        if (isEmpty) {
            groupData.setEmpty();
        }
        this.groupDataList.push(groupData);
    };
    ViewerShellData.prototype.updateGroupPositionFromIndex = function (groupIndex) {
        if (groupIndex < 0 || groupIndex >= this.groupDataList.length) {
            alert("updateGroupPositionFromIndex() => Invalid group index : " + groupIndex);
            return;
        }
        this.groupDataList[groupIndex].setPosition(_models_layout__WEBPACK_IMPORTED_MODULE_2__["LayoutPosition"].fromNumber(groupIndex, this.groupMatrix));
    };
    ViewerShellData.prototype.getPageCount = function () {
        return Math.ceil(this.groupDataList.length / (this.groupMatrix.rowCount * this.groupMatrix.colCount));
    };
    ViewerShellData.prototype.removeAllEmptyGroup = function () {
        while (this.groupDataList[this.groupDataList.length - 1].isEmpty()) {
            this.groupDataList.pop();
        }
    };
    ViewerShellData.prototype.normalizeGroupList = function () {
        // Need to add some empty groups to make sure the total group (include empty group) is valid.
        // For example, if the group count is 5(not empty), and the layout matrix is 2x2, need to add
        // 3 empty groups to make sure total group number(8) is multiple of the matrix size(4)
        var matrixSize = this.groupMatrix.rowCount * this.groupMatrix.colCount;
        var totalSize = this.getPageCount() * matrixSize;
        for (var i = this.groupDataList.length; i < totalSize; i++) {
            this.addGroup(true);
        }
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get image
    ViewerShellData.prototype.getAllImageOfPatient = function (patient) {
        var images = new Array();
        patient.studyList.forEach(function (study) {
            study.seriesList.forEach(function (series) { return images = images.concat(series.imageList); });
        });
        return images;
    };
    ViewerShellData.prototype.getAllImageOfStudy = function (study) {
        var images = new Array();
        study.seriesList.forEach(function (series) { return images = images.concat(series.imageList); });
        return images;
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Get object by index
    ViewerShellData.prototype.getPatientByIndex = function (patientIndex) {
        if (patientIndex >= this.patientList.length) {
            return null;
        }
        return this.patientList[patientIndex];
    };
    ViewerShellData.prototype.getStudyByIndex = function (studyIndex) {
        var studyList = this.getAllStudyList();
        if (studyIndex >= studyList.length) {
            //alert('Error get study by index : ' + studyIndex + ', total study count is ' + studyList.length);
            return null;
        }
        return studyList[studyIndex];
    };
    ViewerShellData.prototype.getSeriesByIndex = function (seriesIndex) {
        var seriesList = this.getAllSeriesList();
        if (seriesIndex >= seriesList.length) {
            //alert('Error get series by index : ' + seriesIndex + ', total series count is ' + seriesList.length);
            return null;
        }
        return seriesList[seriesIndex];
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    ViewerShellData.prototype.getIdFromPatient = function (patient) {
        var id = "";
        patient.studyList.forEach(function (value) { return id += "_" + value.id; });
        return id;
    };
    ViewerShellData.prototype.getAllStudyList = function () {
        var studies = new Array();
        this.patientList.forEach(function (patient) { return studies = studies.concat(patient.studyList); });
        return studies;
    };
    ViewerShellData.prototype.getAllSeriesList = function () {
        var studyList = this.getAllStudyList();
        var series = new Array();
        studyList.forEach(function (study) { return series = series.concat(study.seriesList); });
        return series;
    };
    return ViewerShellData;
}());



/***/ }),

/***/ "./src/app/services/annotation.service.ts":
/*!************************************************!*\
  !*** ./src/app/services/annotation.service.ts ***!
  \************************************************/
/*! exports provided: AnnotationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnnotationService", function() { return AnnotationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_annotation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/annotation */ "./src/app/models/annotation.ts");
/* harmony import */ var _annotation_extend_object_ann_line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../annotation/extend-object/ann-line */ "./src/app/annotation/extend-object/ann-line.ts");
/* harmony import */ var _annotation_extend_object_ann_ellipse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../annotation/extend-object/ann-ellipse */ "./src/app/annotation/extend-object/ann-ellipse.ts");
/* harmony import */ var _annotation_extend_object_ann_rectangle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../annotation/extend-object/ann-rectangle */ "./src/app/annotation/extend-object/ann-rectangle.ts");
/* harmony import */ var _annotation_extend_object_ann_arrow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../annotation/extend-object/ann-arrow */ "./src/app/annotation/extend-object/ann-arrow.ts");
/* harmony import */ var _annotation_extend_object_ann_ruler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../annotation/extend-object/ann-ruler */ "./src/app/annotation/extend-object/ann-ruler.ts");
/* harmony import */ var _annotation_extend_object_ann_cardiothoracic_ratio__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../annotation/extend-object/ann-cardiothoracic-ratio */ "./src/app/annotation/extend-object/ann-cardiothoracic-ratio.ts");
/* harmony import */ var _annotation_extend_object_ann_vertical_axis__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../annotation/extend-object/ann-vertical-axis */ "./src/app/annotation/extend-object/ann-vertical-axis.ts");
/* harmony import */ var _annotation_extend_object_ann_mark_spot__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../annotation/extend-object/ann-mark-spot */ "./src/app/annotation/extend-object/ann-mark-spot.ts");
/* harmony import */ var _annotation_extend_object_ann_image__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../annotation/extend-object/ann-image */ "./src/app/annotation/extend-object/ann-image.ts");
/* harmony import */ var _annotation_extend_object_ann_polygon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../annotation/extend-object/ann-polygon */ "./src/app/annotation/extend-object/ann-polygon.ts");
/* harmony import */ var _annotation_extend_object_ann_angle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../annotation/extend-object/ann-angle */ "./src/app/annotation/extend-object/ann-angle.ts");
/* harmony import */ var _annotation_extend_object_ann_cervical_curve__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../annotation/extend-object/ann-cervical-curve */ "./src/app/annotation/extend-object/ann-cervical-curve.ts");
/* harmony import */ var _annotation_extend_object_ann_lumbar_curve__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../annotation/extend-object/ann-lumbar-curve */ "./src/app/annotation/extend-object/ann-lumbar-curve.ts");
/* harmony import */ var _annotation_extend_object_ann_free_area__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../annotation/extend-object/ann-free-area */ "./src/app/annotation/extend-object/ann-free-area.ts");
/* harmony import */ var _annotation_extend_object_ann_point__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../annotation/extend-object/ann-point */ "./src/app/annotation/extend-object/ann-point.ts");
/* harmony import */ var _annotation_extend_object_ann_text__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../annotation/extend-object/ann-text */ "./src/app/annotation/extend-object/ann-text.ts");
/* harmony import */ var _annotation_extend_object_ann_text_indicator__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../annotation/extend-object/ann-text-indicator */ "./src/app/annotation/extend-object/ann-text-indicator.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



















var AnnotationService = /** @class */ (function () {
    function AnnotationService() {
        this.annDefinitionList = [];
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_line__WEBPACK_IMPORTED_MODULE_2__["AnnLine"], "ann_line", false, "CGXAnnLineEx", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].LineExt));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_ellipse__WEBPACK_IMPORTED_MODULE_3__["AnnEllipse"], "ellipse", false, "CGXAnnEllipse", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Ellipse));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_rectangle__WEBPACK_IMPORTED_MODULE_4__["AnnRectangle"], "rect", false, "CGXAnnSquare", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Rect));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_arrow__WEBPACK_IMPORTED_MODULE_5__["AnnArrow"], "ann_line", false, "CGXAnnArrowMark", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Arrow));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_ruler__WEBPACK_IMPORTED_MODULE_6__["AnnRuler"], "ann_line", false, "CGXAnnRuler", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Ruler));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_vertical_axis__WEBPACK_IMPORTED_MODULE_8__["AnnVerticalAxis"], "ann_cervicalcurve", false, "CGXAnnVAxis", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Vaxis));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_image__WEBPACK_IMPORTED_MODULE_10__["AnnImage"], "ann_stamp", false, "CGXAnnStamp", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Stamp));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_polygon__WEBPACK_IMPORTED_MODULE_11__["AnnPolygon"], "polygon", false, "CGXAnnPolygon", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Polygon));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_angle__WEBPACK_IMPORTED_MODULE_12__["AnnAngle"], "ann_angle", false, "CGXAnnProtractor", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Protractor));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_free_area__WEBPACK_IMPORTED_MODULE_15__["AnnFreeArea"], "ann_freearea", false, "CGXAnnFreeArea", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].FreeArea));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_text__WEBPACK_IMPORTED_MODULE_17__["AnnText"], "ann_text", false, "CGXAnnTextMark", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].Text));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_cardiothoracic_ratio__WEBPACK_IMPORTED_MODULE_7__["AnnCardiothoracicRatio"], "ann_cervicalcurve", true, "CGXAnnHCRatio", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].HeartChestRatio));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_mark_spot__WEBPACK_IMPORTED_MODULE_9__["AnnMarkSpot"], "ann_line", true, "CGXAnnMarkSpot", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].MarkSpot));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_cervical_curve__WEBPACK_IMPORTED_MODULE_13__["AnnCervicalCurve"], "ann_cervicalcurve", true, "CGXAnnCervicalCurve", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].CervicalCurve));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_lumbar_curve__WEBPACK_IMPORTED_MODULE_14__["AnnLumbarCurve"], "ann_cervicalcurve", true, "CGXAnnLumbarCurve", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].LumbarCurve));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_point__WEBPACK_IMPORTED_MODULE_16__["AnnPoint"], "none", false, "", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].None));
        this.annDefinitionList.push(new _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnotationDefinitionData"](_annotation_extend_object_ann_text_indicator__WEBPACK_IMPORTED_MODULE_18__["AnnTextIndicator"], "none", false, "", _models_annotation__WEBPACK_IMPORTED_MODULE_1__["AnnType"].None));
    }
    AnnotationService.prototype.getAnnDefDataByType = function (annType) {
        var result = this.annDefinitionList.filter(function (annData) { return annData.imageSuiteAnnType === annType; });
        return this.getSafeResult("getAnnDefDataByType", annType, result);
    };
    AnnotationService.prototype.getAnnDefDataByIsName = function (annIsName) {
        var result = this.annDefinitionList.filter(function (annData) { return annData.imageSuiteAnnName === annIsName; });
        return this.getSafeResult("getAnnDefDataByIsName", annIsName, result);
    };
    AnnotationService.prototype.getAnnDefDataByClassName = function (annClassName) {
        var result = this.annDefinitionList.filter(function (annData) { return annData.className === annClassName; });
        return this.getSafeResult("getAnnDefDataByClassName", annClassName, result);
    };
    AnnotationService.prototype.getCursorNameByType = function (annType) {
        var annDefData = this.getAnnDefDataByType(annType);
        return annDefData ? annDefData.cursorName : "default";
    };
    AnnotationService.prototype.getSafeResult = function (funName, getBy, result) {
        if (result.length === 0) {
            alert("AnnotationService." + funName + "() - Can not find Annotation data for annotation " + getBy + " in the list");
            return undefined;
        }
        if (result.length > 1) {
            alert("AnnotationService." + funName + "() - There are more than one Annotation data for annotation " + getBy + " in the list");
        }
        return result[0];
    };
    AnnotationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], AnnotationService);
    return AnnotationService;
}());



/***/ }),

/***/ "./src/app/services/configuration.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/configuration.service.ts ***!
  \***************************************************/
/*! exports provided: ConfigurationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfigurationService", function() { return ConfigurationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _database_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./database.service */ "./src/app/services/database.service.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/log.service */ "./src/app/services/log.service.ts");
/* harmony import */ var _models_misc_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/misc-data */ "./src/app/models/misc-data.ts");
/* harmony import */ var _annotation_layer_object_ann_guide__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../annotation/layer-object/ann-guide */ "./src/app/annotation/layer-object/ann-guide.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ConfigurationService = /** @class */ (function () {
    function ConfigurationService(databaseService, locationStrategy, logService) {
        var _this = this;
        this.databaseService = databaseService;
        this.locationStrategy = locationStrategy;
        this.logService = logService;
        this.textOverlayList = [];
        this.markerConfig = [];
        this.baseUrl = window.location.origin + this.locationStrategy.getBaseHref();
        this.logService.info("Config: Base url is " + this.baseUrl);
        this.databaseService.getTextOverlays().subscribe(function (overlayList) {
            _this.textOverlayList = overlayList;
        });
        this.databaseService.getMarkerConfig().subscribe(function (markerConfig) {
            _this.markerConfig = markerConfig;
        });
        //this.databaseService.getOverFont().subscribe(fontData => {
        //    this.textOverlayFont = fontData;
        //});
        _annotation_layer_object_ann_guide__WEBPACK_IMPORTED_MODULE_5__["AnnGuide"].createAnnGuideDataList();
    }
    ConfigurationService.prototype.getBaseUrl = function () {
        return this.baseUrl;
    };
    ConfigurationService.prototype.getTextOverlayConfigList = function () {
        return this.textOverlayList;
    };
    ConfigurationService.prototype.getTextOverlayFont = function () {
        this.textOverlayFont = new _models_misc_data__WEBPACK_IMPORTED_MODULE_4__["FontData"]("Times New Roman", "#FFF", 15);
        return this.textOverlayFont;
    };
    ConfigurationService.prototype.getMarkerConfig = function () {
        return this.markerConfig;
    };
    ConfigurationService.prototype.setKeyImage = function (id, marked) {
        var _this = this;
        this.databaseService.setKeyImage(id, marked).subscribe(function (value) { return _this.marked = value; });
    };
    ConfigurationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_database_service__WEBPACK_IMPORTED_MODULE_2__["DatabaseService"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["LocationStrategy"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_3__["LogService"]])
    ], ConfigurationService);
    return ConfigurationService;
}());



/***/ }),

/***/ "./src/app/services/database.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/database.service.ts ***!
  \**********************************************/
/*! exports provided: DatabaseService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatabaseService", function() { return DatabaseService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _models_pssi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/pssi */ "./src/app/models/pssi.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var httpOptions = {
    headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': "application/json" })
};
var DatabaseService = /** @class */ (function () {
    function DatabaseService(http) {
        this.http = http;
        this.configUrl = "config";
        this.shortcutUrl = "shortcut"; // URL to web api
        this.pssiUrl = "pssi";
        this.overlayUrl = "overlay";
        this.id_patient = 1;
        this.id_study = 1;
        this.id_series = 1;
        this.id_image = 1;
        this.localTestData = this.createStudiesTest();
    }
    DatabaseService.prototype.getMarkerConfig = function () {
        var _this = this;
        var url = this.configUrl + "/markerconfig/";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (MarkerGroupData) { return _this.log("fetched marker config"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("getMarkerConfig", [])));
    };
    DatabaseService.prototype.getShortcut = function (id) {
        var url = this.shortcutUrl + "/details/" + id;
        return this.http.get(url);
    };
    DatabaseService.prototype.getOverFont = function () {
        var url = this.overlayUrl + "/font/";
        return this.http.get(url);
    };
    DatabaseService.prototype.getTextOverlays = function () {
        var _this = this;
        var url = this.overlayUrl + "/";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (Overlay) { return _this.log("fetched Overlay"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("getOverlays", [])));
    };
    /** GET shortcut from the server */
    DatabaseService.prototype.getShortcuts = function () {
        var _this = this;
        var url = this.shortcutUrl + "/search/";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcuts) { return _this.log("fetched shortcuts"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("getShortcuts", [])));
    };
    DatabaseService.prototype.getWorklistCol = function () {
        var _this = this;
        var url = this.shortcutUrl + "/search/";
        return this.http.get(url)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcuts) { return _this.log("fetched shortcuts"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("getShortcuts", [])));
    };
    /** Save shortcut to the server */
    DatabaseService.prototype.saveShortcut = function (shortcut) {
        var _this = this;
        var url = this.shortcutUrl + "/create/";
        return this.http.post(url, shortcut, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("save shortcut"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("saveShortcut", [])));
    };
    /** Save study to the server */
    DatabaseService.prototype.updateStudy = function (study) {
        var _this = this;
        var url = this.pssiUrl + "/updateStudy/";
        //let jsonId = { study: study };
        return this.http.post(url, study, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (study) { return _this.log("udpate study"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("updateStudy")));
    };
    DatabaseService.prototype.getStudy = function (id) {
        var url = this.pssiUrl + "/details/" + id;
        return this.http.get(url);
    };
    DatabaseService.prototype.setRead = function (id) {
        var _this = this;
        var url = this.pssiUrl + "/setread/";
        var jsonId = { id: id };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("setRead"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setRead")));
    };
    DatabaseService.prototype.setUnread = function (id) {
        var _this = this;
        var url = this.pssiUrl + "/setunread/";
        var jsonId = { id: id };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("setUnread"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setUnread")));
    };
    DatabaseService.prototype.setDeletePrevent = function (id) {
        var _this = this;
        var url = this.pssiUrl + "/setdeleteprevent/";
        var jsonId = { id: id };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("set delete prevent"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setDeletePrevent")));
    };
    DatabaseService.prototype.setDeleteAllow = function (id) {
        var _this = this;
        var url = this.pssiUrl + "/setdeleteallow/";
        var jsonId = { id: id };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("set delete prevent"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setDeleteAllow")));
    };
    DatabaseService.prototype.deleteStudy = function (id, deletionReason) {
        var _this = this;
        var url = this.pssiUrl + "/deletestudy/";
        var jsonId = { id: id, deletionReason: deletionReason };
        return this.http.post(url, jsonId, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("delete study"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("deleteStudy")));
    };
    /** Delete shortcut to the server */
    DatabaseService.prototype.deleteShortcut = function (shortcut) {
        var _this = this;
        var url = this.shortcutUrl + "/delete";
        return this.http.post(url, shortcut, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("delete shortcut"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("deleteShortcut", [])));
    };
    /** Get Offline Studies in Checked Studies to the server */
    DatabaseService.prototype.checkStudiesIncludeOffline = function (studyInstanceUIDList) {
        var _this = this;
        var url = this.pssiUrl + "/checkstudiesincludeoffline/";
        var data = { studyInstanceUIDList: studyInstanceUIDList, StudyOfflineMessage: "" };
        return this.http.post(url, data, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("check Studies Include Offline"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setDeleteAllow")));
    };
    /** Get Offline Studies in Checked Studies to the server */
    DatabaseService.prototype.studyOfflineInsertCDJobList = function (studyInstanceUIDList) {
        var _this = this;
        var url = this.pssiUrl + "/studyOfflineInsertCDJobList/";
        var data = { studyInstanceUIDList: studyInstanceUIDList };
        return this.http.post(url, data, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (shortcut) { return _this.log("check Studies Include Offline"); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError("setDeleteAllow")));
    };
    /** GET studies from the server */
    DatabaseService.prototype.getStudies = function (shortcut, pageIndex, sortItem) {
        var _this = this;
        var url = this.pssiUrl + "/search/";
        var data = { shortcut: shortcut, pageIndex: pageIndex, sortItem: sortItem };
        return this.http.post(url, data, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (recWorklistData) { return _this.log('fetched recWorklistData'); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getRecWorklistData')));
    };
    /** Set Key Image */
    DatabaseService.prototype.setKeyImage = function (id, marked) {
        var url = this.pssiUrl + "/setkeyimage/";
        var data = { id: id, marked: marked };
        return this.http.post(url, data, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('setKeyImage')));
    };
    /** GET study from the server */
    DatabaseService.prototype.getStudiesForDcmViewer = function (ids, showHistoryStudies, showKeyImage) {
        var _this = this;
        var url = this.pssiUrl + "/GetStudiesForDcmViewer/";
        var data = { ids: ids, showHistoryStudies: showHistoryStudies, showKeyImage: showKeyImage };
        return this.http.post(url, data, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (recWorklistData) { return _this.log('fetched recWorklistData'); }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getRecWorklistData')));
    };
    //getThumbnailFiles(study: Study): Observable<Blob> {
    //    const url = `${this.pssiUrl}/GetThumbnails/`;
    //    return this.http.post(url, study, { responseType: 'blob' });
    //}
    /** Set Key Image */
    DatabaseService.prototype.transferStudy = function (study) {
        var url = this.pssiUrl + "/transferStudy/";
        return this.http.post(url, study, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('transferStudy')));
    };
    DatabaseService.prototype.getStudiesTest = function () {
        var aa = this.localTestData.sort(this.compareStudy);
        return aa;
    };
    DatabaseService.prototype.compareStudy = function (study1, study2) {
        return study1.patient.patientName > study2.patient.patientName ? 1 : -1;
    };
    DatabaseService.prototype.createStudiesTest = function () {
        var studies = new Array();
        var patient1 = this.createPatient("PID001", "Tom", "M");
        var patient2 = this.createPatient("PID002", "Jerry", "M");
        var patient3 = this.createPatient("PID003", "Mark", "M");
        var study = this.createStudy(patient1, 1);
        studies.push(study);
        study = this.createStudy(patient2, 2);
        studies.push(study);
        study = this.createStudy(patient2, 3);
        studies.push(study);
        study = this.createStudy(patient3, 1);
        studies.push(study);
        study = this.createStudy(patient3, 2);
        studies.push(study);
        study = this.createStudy(patient3, 5);
        studies.push(study);
        return studies;
    };
    DatabaseService.prototype.createPatient = function (patientId, patientName, gender) {
        var patient = new _models_pssi__WEBPACK_IMPORTED_MODULE_4__["Patient"]();
        patient.id = this.id_patient++;
        patient.patientId = patientId;
        patient.patientName = patientName;
        patient.patientSex = gender;
        patient.studyList = new Array();
        return patient;
    };
    DatabaseService.prototype.createStudy = function (patient, seriesCount) {
        var study = new _models_pssi__WEBPACK_IMPORTED_MODULE_4__["Study"]();
        study.id = this.id_study++;
        study.studyInstanceUid = study.id + "." + study.id;
        study.seriesCount = seriesCount;
        study.imageCount = seriesCount * seriesCount;
        study.studyId = "" + study.id;
        study.accessionNo = study.studyId;
        study.studyDate = "2018-11-11";
        study.studyTime = "12:11:12";
        study.modality = "DX";
        study.studyChecked = false;
        study.studyDescription = "Study Desc";
        study.seriesList = new Array();
        for (var i = 0; i < seriesCount; i++) {
            study.seriesList.push(this.createSeries(study, seriesCount));
        }
        study.patient = patient;
        patient.studyList.push(study);
        return study;
    };
    DatabaseService.prototype.createSeries = function (study, imageCount) {
        var series = new _models_pssi__WEBPACK_IMPORTED_MODULE_4__["Series"]();
        series.id = this.id_series++;
        series.study = study;
        series.modality = "CR";
        series.imageCount = imageCount;
        series.imageList = new Array();
        for (var i = 0; i < imageCount; i++) {
            series.imageList.push(this.createImage(series));
        }
        return series;
    };
    DatabaseService.prototype.createImage = function (series) {
        var image = new _models_pssi__WEBPACK_IMPORTED_MODULE_4__["Image"]();
        image.id = this.id_image++;
        image.series = series;
        image.imageColumns = 1;
        image.imageRows = 1;
        return image;
    };
    /**
    * Handle Http operation that failed.
    * Let the app continue.
    * @param operation - name of the operation that failed
    * @param result - optional value to return as the observable result
    */
    DatabaseService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = "operation"; }
        return function (error) {
            // TODO: send the error to remote logging infrastructure
            console.error(error); // log to console instead
            // TODO: better job of transforming error for user consumption
            _this.log(operation + " failed: " + error.message);
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        };
    };
    /** Log a HeroService message with the MessageService */
    DatabaseService.prototype.log = function (message) {
        //alert(`HeroService: ${message}`);
    };
    DatabaseService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], DatabaseService);
    return DatabaseService;
}());



/***/ }),

/***/ "./src/app/services/dialog.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/dialog.service.ts ***!
  \********************************************/
/*! exports provided: DialogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogService", function() { return DialogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/common/message-box/message-box.component */ "./src/app/components/common/message-box/message-box.component.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/messageBox */ "./src/app/models/messageBox.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var DialogService = /** @class */ (function () {
    function DialogService(dialog) {
        this.dialog = dialog;
    }
    DialogService.prototype.showMessageBox = function (messageBoxContent) {
        var dialogConfig = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogConfig"]();
        dialogConfig.disableClose = true;
        dialogConfig.autoFocus = messageBoxContent.messageType === _models_messageBox__WEBPACK_IMPORTED_MODULE_3__["MessageBoxType"].Input;
        dialogConfig.data = messageBoxContent;
        var dialogRef = this.dialog.open(_components_common_message_box_message_box_component__WEBPACK_IMPORTED_MODULE_2__["MessageBoxComponent"], dialogConfig);
        return dialogRef.afterClosed();
    };
    DialogService.prototype.showDialog = function (dialogComponent, dialogData) {
        var dialogRef = this.dialog.open(dialogComponent, {
            autoFocus: true,
            data: dialogData
        });
        return dialogRef.afterClosed();
    };
    DialogService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
    ], DialogService);
    return DialogService;
}());



/***/ }),

/***/ "./src/app/services/dicom-image.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/dicom-image.service.ts ***!
  \*************************************************/
/*! exports provided: DicomImageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DicomImageService", function() { return DicomImageService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _services_configuration_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/configuration.service */ "./src/app/services/configuration.service.ts");
/* harmony import */ var _models_overlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/overlay */ "./src/app/models/overlay.ts");
/* harmony import */ var _services_log_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var httpOptions = {
    headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({ 'Content-Type': "application/json" })
};
var DicomImageService = /** @class */ (function () {
    function DicomImageService(http, configurationService, logService) {
        this.http = http;
        this.configurationService = configurationService;
        this.logService = logService;
        this.logPrefix = "DicomImageService: ";
        this.dicomImageUrl = "dicomImage";
        this.textOverlayDisplayGroupList = [];
        this.baseUrl = this.configurationService.getBaseUrl();
    }
    /** Save Image annotation */
    DicomImageService.prototype.saveImageAnn = function (id, annString) {
        var url = this.dicomImageUrl + "/saveAnnotation/";
        var data = { id: id, annString: annString };
        return this.http.post(url, data, httpOptions);
    };
    DicomImageService.prototype.getDicomFile = function (image) {
        var imageUrl = this.dicomImageUrl + "/dicom/" + image.id;
        return this.http.get(imageUrl, { responseType: "blob" });
    };
    DicomImageService.prototype.getThumbnailFile = function (image) {
        var imageUrl = this.dicomImageUrl + "/thumbnail/" + image.id;
        return this.http.get(imageUrl, { responseType: "blob" });
    };
    DicomImageService.prototype.getCornerStoneImage = function (image) {
        var imageUri = "wadouri:{0}/wado?requestType=WADO&studyUID={studyUID}&seriesUID={serieUID}&objectUID={1}&frameIndex={2}&contentType=application%2Fdicom".format(this.baseUrl, image.id, 0);
        this.logService.info("Dicom Image Service : Downloading dicom image, url is " + imageUri);
        return cornerstone.loadImage(imageUri);
    };
    DicomImageService.prototype.getOverlayDisplayList = function (image, canvas, font) {
        var _this = this;
        if (this.textOverlayDisplayGroupList.length === 0) {
            var overlayList = this.configurationService.getTextOverlayConfigList();
            this.formatOverlayList(overlayList);
        }
        var canvasContext = canvas.getContext("2d");
        canvasContext.font = font.getCanvasFontString();
        var overlayDisplayList = [];
        var groupList = this.getOverlayDisplayGroup(image.series.modality);
        groupList.forEach(function (group) {
            _this.addOverlayDisplayList(overlayDisplayList, group.itemListAlignLeft, true, image, canvas.width, canvas.height, canvasContext, font.size);
            _this.addOverlayDisplayList(overlayDisplayList, group.itemListAlignRight, false, image, canvas.width, canvas.height, canvasContext, font.size);
        });
        return overlayDisplayList;
    };
    DicomImageService.prototype.getGraphicOverlayList = function (image) {
        var graphicOverlayList = [];
        // There are max 16 graphic overlays in a image
        var groupNumber = 24576; // Hex 0x6000
        for (var i = 0; i < 16; i++) {
            var groupString = this.decimalToHexString(groupNumber + i * 2, 2);
            var graphicOverlayData = this.getGraphicOverlayData(image, "x" + groupString);
            if (graphicOverlayData) {
                graphicOverlayList.push(graphicOverlayData);
            }
        }
        return graphicOverlayList;
    };
    DicomImageService.prototype.getRoiWlValue = function (image, imagePointList) {
        var imageWidth = image.width();
        var startX = imagePointList.reduce(function (min, p) { return p.x < min ? p.x : min; }, imagePointList[0].x);
        var startY = imagePointList.reduce(function (min, p) { return p.y < min ? p.y : min; }, imagePointList[0].y);
        var endX = imagePointList.reduce(function (max, p) { return p.x > max ? p.x : max; }, imagePointList[0].x);
        var endY = imagePointList.reduce(function (max, p) { return p.y > max ? p.y : max; }, imagePointList[0].y);
        var pixelData = image.cornerStoneImage.getPixelData();
        var maxValue = -4096;
        var minValue = 4096;
        for (var i = startX; i <= endX; i++) {
            for (var j = startY; j <= endY; j++) {
                var index = imageWidth * j + i;
                maxValue = Math.max(maxValue, pixelData[index]);
                minValue = Math.min(minValue, pixelData[index]);
            }
        }
        var windowWidth = maxValue - minValue;
        var windowCenter = minValue + windowWidth / 2;
        return { windowCenter: Math.round(windowCenter), windowWidth: windowWidth };
    };
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Text overlay functions
    DicomImageService.prototype.formatOverlayList = function (overlayList) {
        var _this = this;
        overlayList.forEach(function (overlay) {
            _this.addOverlayToGroup(overlay);
        });
        this.textOverlayDisplayGroupList.forEach(function (group) {
            group.itemListAlignLeft = group.itemListAlignLeft.sort(function (n1, n2) {
                return (n1.offsetX < n2.offsetX) ? -1 : 1;
            });
            group.itemListAlignRight = group.itemListAlignRight.sort(function (n1, n2) {
                return (n1.offsetX < n2.offsetX) ? 1 : -1;
            });
        });
    };
    DicomImageService.prototype.addOverlayToGroup = function (overlay) {
        var filtered = this.textOverlayDisplayGroupList.filter(function (value) { return value.match(overlay); });
        var overlayGroup = null;
        if (filtered.length === 0) {
            overlayGroup = new _models_overlay__WEBPACK_IMPORTED_MODULE_3__["TextOverlayDisplayGroup"](overlay);
            this.textOverlayDisplayGroupList.push(overlayGroup);
        }
        else {
            overlayGroup = filtered[0];
        }
        overlayGroup.add(overlay);
    };
    DicomImageService.prototype.getOverlayDisplayGroup = function (modality) {
        return this.textOverlayDisplayGroupList.filter(function (group) { return group.modality === modality; });
    };
    DicomImageService.prototype.getTextOverlayValue = function (image, overlay) {
        var tagValue;
        if (overlay.overlayId === "9003") {
            tagValue = "W: {0}, L: {1}";
        }
        else if (overlay.overlayId === "9004") {
            tagValue = "{0}";
        }
        else if (overlay.tableName && overlay.fieldName) {
            var obj;
            switch (overlay.tableName) {
                case 'image':
                    obj = image;
                    break;
                case 'series':
                    obj = image.series;
                    break;
                case 'study':
                    obj = image.series.study;
                    break;
                case 'patient':
                    obj = image.series.study.patient;
                    break;
                default:
                    this.logService.error(this.logPrefix + "Invalid table name " + overlay.tableName);
                    return "Error!";
            }
            tagValue = obj[overlay.fieldName];
        }
        else {
            var tagString = this.getTagString(overlay.groupNumber, overlay.elementNumber);
            if (tagString === "x0011101c") {
                tagValue = "Measure at anatomy";
            }
            else {
                tagValue = image.cornerStoneImage.data.string(tagString);
            }
        }
        return tagValue === undefined ? "" : tagValue;
    };
    DicomImageService.prototype.decimalToHexString = function (decimal, padding) {
        var hex = Number(decimal).toString(16);
        padding = typeof (padding) === "undefined" || padding === null ? 2 : padding;
        while (hex.length < padding) {
            hex = "0" + hex;
        }
        return hex;
    };
    DicomImageService.prototype.getTagString = function (group, element) {
        return 'x' + this.decimalToHexString(group, 4) + this.decimalToHexString(element, 4);
    };
    DicomImageService.prototype.addOverlayDisplayList = function (overlayDisplayList, overlayList, alignLeft, image, canvasWidth, canvasHeight, canvasContext, fontHeight) {
        var _this = this;
        var lineWidth = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        overlayList.forEach(function (overlayConfig) {
            var displayItem = new _models_overlay__WEBPACK_IMPORTED_MODULE_3__["TextOverlayDisplayItem"]();
            displayItem.align = alignLeft ? "left" : "right";
            var posX = overlayConfig.gridX / 2 * canvasWidth;
            if (overlayConfig.gridX === 0) {
                posX += 5;
            }
            else if (overlayConfig.gridX === 2) {
                posX -= 5;
            }
            else if (overlayConfig.gridX === 1) {
                alignLeft ? posX += 5 : posX -= 5;
            }
            var posY = overlayConfig.gridY / 2 * canvasHeight;
            if (overlayConfig.gridY === 0) {
                posY += fontHeight + 3;
            }
            else if (overlayConfig.gridY === 2) {
                posY += fontHeight; // ? why
            }
            var height = fontHeight + 4;
            if (overlayConfig.offsetY > 0) {
                posY += height * (overlayConfig.offsetY - 1);
            }
            else {
                posY += height * overlayConfig.offsetY;
            }
            displayItem.id = overlayConfig.overlayId;
            displayItem.text = overlayConfig.prefix + _this.getTextOverlayValue(image, overlayConfig) + overlayConfig.suffix;
            var offSetY = overlayConfig.offsetY + 6;
            displayItem.posX = posX;
            displayItem.posX += alignLeft ? lineWidth[offSetY] : -lineWidth[offSetY];
            displayItem.posY = posY;
            lineWidth[offSetY] += canvasContext.measureText(displayItem.text).width + 10;
            overlayDisplayList.push(displayItem);
        });
    };
    DicomImageService.prototype.getGraphicOverlayData = function (image, groupString) {
        var element = image.cornerStoneImage.data.elements[groupString + "3000"];
        var rows = image.cornerStoneImage.data.uint16(groupString + "0010");
        var cols = image.cornerStoneImage.data.uint16(groupString + "0011");
        var type = image.cornerStoneImage.data.string(groupString + "0040");
        var startX = image.cornerStoneImage.data.uint16(groupString + "0050", 0);
        var startY = image.cornerStoneImage.data.uint16(groupString + "0050", 1);
        if (!element || !rows || !cols || !type || !startX || !startY) {
            return undefined;
        }
        var graphicOverlayData = new _models_overlay__WEBPACK_IMPORTED_MODULE_3__["GraphicOverlayData"];
        graphicOverlayData.rows = rows;
        graphicOverlayData.cols = cols;
        graphicOverlayData.type = type;
        graphicOverlayData.startX = startX;
        graphicOverlayData.startY = startY;
        var imageWidth = image.width();
        var imageHeight = image.height();
        for (var i = 0; i < element.length; i++) {
            var byte = image.cornerStoneImage.data.byteArray[element.dataOffset + i];
            if (byte === 0) {
                continue;
            }
            var y = Math.floor(i * 8 / cols);
            var x = i * 8 % cols;
            var flag = 128;
            for (var j = 0; j < 8; j++) {
                if (byte & flag) {
                    var px = x - j + startX - 1;
                    var py = y + startY - 1;
                    if (px >= 0 && px < imageWidth && py >= 0 && py < imageHeight) {
                        graphicOverlayData.dataList.push({ x: px, y: py });
                    }
                }
                flag = flag >> 1;
            }
        }
        graphicOverlayData.desc = image.cornerStoneImage.data.string(groupString + "0022");
        graphicOverlayData.label = image.cornerStoneImage.data.string(groupString + "1500");
        return graphicOverlayData;
    };
    DicomImageService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _services_configuration_service__WEBPACK_IMPORTED_MODULE_2__["ConfigurationService"],
            _services_log_service__WEBPACK_IMPORTED_MODULE_4__["LogService"]])
    ], DicomImageService);
    return DicomImageService;
}());



/***/ }),

/***/ "./src/app/services/hanging-protocol.service.ts":
/*!******************************************************!*\
  !*** ./src/app/services/hanging-protocol.service.ts ***!
  \******************************************************/
/*! exports provided: HangingProtocolService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HangingProtocolService", function() { return HangingProtocolService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _models_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/layout */ "./src/app/models/layout.ts");
/* harmony import */ var _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/hanging-protocol */ "./src/app/models/hanging-protocol.ts");
/* harmony import */ var _log_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./log.service */ "./src/app/services/log.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var HangingProtocolService = /** @class */ (function () {
    function HangingProtocolService(logService) {
        this.logService = logService;
        this.defaultGroupHangingProtocol = _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByStudy;
        this.defaultImageHangingPrococal = _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].Auto;
        this.groupLayoutNumberList = [11, 11, 12, 22, 22];
        this.imageLayoutNumberList = [11, 11, 12, 22, 22, 23, 23, 33];
        this.groupHangingDataList = [
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByPatent, name: "Patient", tip: "Group Image by Paitient" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByStudy, name: "Study", tip: "Group Image by Study" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].BySeries, name: "Series", tip: "Group Image by Series" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang, name: "FreeHang", tip: "Free Hang" }
        ];
        this.groupLayoutDataList = [
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_1X1, name: "Layout_1X1", tip: "Layout Group by 1X1" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_2X1, name: "Layout_1X2", tip: "Layout Group by 1X2" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_1X2, name: "Layout_2X1", tip: "Layout Group by 2X1" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_2X2, name: "Layout_2X2", tip: "Layout Group by 2X2" },
            { groupHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang_3X3, name: "Layout_3X3", tip: "Layout Group by 3X3" }
        ];
        this.imageLayoutDataList = [
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].Auto, name: "tile", tip: "Layout Image by Modality" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_1X1, name: "SubLayout_1X1", tip: "Layout Image by 1X1" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_2X1, name: "SubLayout_1X2", tip: "Layout Image by 1X2" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_1X2, name: "SubLayout_2X1", tip: "Layout Image by 2X1" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_2X2, name: "SubLayout_2X2", tip: "Layout Image by 2X2" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_3X3, name: "SubLayout_3X3", tip: "Layout Image by 3X3" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_4X3, name: "SubLayout_3X4", tip: "Layout Image by 3X4" },
            { imageHangingProtocol: _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang_6X5, name: "SubLayout_5X6", tip: "Layout Image by 5X6" }
        ];
    }
    HangingProtocolService.prototype.getDefaultGroupHangingProtocol = function () {
        return this.defaultGroupHangingProtocol;
    };
    HangingProtocolService.prototype.getDefaultImageHangingPrococal = function () {
        return this.defaultImageHangingPrococal;
    };
    HangingProtocolService.prototype.getGroupHangingDataList = function () {
        return this.groupHangingDataList;
    };
    HangingProtocolService.prototype.getDefaultGroupHangingData = function () {
        return this.groupHangingDataList[1];
    };
    HangingProtocolService.prototype.getGroupLayoutDataList = function () {
        return this.groupLayoutDataList;
    };
    HangingProtocolService.prototype.getDefaultGroupLayoutData = function () {
        return this.groupLayoutDataList[0];
    };
    HangingProtocolService.prototype.getImageLayoutDataList = function () {
        return this.imageLayoutDataList;
    };
    HangingProtocolService.prototype.getDefaultImageLayoutData = function () {
        return this.imageLayoutDataList[0];
    };
    HangingProtocolService.prototype.applyGroupHangingProtocol = function (viewerShellData, groupHangingProtocol) {
        this.logService.info("HP service: applyGroupHangingProtocol to viewer " + viewerShellData.getName() + ", protocol is " + _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"][groupHangingProtocol]);
        if (groupHangingProtocol >= _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].FreeHang) {
            var groupMatrix = _models_layout__WEBPACK_IMPORTED_MODULE_1__["LayoutMatrix"].fromNumber(groupHangingProtocol);
            if (!groupMatrix.equal(viewerShellData.groupMatrix)) {
                viewerShellData.groupMatrix = groupMatrix;
                viewerShellData.removeAllEmptyGroup();
                // For the existing group, only change its position
                for (var i = 0; i < viewerShellData.groupDataList.length; i++) {
                    viewerShellData.updateGroupPositionFromIndex(i);
                }
            }
        }
        else {
            var groupCount = void 0;
            if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByPatent) {
                groupCount = viewerShellData.getTotalPatientCount();
            }
            else if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByStudy) {
                groupCount = viewerShellData.getTotalStudyCount();
            }
            else if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].BySeries) {
                groupCount = viewerShellData.getTotalSeriesCount();
            }
            else {
                alert("applyGroupHangingProtocol() => Invalid Group Hanging Protocol : " + groupHangingProtocol);
                return;
            }
            viewerShellData.groupHangingProtocol = groupHangingProtocol;
            if (groupCount !== viewerShellData.groupCount) {
                viewerShellData.cleanGroup();
                viewerShellData.groupCount = groupCount;
                viewerShellData.groupMatrix = this.getGroupLayoutMatrixFromCount(groupCount);
                for (var i = 0; i < groupCount; i++) {
                    viewerShellData.addGroup(false);
                }
            }
        }
        viewerShellData.normalizeGroupList();
    };
    HangingProtocolService.prototype.applyImageHangingProtocol = function (groupData, imageHangingProtocol) {
        this.logService.info("HP service: applyImageHangingProtocol to Group" + groupData.getId() + ", protocol is " + _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"][imageHangingProtocol]);
        groupData.imageHangingProtocol = imageHangingProtocol;
        if (groupData.imageCount === 0) {
            // This is the first time to apply 
            this.createImageDataListOfGroup(groupData);
            groupData.normalizeImageList();
        }
        else {
            var imageMatrix = void 0;
            if (imageHangingProtocol >= _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].FreeHang) {
                imageMatrix = _models_layout__WEBPACK_IMPORTED_MODULE_1__["LayoutMatrix"].fromNumber(imageHangingProtocol);
            }
            else {
                if (imageHangingProtocol !== _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["ImageHangingProtocol"].Auto) {
                    alert("applyImageHangingProtocol() => Invalid Image Hanging Protocol : " + imageHangingProtocol);
                    return;
                }
                imageMatrix = this.getImageLayoutMatrixFromCount(groupData.imageCount);
            }
            if (!imageMatrix.equal(groupData.imageMatrix)) {
                groupData.imageMatrix = imageMatrix;
                groupData.removeAllEmptyImage();
                // For the image cell that contains image, only change its position
                for (var i = 0; i < groupData.imageDataList.length; i++) {
                    groupData.updateImagePositionFromIndex(i);
                }
                groupData.normalizeImageList();
            }
        }
    };
    HangingProtocolService.prototype.createImageDataListOfGroup = function (groupData) {
        var groupIndex = groupData.getIndex();
        var groupHangingProtocol = groupData.viewerShellData.groupHangingProtocol;
        var ret = false;
        if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByPatent) {
            // GroupIndex is the patient index
            ret = this.createImageDataListByPatient(groupData, groupIndex);
        }
        else if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].ByStudy) {
            // GroupIndex is the study index
            ret = this.createImageDataListByStudy(groupData, groupIndex);
        }
        else if (groupHangingProtocol === _models_hanging_protocol__WEBPACK_IMPORTED_MODULE_2__["GroupHangingProtocol"].BySeries) {
            // GroupIndex is the series index
            ret = this.createImageDataListBySeries(groupData, groupIndex);
        }
        else {
            alert("createImageListOfGroup() => Invalid Group Hanging Protocol : " + groupHangingProtocol);
        }
        if (!ret) {
            groupData.setEmpty();
        }
    };
    HangingProtocolService.prototype.createImageDataListByPatient = function (groupData, patientIndex) {
        var patient = groupData.viewerShellData.getPatientByIndex(patientIndex);
        if (patient === null || patient === undefined) {
            // This is an empty group
            return false;
        }
        var imageList = groupData.viewerShellData.getAllImageOfPatient(patient);
        return this.createImageDataListFromImageList(groupData, imageList);
    };
    HangingProtocolService.prototype.createImageDataListByStudy = function (groupData, studyIndex) {
        var study = groupData.viewerShellData.getStudyByIndex(studyIndex);
        if (study === null || study === undefined) {
            // This is an empty group
            return false;
        }
        var imageList = groupData.viewerShellData.getAllImageOfStudy(study);
        return this.createImageDataListFromImageList(groupData, imageList);
    };
    HangingProtocolService.prototype.createImageDataListBySeries = function (groupData, seriesIndex) {
        var series = groupData.viewerShellData.getSeriesByIndex(seriesIndex);
        if (series === null || series === undefined) {
            // This is an empty group
            return false;
        }
        return this.createImageDataListFromImageList(groupData, series.imageList);
    };
    HangingProtocolService.prototype.createImageDataListFromImageList = function (groupData, imageList) {
        groupData.imageDataList = new Array();
        groupData.imageCount = imageList.length;
        groupData.imageMatrix = this.getImageLayoutMatrixFromCount(groupData.imageCount);
        for (var i = 0; i < imageList.length; i++) {
            groupData.addImage(imageList[i]);
        }
        return true;
    };
    HangingProtocolService.prototype.getGroupLayoutMatrixFromCount = function (count) {
        return this.getLayoutMatrixFromCount(count, this.groupLayoutNumberList);
    };
    HangingProtocolService.prototype.getImageLayoutMatrixFromCount = function (count) {
        return this.getLayoutMatrixFromCount(count, this.imageLayoutNumberList);
    };
    HangingProtocolService.prototype.getLayoutMatrixFromCount = function (count, layoutNumberList) {
        var matrixNumber = 33;
        if (count < layoutNumberList.length) {
            matrixNumber = layoutNumberList[count];
        }
        return _models_layout__WEBPACK_IMPORTED_MODULE_1__["LayoutMatrix"].fromNumber(matrixNumber);
    };
    HangingProtocolService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_log_service__WEBPACK_IMPORTED_MODULE_3__["LogService"]])
    ], HangingProtocolService);
    return HangingProtocolService;
}());



/***/ }),

/***/ "./src/app/services/image-selector.service.ts":
/*!****************************************************!*\
  !*** ./src/app/services/image-selector.service.ts ***!
  \****************************************************/
/*! exports provided: ImageSelectorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageSelectorService", function() { return ImageSelectorService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var ImageSelectorService = /** @class */ (function () {
    function ImageSelectorService() {
        // Observable string sources
        this.imageSelectedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable number sources
        this.imageLayoutChangedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable Image sources
        this.thumbnailSelectedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable boolean sources
        this.imagePageNavigatedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string streams
        this.imageSelected$ = this.imageSelectedSource.asObservable();
        // Observable number streams
        this.imageLayoutChanged$ = this.imageLayoutChangedSource.asObservable();
        // Observable Image sources
        this.thumbnailSelected$ = this.thumbnailSelectedSource.asObservable();
        // Observable boolean sources
        this.imagePageNavigated$ = this.imagePageNavigatedSource.asObservable();
    }
    // Service string commands
    ImageSelectorService.prototype.selectImage = function (viewerImageData) {
        this.imageSelectedSource.next(viewerImageData);
    };
    // Service number commands
    ImageSelectorService.prototype.changeImageLayout = function (imageLayoutStyle) {
        this.imageLayoutChangedSource.next(imageLayoutStyle);
    };
    ImageSelectorService.prototype.selectThumbnail = function (image) {
        this.thumbnailSelectedSource.next(image);
    };
    ImageSelectorService.prototype.navigateImagePage = function (up) {
        this.imagePageNavigatedSource.next(up);
    };
    ImageSelectorService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        })
    ], ImageSelectorService);
    return ImageSelectorService;
}());



/***/ }),

/***/ "./src/app/services/log.service.ts":
/*!*****************************************!*\
  !*** ./src/app/services/log.service.ts ***!
  \*****************************************/
/*! exports provided: LogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogService", function() { return LogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var LogService = /** @class */ (function () {
    function LogService() {
    }
    LogService.prototype.error = function (log) {
        this.logInternal(log, 'E');
    };
    LogService.prototype.warning = function (log) {
        this.logInternal(log, 'W');
    };
    LogService.prototype.info = function (log) {
        this.logInternal(log, 'I');
    };
    LogService.prototype.debug = function (log) {
        this.logInternal(log, 'D');
    };
    LogService.prototype.seperator = function () {
        console.log('');
    };
    LogService.prototype.formatNumberToString = function (num, maxLen) {
        if (maxLen === void 0) { maxLen = 2; }
        if (maxLen == 2) {
            return num < 10 ? '0' + num : '' + num;
        }
        else {
            return num < 10 ? '00' + num : num < 100 ? '0' + num : '' + num;
        }
    };
    LogService.prototype.logInternal = function (log, level) {
        var cur = new Date();
        var timeStamp = cur.getFullYear() + '-' + this.formatNumberToString(cur.getMonth() + 1) + '-' + this.formatNumberToString(cur.getDate())
            + ' ' + this.formatNumberToString(cur.getHours()) + ':' + this.formatNumberToString(cur.getMinutes())
            + ':' + this.formatNumberToString(cur.getSeconds()) + '.' + this.formatNumberToString(cur.getMilliseconds(), 3);
        var content = timeStamp + ' ' + level + ' ' + log;
        console.log(content);
    };
    LogService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], LogService);
    return LogService;
}());



/***/ }),

/***/ "./src/app/services/shell-navigator.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/shell-navigator.service.ts ***!
  \*****************************************************/
/*! exports provided: ShellNavigatorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShellNavigatorService", function() { return ShellNavigatorService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ShellNavigatorService = /** @class */ (function () {
    function ShellNavigatorService() {
        this.viewerShellDataList = new Array();
        // Observable string sources
        this.shellSelectedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string streams
        this.shellSelected$ = this.shellSelectedSource.asObservable();
        // Observable string sources
        this.shellCreatedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string streams
        this.shellCreated$ = this.shellCreatedSource.asObservable();
        // Observable string sources
        this.shellDeletedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable string streams
        this.shellDeleted$ = this.shellDeletedSource.asObservable();
    }
    // Service string commands
    ShellNavigatorService.prototype.shellCreated = function (viewerShellData) {
        this.shellCreatedSource.next(viewerShellData);
    };
    // Service string commands
    ShellNavigatorService.prototype.shellSelected = function (viewerShellData) {
        this.shellSelectedSource.next(viewerShellData);
    };
    ShellNavigatorService.prototype.shellNavigate = function (viewerShellData) {
        if (!this.isViewerShellOpened(viewerShellData)) {
            this.viewerShellDataList.push(viewerShellData);
            this.shellCreated(viewerShellData);
        }
        else {
            this.shellSelected(viewerShellData);
        }
        this.viewerShellDataHighlighted = viewerShellData;
    };
    ShellNavigatorService.prototype.shellDelete = function (viewerShellData) {
        if (this.isViewerShellOpened(viewerShellData)) {
            var index = this.viewerShellDataList.indexOf(viewerShellData);
            this.viewerShellDataList =
                this.viewerShellDataList.filter(function (value, index, array) { return value.getId() !== viewerShellData.getId(); });
            if (index >= this.viewerShellDataList.length) {
                index--;
            }
            if (this.viewerShellDataHighlighted === viewerShellData) {
                if (index >= 0) {
                    this.viewerShellDataHighlighted = this.viewerShellDataList[index];
                }
                else {
                    this.viewerShellDataHighlighted = null;
                }
                this.shellNavigate(this.viewerShellDataHighlighted);
                this.shellDeletedSource.next(viewerShellData);
            }
            return this.viewerShellDataHighlighted;
        }
        return null;
    };
    ShellNavigatorService.prototype.isViewerShellOpened = function (viewerShellData) {
        if (viewerShellData === null)
            return true;
        return this.viewerShellDataList.some(function (value, index, array) { return value.getId() === viewerShellData.getId(); });
    };
    ShellNavigatorService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [])
    ], ShellNavigatorService);
    return ShellNavigatorService;
}());



/***/ }),

/***/ "./src/app/services/view-context.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/view-context.service.ts ***!
  \**************************************************/
/*! exports provided: ViewContextEnum, OperationEnum, OperationData, ViewContext, ViewContextService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewContextEnum", function() { return ViewContextEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperationEnum", function() { return OperationEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperationData", function() { return OperationData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewContext", function() { return ViewContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewContextService", function() { return ViewContextService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ViewContextEnum;
(function (ViewContextEnum) {
    ViewContextEnum[ViewContextEnum["Select"] = 1] = "Select";
    ViewContextEnum[ViewContextEnum["Pan"] = 2] = "Pan";
    ViewContextEnum[ViewContextEnum["WL"] = 3] = "WL";
    ViewContextEnum[ViewContextEnum["Zoom"] = 4] = "Zoom";
    ViewContextEnum[ViewContextEnum["Magnify"] = 5] = "Magnify";
    ViewContextEnum[ViewContextEnum["RoiZoom"] = 6] = "RoiZoom";
    ViewContextEnum[ViewContextEnum["CreateAnn"] = 7] = "CreateAnn";
    ViewContextEnum[ViewContextEnum["RoiWl"] = 8] = "RoiWl";
    ViewContextEnum[ViewContextEnum["SelectAnn"] = 9] = "SelectAnn";
})(ViewContextEnum || (ViewContextEnum = {}));
var OperationEnum;
(function (OperationEnum) {
    OperationEnum[OperationEnum["Rotate"] = 1] = "Rotate";
    OperationEnum[OperationEnum["Flip"] = 2] = "Flip";
    OperationEnum[OperationEnum["Invert"] = 3] = "Invert";
    OperationEnum[OperationEnum["ShowAnnotation"] = 4] = "ShowAnnotation";
    OperationEnum[OperationEnum["ShowOverlay"] = 5] = "ShowOverlay";
    OperationEnum[OperationEnum["ShowRuler"] = 6] = "ShowRuler";
    OperationEnum[OperationEnum["DeleteAnnotation"] = 7] = "DeleteAnnotation";
    OperationEnum[OperationEnum["Save"] = 8] = "Save";
    OperationEnum[OperationEnum["SetContext"] = 9] = "SetContext";
    OperationEnum[OperationEnum["ManualWL"] = 10] = "ManualWL";
    OperationEnum[OperationEnum["FitHeight"] = 11] = "FitHeight";
    OperationEnum[OperationEnum["FitWidth"] = 12] = "FitWidth";
    OperationEnum[OperationEnum["FitWindow"] = 13] = "FitWindow";
    OperationEnum[OperationEnum["FitOriginal"] = 14] = "FitOriginal";
    OperationEnum[OperationEnum["Reset"] = 15] = "Reset";
    OperationEnum[OperationEnum["ShowGraphicOverlay"] = 16] = "ShowGraphicOverlay";
    OperationEnum[OperationEnum["ToggleKeyImage"] = 17] = "ToggleKeyImage";
    OperationEnum[OperationEnum["Marker"] = 18] = "Marker";
})(OperationEnum || (OperationEnum = {}));
var OperationData = /** @class */ (function () {
    function OperationData(type, data) {
        this.type = type;
        this.data = data;
    }
    return OperationData;
}());

var ViewContext = /** @class */ (function () {
    function ViewContext(action, data) {
        if (data === void 0) { data = undefined; }
        this._action = ViewContextEnum.Pan;
        this._action = action;
        this._data = data;
    }
    Object.defineProperty(ViewContext.prototype, "action", {
        get: function () {
            return this._action;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContext.prototype, "data", {
        get: function () {
            return this._data;
        },
        enumerable: true,
        configurable: true
    });
    return ViewContext;
}());

var ViewContextService = /** @class */ (function () {
    function ViewContextService() {
        this._showAnnotation = true;
        this._showOverlay = true;
        this._showRuler = true;
        this._showGraphicOverlay = true;
        this._keyImage = false;
        this.viewContextChangedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.viewContextChanged$ = this.viewContextChangedSource.asObservable();
        this.operationSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.onOperation$ = this.operationSource.asObservable();
        this._curContext = new ViewContext(ViewContextEnum.Select);
    }
    Object.defineProperty(ViewContextService.prototype, "curContext", {
        get: function () {
            return this._curContext;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "previousContext", {
        get: function () {
            return this._previousContext;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "showAnnotation", {
        get: function () {
            return this._showAnnotation;
        },
        set: function (bShow) {
            this._showAnnotation = bShow;
            var data = new OperationData(OperationEnum.ShowAnnotation, { show: bShow });
            this.operationSource.next(data);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "showOverlay", {
        get: function () {
            return this._showOverlay;
        },
        set: function (bShow) {
            this._showOverlay = bShow;
            var data = new OperationData(OperationEnum.ShowOverlay, { show: bShow });
            this.operationSource.next(data);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "showRuler", {
        get: function () {
            return this._showRuler;
        },
        set: function (bShow) {
            this._showRuler = bShow;
            var data = new OperationData(OperationEnum.ShowRuler, { show: bShow });
            this.operationSource.next(data);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewContextService.prototype, "showGraphicOverlay", {
        get: function () {
            return this._showGraphicOverlay;
        },
        set: function (bShow) {
            this._showGraphicOverlay = bShow;
            var data = new OperationData(OperationEnum.ShowGraphicOverlay, { show: bShow });
            this.operationSource.next(data);
        },
        enumerable: true,
        configurable: true
    });
    ViewContextService.prototype.onOperation = function (data) {
        switch (data.type) {
            case OperationEnum.ShowAnnotation: {
                this.showAnnotation = !this.showAnnotation;
                break;
            }
            case OperationEnum.ShowOverlay: {
                this.showOverlay = !this.showOverlay;
                break;
            }
            case OperationEnum.ShowRuler: {
                this.showRuler = !this.showRuler;
                break;
            }
            case OperationEnum.ShowGraphicOverlay: {
                this.showGraphicOverlay = !this.showGraphicOverlay;
                break;
            }
            default:
                this.operationSource.next(data);
        }
    };
    ViewContextService.prototype.setContext = function (context, data) {
        if (data === void 0) { data = undefined; }
        var curContext = new ViewContext(context, data);
        this._previousContext = this._curContext;
        this._curContext = curContext;
        if (this._curContext.action !== this._previousContext.action) {
            this.viewContextChangedSource.next(this._curContext);
        }
        else if (this._curContext.action === ViewContextEnum.CreateAnn) {
            //if want to create the same object even if current object is not finished yet, we still change context to delete it. 
            this.viewContextChangedSource.next(this._curContext);
        }
    };
    ViewContextService.prototype.isImageToolBarButtonChecked = function (buttonData) {
        switch (buttonData.operationData.type) {
            case OperationEnum.ShowAnnotation:
                return this._showAnnotation;
            case OperationEnum.ShowOverlay:
                return this._showOverlay;
            case OperationEnum.ShowRuler:
                return this._showRuler;
            case OperationEnum.ShowGraphicOverlay:
                return this._showGraphicOverlay;
            case OperationEnum.ToggleKeyImage:
                return this._keyImage;
            default:
                return buttonData.operationData.data === this._curContext.action;
        }
    };
    ViewContextService.prototype.isImageToolBarButtonCheckStyle = function (buttonData) {
        switch (buttonData.operationData.type) {
            case OperationEnum.ShowAnnotation:
            case OperationEnum.ShowOverlay:
            case OperationEnum.ShowRuler:
            case OperationEnum.ShowGraphicOverlay:
            case OperationEnum.SetContext:
            case OperationEnum.ToggleKeyImage:
                return true;
            default:
                return false;
        }
    };
    ViewContextService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [])
    ], ViewContextService);
    return ViewContextService;
}());



/***/ }),

/***/ "./src/app/services/worklist.service.ts":
/*!**********************************************!*\
  !*** ./src/app/services/worklist.service.ts ***!
  \**********************************************/
/*! exports provided: WorklistService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorklistService", function() { return WorklistService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _models_shortcut__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/shortcut */ "./src/app/models/shortcut.ts");
/* harmony import */ var _database_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./database.service */ "./src/app/services/database.service.ts");
/* harmony import */ var _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/viewer-shell-data */ "./src/app/models/viewer-shell-data.ts");
/* harmony import */ var _hanging_protocol_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hanging-protocol.service */ "./src/app/services/hanging-protocol.service.ts");
/* harmony import */ var _shell_navigator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shell-navigator.service */ "./src/app/services/shell-navigator.service.ts");
/* harmony import */ var _models_messageBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../models/messageBox */ "./src/app/models/messageBox.ts");
/* harmony import */ var _dialog_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dialog.service */ "./src/app/services/dialog.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var WorklistService = /** @class */ (function () {
    function WorklistService(databaseService, shellNavigatorService, hangingProtocolService, dialogService) {
        this.databaseService = databaseService;
        this.shellNavigatorService = shellNavigatorService;
        this.hangingProtocolService = hangingProtocolService;
        this.dialogService = dialogService;
        this.querying = false;
        this.bDisableLoadImageButton = true;
        this.bDisableLoadKeyImage = true;
        this.bDisableChangeImageSeriesOrder = true;
        this.bDisableReassign = true;
        this.bDisableTransfer = true;
        this.bDisableTagEdit = true;
        this.bDisableDeleteStudy = true;
        this.bDisableSetReadBtn = true;
        this.bDisableSetUnreadBtn = true;
        this.bDisableDeletePreventBtn = true;
        this.bDisableDeleteAllowBtn = true;
        this.loadedStudyCount = 0;
        this.isOffline = false;
        this.checkedStudiesCount = 0;
        this.studyOnlineReadyTicketCountMax = 0;
        this.studyOnlineReadyTicketCount = 0;
        this.maxStudyOnlineReadyTicketCount = 300;
        this.checkStudyOnlineReadyStatusInterval = 500;
        this.sumMaxCheckStudyOnlineReadyCount = 10;
        this._showHistoryStudies = true;
        // Observable Shortcut sources
        this.shortcutSelectedSource = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Observable Shortcut streams
        this.shortcutSelected$ = this.shortcutSelectedSource.asObservable();
        this._shortcut = new _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["Shortcut"]();
        this._shortcut.dataSource = _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["DataSource"].MiniPacs;
        this.loadedStudy = new Array();
    }
    Object.defineProperty(WorklistService.prototype, "shortcut", {
        get: function () {
            return this._shortcut;
        },
        set: function (value) {
            this._shortcut.copyConditionFrom(value);
            this.studies = this.onQueryStudies(1);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(WorklistService.prototype, "showHistoryStudies", {
        get: function () {
            return this._showHistoryStudies;
        },
        set: function (value) {
            this._showHistoryStudies = value;
        },
        enumerable: true,
        configurable: true
    });
    // Service Shortcut commands
    WorklistService.prototype.shortcutSelected = function (shortcut) {
        this.shortcutSelectedSource.next(shortcut);
    };
    WorklistService.prototype.onQueryStudies = function (pageIndex, sortItem) {
        var _this = this;
        if (sortItem === void 0) { sortItem = ""; }
        this.querying = true;
        if (this.isUsingLocalTestData()) {
            this.studies = this.databaseService.getStudiesTest();
            this.querying = false;
        }
        else {
            this.databaseService.getStudies(this._shortcut, pageIndex, sortItem).subscribe(function (recWorklistData) { return _this.formatStudies(recWorklistData); });
        }
        return this.studies;
    };
    WorklistService.prototype.onQueryShortcuts = function () {
        var _this = this;
        this.querying = true;
        if (this.isUsingLocalTestData()) {
            //this.shortcuts = this.databaseService.getShortcuts();
            this.querying = false;
        }
        else {
            this.databaseService.getShortcuts().subscribe(function (shortcuts) { return _this.formatShortcuts(shortcuts); });
        }
        return this.shortcuts;
    };
    WorklistService.prototype.onQueryWorklistCol = function () {
        var _this = this;
        this.querying = true;
        if (this.isUsingLocalTestData()) {
            //this.shortcuts = this.databaseService.getShortcuts();
            this.querying = false;
        }
        else {
            this.databaseService.getWorklistCol().subscribe(function (shortcuts) { return _this.formatShortcuts(shortcuts); });
        }
        return this.shortcuts;
    };
    WorklistService.prototype.onSaveShortcut = function (name) {
        var _this = this;
        if (this.isUsingLocalTestData()) {
            //this.studies = this.databaseService.getStudiesTest();
            //this.querying = false;
        }
        else {
            this._shortcut.name = name;
            this.databaseService.saveShortcut(this._shortcut).subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
        }
    };
    WorklistService.prototype.onDeleteShortcut = function (shortcut) {
        var _this = this;
        if (this.isUsingLocalTestData()) {
            //this.studies = this.databaseService.getStudiesTest();
            //this.querying = false;
        }
        else {
            //this._shortcut.name = name;
            this.databaseService.deleteShortcut(shortcut).subscribe(function (shortcuts) { return _this.refreshShortcuts(); });
        }
    };
    WorklistService.prototype.onShowSingleStudy = function (study) {
        var _this = this;
        var viewerShellData = new _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__["ViewerShellData"](this.hangingProtocolService.getDefaultGroupHangingProtocol(), this.hangingProtocolService.getDefaultImageHangingPrococal());
        if (this.isUsingLocalTestData()) {
            viewerShellData.addStudy(study);
            this.shellNavigatorService.shellNavigate(viewerShellData);
        }
        else {
            this.checkedStudiesUids = new Array();
            this.checkedStudiesUids.push(study.id);
            this.databaseService.getStudiesForDcmViewer(this.checkedStudiesUids, this.showHistoryStudies, false).subscribe(function (value) { return _this.checkOfflineBeforeLoadImage(1, value); });
        }
    };
    WorklistService.prototype.onShowAllCheckedStudy = function () {
        var _this = this;
        if (this.isUsingLocalTestData()) {
            var viewerShellData_1 = new _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__["ViewerShellData"](this.hangingProtocolService.getDefaultGroupHangingProtocol(), this.hangingProtocolService.getDefaultImageHangingPrococal());
            this.studies.forEach(function (study) {
                if (study.studyChecked) {
                    viewerShellData_1.addStudy(study);
                }
            });
            this.shellNavigatorService.shellNavigate(viewerShellData_1);
        }
        else {
            this.databaseService.getStudiesForDcmViewer(this.checkedStudiesUids, this.showHistoryStudies, false)
                .subscribe(function (value) { return _this.checkOfflineBeforeLoadImage(_this.checkedStudiesCount, value); });
        }
    };
    WorklistService.prototype.onLoadKeyImage = function () {
        var _this = this;
        var checkedCount = 0;
        this.studies.forEach(function (study) {
            if (study.studyChecked) {
                checkedCount++;
            }
        });
        this.studies.forEach(function (study) {
            if (study.studyChecked) {
                _this.databaseService.getStudiesForDcmViewer(_this.checkedStudiesUids, _this.showHistoryStudies, true)
                    .subscribe(function (value) { return _this.studyDetailsLoaded(checkedCount, value); });
            }
        });
    };
    WorklistService.prototype.onSetRead = function (study) {
        var _this = this;
        if (study === void 0) { study = null; }
        if (study == null) {
            this.studies.forEach(function (study) {
                if (study.studyChecked) {
                    _this.databaseService.setRead(study.studyInstanceUid)
                        .subscribe(function () { return _this.refreshShortcuts(); });
                }
            });
        }
        else {
            this.databaseService.setRead(study.studyInstanceUid)
                .subscribe(function () { return _this.refreshShortcuts(); });
        }
    };
    WorklistService.prototype.onSetUnread = function (study) {
        var _this = this;
        if (study === void 0) { study = null; }
        if (study == null) {
            this.studies.forEach(function (study) {
                if (study.studyChecked) {
                    _this.databaseService.setUnread(study.studyInstanceUid)
                        .subscribe(function () { return _this.refreshShortcuts(); });
                }
            });
        }
        else {
            this.databaseService.setUnread(study.studyInstanceUid)
                .subscribe(function () { return _this.refreshShortcuts(); });
        }
    };
    //onGetThumbnailFiles(study: Study) {
    //    this.databaseService.getThumbnailFiles(study)
    //        .subscribe(() => this.refreshShortcuts());
    //}
    WorklistService.prototype.onTransferStudy = function (study) {
        var _this = this;
        this.databaseService.transferStudy(study).subscribe(function () { return _this.refreshShortcuts(); });
    };
    WorklistService.prototype.onCheckStudyChanged = function (study) {
        var _this = this;
        if (study === void 0) { study = null; }
        var scanStatusCompletedCount = 0;
        var scanStatusEndedCount = 0;
        var deletePreventCount = 0;
        var deleteAllowCount = 0;
        var checkedStudyCount = 0;
        var onlineStudiesCount = 0;
        var offlineStudiesCount = 0;
        this.checkedStudies = new Array();
        this.checkedStudiesUids = new Array();
        this.checkedStudiesInstanceUids = new Array();
        this.checkedStudiesCount = 0;
        this.studies.forEach(function (study) {
            if (study.studyChecked) {
                _this.checkedStudies.push(study);
                _this.checkedStudiesUids.push(study.id);
                _this.checkedStudiesInstanceUids.push(study.studyInstanceUid);
                _this.checkedStudiesCount++;
                _this.checkedSingleStudy = study;
                checkedStudyCount++;
                if (study.scanStatus === "Completed") {
                    scanStatusCompletedCount++;
                }
                else if ((study.scanStatus === "Ended")) {
                    scanStatusEndedCount++;
                }
                if (study.reserved === "N") {
                    deletePreventCount++;
                }
                else if ((study.reserved === "Y")) {
                    deleteAllowCount++;
                }
                if (study.instanceAvailability === "Online") {
                    onlineStudiesCount++;
                }
                else if (study.instanceAvailability === "Offline") {
                    offlineStudiesCount++;
                }
            }
        });
        if (checkedStudyCount === 0) {
            this.initAllButton();
        }
        else {
            // Check Offline Image
            this.checkStudiesIncludeOffline(this.checkedStudiesInstanceUids);
            this.bDisableLoadImageButton = false;
            this.bDisableLoadKeyImage = false;
            this.bDisableChangeImageSeriesOrder = false;
            this.bDisableReassign = false;
            this.bDisableTransfer = false;
            this.bDisableTagEdit = false;
            this.bDisableDeleteStudy = false;
            // Scan Status
            if (scanStatusCompletedCount === 0) {
                this.bDisableSetUnreadBtn = true;
            }
            else {
                this.bDisableSetUnreadBtn = false;
            }
            if (scanStatusEndedCount === 0) {
                this.bDisableSetReadBtn = true;
            }
            else {
                this.bDisableSetReadBtn = false;
            }
            if (scanStatusCompletedCount !== 0 && scanStatusEndedCount !== 0) {
                this.bDisableSetReadBtn = true;
                this.bDisableSetUnreadBtn = true;
            }
            // reserved
            if (deletePreventCount === 0) {
                this.bDisableDeletePreventBtn = true;
            }
            else {
                this.bDisableDeletePreventBtn = false;
            }
            if (deleteAllowCount === 0) {
                this.bDisableDeleteAllowBtn = true;
            }
            else {
                this.bDisableDeleteAllowBtn = false;
            }
            if (deletePreventCount !== 0 && deleteAllowCount !== 0) {
                this.bDisableDeletePreventBtn = true;
                this.bDisableDeleteAllowBtn = true;
            }
            if (offlineStudiesCount !== 0) {
                this.bDisableDeleteAllowBtn = true;
                this.bDisableDeletePreventBtn = true;
                this.bDisableDeleteStudy = true;
                this.bDisableLoadKeyImage = true;
                this.bDisableReassign = true;
                this.bDisableSetReadBtn = true;
                this.bDisableSetUnreadBtn = true;
                this.bDisableTagEdit = true;
                this.bDisableTransfer = true;
                this.bDisableChangeImageSeriesOrder = true;
            }
        }
    };
    WorklistService.prototype.checkStudiesIncludeOffline = function (checkedStudiesUid) {
        var _this = this;
        this.databaseService.checkStudiesIncludeOffline(checkedStudiesUid).subscribe(function (offlineStudiesInfo) { return _this.collectOfflineStudiesInfo(offlineStudiesInfo); });
        ;
    };
    WorklistService.prototype.collectOfflineStudiesInfo = function (offlineStudiesInfo) {
        if (offlineStudiesInfo) {
            this.studyUSBOfflineList = offlineStudiesInfo.studyUSBOfflineList;
            this.popUpStudyOfflineMessage = offlineStudiesInfo.popUpStudyOfflineMessage;
            this.isOffline = offlineStudiesInfo.isOffline;
        }
        return offlineStudiesInfo.isOffline;
    };
    WorklistService.prototype.onDeletePrevent = function () {
        var _this = this;
        this.studies.forEach(function (study) {
            if (study.studyChecked) {
                _this.databaseService.setDeletePrevent(study.studyInstanceUid)
                    .subscribe(function () { return _this.refreshShortcuts(); });
            }
        });
    };
    WorklistService.prototype.onDeleteAllow = function () {
        var _this = this;
        this.studies.forEach(function (study) {
            if (study.studyChecked) {
                _this.databaseService.setDeleteAllow(study.studyInstanceUid)
                    .subscribe(function () { return _this.refreshShortcuts(); });
            }
        });
    };
    WorklistService.prototype.onDeleteStudy = function (deletionReason) {
        var _this = this;
        this.studies.forEach(function (study) {
            if (study.studyChecked) {
                _this.databaseService.deleteStudy(study.studyInstanceUid, deletionReason)
                    .subscribe(function () { return _this.refreshShortcuts(); });
            }
        });
    };
    WorklistService.prototype.isUsingLocalTestData = function () {
        return this._shortcut.dataSource === _models_shortcut__WEBPACK_IMPORTED_MODULE_2__["DataSource"].LocalTestData;
    };
    WorklistService.prototype.setDataSource = function (dataSource) {
        this._shortcut.dataSource = dataSource;
        this.studies = this.onQueryStudies(1);
        this.shortcuts = this.onQueryShortcuts();
    };
    WorklistService.prototype.onCleanCondition = function () {
        this.shortcut.clearCondition();
    };
    WorklistService.prototype.onQueryAllStudies = function () {
        this.shortcut.clearCondition();
        this.onQueryStudies(1);
        this.onQueryShortcuts();
    };
    WorklistService.prototype.onQueryTodayStudy = function () {
        this.shortcut.clearCondition();
        this.shortcut.studyDate = '1';
        this.onQueryStudies(1);
    };
    WorklistService.prototype.onQueryStudyByShortcut = function (shortcut) {
        this.shortcut = shortcut;
    };
    WorklistService.prototype.onUpdateStudy = function (study) {
        var _this = this;
        this.databaseService.updateStudy(study).subscribe(function (value) {
            if (value) {
                var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["MessageBoxContent"]();
                content.title = "Successful";
                content.messageText = "Update Patient Information Successfully.";
                content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["MessageBoxType"].Info;
                _this.dialogService.showMessageBox(content).subscribe();
                _this.refreshShortcuts();
            }
            else {
                var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["MessageBoxContent"]();
                content.title = "Failed";
                content.messageText = "Update Patient Information failed.";
                content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["MessageBoxType"].Error;
                _this.dialogService.showMessageBox(content).subscribe();
            }
        });
    };
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Private functions
    WorklistService.prototype.formatStudies = function (recWorklistData) {
        var studiesList = recWorklistData.studyList;
        for (var i = 0; i < studiesList.length; i++) {
            studiesList[i].studyChecked = false;
            studiesList[i].detailsLoaded = false;
            studiesList[i].bodyPartList = new Array();
            for (var j = 0; j < studiesList[i].seriesList.length; j++) {
                studiesList[i].seriesList[j].study = studiesList[i];
                if (!studiesList[i].bodyPartList.includes(studiesList[i].seriesList[j].localBodyPart)) {
                    studiesList[i].bodyPartList.push(studiesList[i].seriesList[j].localBodyPart);
                }
            }
        }
        this.studies = studiesList;
        this.pageCount = recWorklistData.pageCount;
        this.worklistColumns = recWorklistData.worklistColumns;
        for (var _i = 0, _a = recWorklistData.worklistColumns; _i < _a.length; _i++) {
            var worklistColumn = _a[_i];
            worklistColumn.shortcutType = this.shortcut;
        }
        for (var _b = 0, studiesList_1 = studiesList; _b < studiesList_1.length; _b++) {
            var study = studiesList_1[_b];
            for (var _c = 0, _d = recWorklistData.worklistColumns; _c < _d.length; _c++) {
                var worklistColumn = _d[_c];
                worklistColumn.studyCol = study;
            }
        }
        this.pages = Array.from(Array(this.pageCount), function (x, i) { return i; });
        this.querying = false;
    };
    WorklistService.prototype.formatShortcuts = function (shortcuts) {
        this.shortcuts = shortcuts;
    };
    WorklistService.prototype.refreshShortcuts = function () {
        this.onQueryStudies(1);
        this.onQueryShortcuts();
        this.initAllButton();
    };
    WorklistService.prototype.studyDetailsLoaded = function (allCheckedStudyCount, getStudies) {
        var _this = this;
        getStudies.forEach(function (value) {
            if (value) {
                _this.loadedStudy.push(value);
            }
        });
        if (this.loadedStudy.length === 0) {
            var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["MessageBoxContent"]();
            content.title = "No Key Image";
            content.messageText = "There is no key image!";
            content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["MessageBoxType"].Error;
            this.dialogService.showMessageBox(content).subscribe();
            this.loadedStudyCount = 0;
            return;
        }
        var viewerShellData = new _models_viewer_shell_data__WEBPACK_IMPORTED_MODULE_4__["ViewerShellData"](this.hangingProtocolService.getDefaultGroupHangingProtocol(), this.hangingProtocolService.getDefaultImageHangingPrococal());
        this.loadedStudy.forEach(function (value) {
            value.detailsLoaded = true;
            value.studyChecked = true;
            viewerShellData.addStudy(value);
        });
        this.shellNavigatorService.shellNavigate(viewerShellData);
        this.loadedStudy = new Array();
        this.loadedStudyCount = 0;
        this.refreshShortcuts();
        //}
    };
    WorklistService.prototype.checkOfflineBeforeLoadImage = function (allCheckedStudyCount, getStudies) {
        var _this = this;
        this.getStudies = getStudies;
        this.checkedStudiesCount = this.checkedStudiesCount;
        if (this.isOffline) {
            var content = new _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["MessageBoxContent"]();
            content.title = "Restore Offline Image";
            content.messageText = this.popUpStudyOfflineMessage;
            content.messageType = _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["MessageBoxType"].InfoCancel;
            content.callbackFunction = this.databaseService.studyOfflineInsertCDJobList;
            content.callbackOwner = this.databaseService;
            content.callbackArg = this.checkedStudiesInstanceUids;
            this.dialogService.showMessageBox(content).subscribe(function (val) {
                if (val.dialogResult === _models_messageBox__WEBPACK_IMPORTED_MODULE_7__["DialogResult"].Ok) {
                    _this.studyDetailsLoaded(_this.checkedStudiesCount, _this.getStudies);
                }
            });
        }
        else {
            this.studyDetailsLoaded(this.checkedStudiesCount, this.getStudies);
        }
    };
    WorklistService.prototype.initAllButton = function () {
        this.bDisableLoadImageButton = true;
        this.bDisableLoadKeyImage = true;
        this.bDisableChangeImageSeriesOrder = true;
        this.bDisableReassign = true;
        this.bDisableTransfer = true;
        this.bDisableTagEdit = true;
        this.bDisableDeleteStudy = true;
        this.bDisableSetReadBtn = true;
        this.bDisableSetUnreadBtn = true;
        this.bDisableDeletePreventBtn = true;
        this.bDisableDeleteAllowBtn = true;
    };
    WorklistService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: "root"
        }),
        __metadata("design:paramtypes", [_database_service__WEBPACK_IMPORTED_MODULE_3__["DatabaseService"],
            _shell_navigator_service__WEBPACK_IMPORTED_MODULE_6__["ShellNavigatorService"],
            _hanging_protocol_service__WEBPACK_IMPORTED_MODULE_5__["HangingProtocolService"],
            _dialog_service__WEBPACK_IMPORTED_MODULE_8__["DialogService"]])
    ], WorklistService);
    return WorklistService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.error(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! D:\Work\Git\ImageSuite\WebPacs\Csh.ImageSuite.WebClient\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map